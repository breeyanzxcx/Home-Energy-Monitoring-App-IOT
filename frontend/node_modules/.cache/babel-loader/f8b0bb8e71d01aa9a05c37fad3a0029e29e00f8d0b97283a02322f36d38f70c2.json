{"ast":null,"code":"import React,{useState,useEffect}from'react';import Signup from'./components/Signup';import Login from'./components/Login';import ForgotPassword from'./components/ForgotPassword';import Dashboard from'./components/Dashboard';import Appliance from'./components/Appliance';import Profile from'./components/Profile';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[page,setPage]=useState('login');const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{const token=localStorage.getItem('token');const savedPage=localStorage.getItem('currentPage')||'dashboard';if(token){setIsAuthenticated(true);setPage(savedPage);}},[]);const handleSwitch=p=>{setPage(p);localStorage.setItem('currentPage',p);};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('currentPage');setIsAuthenticated(false);setPage('login');};return/*#__PURE__*/_jsx(\"div\",{className:\"text-center min-h-screen\",children:!isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[page==='signup'&&/*#__PURE__*/_jsx(Signup,{onSwitch:handleSwitch}),page==='login'&&/*#__PURE__*/_jsx(Login,{onSwitch:newPage=>{if(newPage==='dashboard'){setIsAuthenticated(true);}handleSwitch(newPage);}}),page==='forgot'&&/*#__PURE__*/_jsx(ForgotPassword,{onSwitch:handleSwitch})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[page==='dashboard'&&/*#__PURE__*/_jsx(Dashboard,{onSwitch:handleSwitch,onLogout:handleLogout}),page==='appliance'&&/*#__PURE__*/_jsx(Appliance,{onSwitch:handleSwitch,onLogout:handleLogout}),page==='profile'&&/*#__PURE__*/_jsx(Profile,{onSwitch:handleSwitch,onLogout:handleLogout})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Signup","Login","ForgotPassword","Dashboard","Appliance","Profile","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","page","setPage","isAuthenticated","setIsAuthenticated","token","localStorage","getItem","savedPage","handleSwitch","p","setItem","handleLogout","removeItem","className","children","onSwitch","newPage","onLogout"],"sources":["C:/Users/Brian/OneDrive/Desktop/HomeEnergyIOT/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Signup from './components/Signup';\r\nimport Login from './components/Login';\r\nimport ForgotPassword from './components/ForgotPassword';\r\nimport Dashboard from './components/Dashboard';\r\nimport Appliance from './components/Appliance';\r\nimport Profile from './components/Profile';\r\n\r\nfunction App() {\r\n  const [page, setPage] = useState('login');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const savedPage = localStorage.getItem('currentPage') || 'dashboard';\r\n    \r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n      setPage(savedPage);\r\n    }\r\n  }, []);\r\n\r\n  const handleSwitch = (p) => {\r\n    setPage(p);\r\n    localStorage.setItem('currentPage', p); \r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('currentPage');\r\n    setIsAuthenticated(false);\r\n    setPage('login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-center min-h-screen\">\r\n      {!isAuthenticated ? (\r\n        <>\r\n          {page === 'signup' && <Signup onSwitch={handleSwitch} />}\r\n          {page === 'login' && (\r\n            <Login\r\n              onSwitch={(newPage) => {\r\n                if (newPage === 'dashboard') {\r\n                  setIsAuthenticated(true);\r\n                }\r\n                handleSwitch(newPage);\r\n              }}\r\n            />\r\n          )}\r\n          {page === 'forgot' && <ForgotPassword onSwitch={handleSwitch} />}\r\n        </>\r\n      ) : (\r\n        <>\r\n          {page === 'dashboard' && <Dashboard onSwitch={handleSwitch} onLogout={handleLogout} />}\r\n          {page === 'appliance' && <Appliance onSwitch={handleSwitch} onLogout={handleLogout} />}\r\n          {page === 'profile' && <Profile onSwitch={handleSwitch} onLogout={handleLogout} />}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,OAAO,CAAC,CACzC,KAAM,CAACiB,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE7DC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,SAAS,CAAGF,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,EAAI,WAAW,CAEpE,GAAIF,KAAK,CAAE,CACTD,kBAAkB,CAAC,IAAI,CAAC,CACxBF,OAAO,CAACM,SAAS,CAAC,CACpB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BR,OAAO,CAACQ,CAAC,CAAC,CACVJ,YAAY,CAACK,OAAO,CAAC,aAAa,CAAED,CAAC,CAAC,CACxC,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzBN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCP,YAAY,CAACO,UAAU,CAAC,aAAa,CAAC,CACtCT,kBAAkB,CAAC,KAAK,CAAC,CACzBF,OAAO,CAAC,OAAO,CAAC,CAClB,CAAC,CAED,mBACEP,IAAA,QAAKmB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtC,CAACZ,eAAe,cACfJ,KAAA,CAAAF,SAAA,EAAAkB,QAAA,EACGd,IAAI,GAAK,QAAQ,eAAIN,IAAA,CAACP,MAAM,EAAC4B,QAAQ,CAAEP,YAAa,CAAE,CAAC,CACvDR,IAAI,GAAK,OAAO,eACfN,IAAA,CAACN,KAAK,EACJ2B,QAAQ,CAAGC,OAAO,EAAK,CACrB,GAAIA,OAAO,GAAK,WAAW,CAAE,CAC3Bb,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACAK,YAAY,CAACQ,OAAO,CAAC,CACvB,CAAE,CACH,CACF,CACAhB,IAAI,GAAK,QAAQ,eAAIN,IAAA,CAACL,cAAc,EAAC0B,QAAQ,CAAEP,YAAa,CAAE,CAAC,EAChE,CAAC,cAEHV,KAAA,CAAAF,SAAA,EAAAkB,QAAA,EACGd,IAAI,GAAK,WAAW,eAAIN,IAAA,CAACJ,SAAS,EAACyB,QAAQ,CAAEP,YAAa,CAACS,QAAQ,CAAEN,YAAa,CAAE,CAAC,CACrFX,IAAI,GAAK,WAAW,eAAIN,IAAA,CAACH,SAAS,EAACwB,QAAQ,CAAEP,YAAa,CAACS,QAAQ,CAAEN,YAAa,CAAE,CAAC,CACrFX,IAAI,GAAK,SAAS,eAAIN,IAAA,CAACF,OAAO,EAACuB,QAAQ,CAAEP,YAAa,CAACS,QAAQ,CAAEN,YAAa,CAAE,CAAC,EAClF,CACH,CACE,CAAC,CAEV,CAEA,cAAe,CAAAZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}