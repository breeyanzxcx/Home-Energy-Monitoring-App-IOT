{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN-project\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useCallback, useMemo } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, BarChart, Bar, ResponsiveContainer } from \"recharts\";\n// Import SVGs as URLs (CRA-compatible)\nimport dashboardIcon from '../assets/icons/dashboard.svg';\nimport applianceIcon from '../assets/icons/add.svg';\nimport profileIcon from '../assets/icons/profile.svg';\nimport logoutIcon from '../assets/icons/logout.svg';\nimport bellIcon from '../assets/icons/bell.svg';\n\n// ---------- Lightweight shadcn-style components ----------\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Card = ({\n  children,\n  className = \"\"\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `bg-white rounded-xl shadow-xl overflow-hidden ${className}`,\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 3\n}, this);\n_c = Card;\nconst CardHeader = ({\n  title,\n  controls\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-lg\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), controls && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-4\",\n      children: controls\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 31,\n  columnNumber: 3\n}, this);\n_c2 = CardHeader;\nconst CardContent = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-4 bg-white flex items-center justify-center min-h-[200px]\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 39,\n  columnNumber: 3\n}, this);\n_c3 = CardContent;\nconst NavItem = ({\n  onClick,\n  src,\n  label\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  onClick: onClick,\n  className: \"w-12 h-12 flex items-center justify-center rounded-md mb-3\\r bg-blue-500 bg-opacity-100 text-white cursor-pointer\\r hover:bg-blue-500 hover:bg-opacity-70 hover:text-yellow-300\\r transition-all duration-200\",\n  title: label,\n  children: /*#__PURE__*/_jsxDEV(\"img\", {\n    src: src,\n    alt: label,\n    className: \"w-6 h-6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 42,\n  columnNumber: 3\n}, this);\n\n// ---------- Enhanced Anomaly List Component with Graph Toggle ----------\n_c4 = NavItem;\nconst AnomalyList = ({\n  homeId,\n  viewMode = 'list'\n}) => {\n  _s();\n  var _selectedAnomaly$appl, _selectedAnomaly$room, _selectedAnomaly$aler;\n  const [anomalies, setAnomalies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedAnomaly, setSelectedAnomaly] = useState(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(null);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n  const [pendingAction, setPendingAction] = useState(null);\n  const API_BASE = \"http://localhost:5000/api\";\n\n  // Move severityConfig to the top to avoid initialization issues\n  const severityConfig = {\n    high: {\n      bg: \"bg-red-50\",\n      border: \"border-red-200\",\n      text: \"text-red-800\",\n      badge: \"bg-red-100 text-red-800 border-red-200\",\n      color: '#EF4444'\n    },\n    medium: {\n      bg: \"bg-orange-50\",\n      border: \"border-orange-200\",\n      text: \"text-orange-800\",\n      badge: \"bg-orange-100 text-orange-800 border-orange-200\",\n      color: '#F97316'\n    },\n    low: {\n      bg: \"bg-yellow-50\",\n      border: \"border-yellow-200\",\n      text: \"text-yellow-800\",\n      badge: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n      color: '#EAB308'\n    }\n  };\n  const statusConfig = {\n    active: {\n      badge: \"bg-blue-100 text-blue-800 border-blue-200\",\n      text: \"Active\"\n    },\n    acknowledged: {\n      badge: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n      text: \"Acknowledged\"\n    },\n    resolved: {\n      badge: \"bg-green-100 text-green-800 border-green-200\",\n      text: \"Resolved\"\n    }\n  };\n  useEffect(() => {\n    fetchAnomalies();\n  }, [homeId]);\n  const fetchAnomalies = async () => {\n    if (!homeId) {\n      setAnomalies([]);\n      setLoading(false);\n      return;\n    }\n    const token = localStorage.getItem(\"token\");\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_BASE}/anomalies?homeId=${homeId}&limit=50`,\n      // Increased limit for better graph data\n      {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setAnomalies(data);\n      } else {\n        setAnomalies([]);\n      }\n    } catch (e) {\n      console.error(\"Failed to fetch anomalies\", e);\n      setAnomalies([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Process data for the line graph\n  const getGraphData = useMemo(() => {\n    if (!anomalies.length) return [];\n\n    // Group anomalies by date\n    const anomaliesByDate = anomalies.reduce((acc, anomaly) => {\n      const date = new Date(anomaly.detected_at).toLocaleDateString();\n      if (!acc[date]) {\n        acc[date] = {\n          date,\n          total: 0,\n          high: 0,\n          medium: 0,\n          low: 0,\n          unusual_spike: 0,\n          high_energy: 0\n        };\n      }\n      acc[date].total++;\n      acc[date][anomaly.severity] = (acc[date][anomaly.severity] || 0) + 1;\n      acc[date][anomaly.alert_type] = (acc[date][anomaly.alert_type] || 0) + 1;\n      return acc;\n    }, {});\n\n    // Convert to array and sort by date\n    return Object.values(anomaliesByDate).sort((a, b) => new Date(a.date) - new Date(b.date)).slice(-15); // Last 15 days\n  }, [anomalies]);\n\n  // Get severity distribution for pie chart\n  const getSeverityData = useMemo(() => {\n    const severityCount = anomalies.reduce((acc, anomaly) => {\n      acc[anomaly.severity] = (acc[anomaly.severity] || 0) + 1;\n      return acc;\n    }, {});\n    return Object.entries(severityCount).map(([name, value]) => {\n      var _severityConfig$name;\n      return {\n        name: name.charAt(0).toUpperCase() + name.slice(1),\n        value,\n        fill: ((_severityConfig$name = severityConfig[name]) === null || _severityConfig$name === void 0 ? void 0 : _severityConfig$name.color) || '#6B7280'\n      };\n    });\n  }, [anomalies, severityConfig]);\n\n  // Get alert type distribution\n  const getAlertTypeData = useMemo(() => {\n    const typeCount = anomalies.reduce((acc, anomaly) => {\n      const type = anomaly.alert_type.replace(/_/g, ' ');\n      acc[type] = (acc[type] || 0) + 1;\n      return acc;\n    }, {});\n    return Object.entries(typeCount).map(([name, value]) => ({\n      name: name.charAt(0).toUpperCase() + name.slice(1),\n      value\n    }));\n  }, [anomalies]);\n  const handleResolveAnomaly = async anomalyId => {\n    const token = localStorage.getItem(\"token\");\n    setActionLoading(anomalyId);\n    try {\n      const res = await fetch(`${API_BASE}/anomalies/${anomalyId}/resolve`, {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        setAnomalies(prev => prev.filter(alert => alert._id !== anomalyId));\n        if ((selectedAnomaly === null || selectedAnomaly === void 0 ? void 0 : selectedAnomaly._id) === anomalyId) {\n          setShowDetailsModal(false);\n          setSelectedAnomaly(null);\n        }\n      } else {\n        console.error(\"Failed to resolve anomaly\");\n      }\n    } catch (e) {\n      console.error(\"Failed to resolve anomaly\", e);\n    } finally {\n      setActionLoading(null);\n    }\n  };\n  const handleDeleteAnomaly = async anomalyId => {\n    const token = localStorage.getItem(\"token\");\n    setActionLoading(anomalyId);\n    try {\n      const res = await fetch(`${API_BASE}/anomalies/${anomalyId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        setAnomalies(prev => prev.filter(alert => alert._id !== anomalyId));\n        if ((selectedAnomaly === null || selectedAnomaly === void 0 ? void 0 : selectedAnomaly._id) === anomalyId) {\n          setShowDetailsModal(false);\n          setSelectedAnomaly(null);\n        }\n      } else {\n        console.error(\"Failed to delete anomaly\");\n      }\n    } catch (e) {\n      console.error(\"Failed to delete anomaly\", e);\n    } finally {\n      setActionLoading(null);\n    }\n  };\n\n  // Confirmation handlers\n  const confirmResolveAnomaly = (anomalyId, anomalyName) => {\n    setPendingAction({\n      type: 'resolve',\n      id: anomalyId,\n      name: anomalyName\n    });\n    setShowConfirmModal(true);\n  };\n  const confirmDeleteAnomaly = (anomalyId, anomalyName) => {\n    setPendingAction({\n      type: 'delete',\n      id: anomalyId,\n      name: anomalyName\n    });\n    setShowConfirmModal(true);\n  };\n  const executePendingAction = () => {\n    if (!pendingAction) return;\n    if (pendingAction.type === 'resolve') {\n      handleResolveAnomaly(pendingAction.id);\n    } else if (pendingAction.type === 'delete') {\n      handleDeleteAnomaly(pendingAction.id);\n    }\n    setShowConfirmModal(false);\n    setPendingAction(null);\n  };\n  const cancelPendingAction = () => {\n    setShowConfirmModal(false);\n    setPendingAction(null);\n  };\n  const getTimeAgo = date => {\n    const now = new Date();\n    const diffMs = now - new Date(date);\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    if (diffDays < 7) return `${diffDays}d ago`;\n    return new Date(date).toLocaleDateString();\n  };\n\n  // Graph View Component\n  const GraphView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-4 shadow border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: anomalies.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Total Anomalies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-4 shadow border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-red-600\",\n          children: anomalies.filter(a => a.severity === 'high').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"High Severity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-4 shadow border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: anomalies.filter(a => a.status === 'active').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Active Alerts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-4 shadow border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold text-gray-900 mb-4\",\n        children: \"Anomaly Trends Over Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 200,\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: getGraphData,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"date\",\n            angle: -45,\n            textAnchor: \"end\",\n            height: 60,\n            interval: 0,\n            fontSize: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            fontSize: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"total\",\n            stroke: \"#3B82F6\",\n            name: \"Total Anomalies\",\n            strokeWidth: 2,\n            dot: {\n              fill: '#3B82F6',\n              strokeWidth: 2,\n              r: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"high\",\n            stroke: \"#EF4444\",\n            name: \"High Severity\",\n            strokeWidth: 2,\n            dot: {\n              fill: '#EF4444',\n              strokeWidth: 2,\n              r: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-4 shadow border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 mb-4\",\n          children: \"Severity Distribution\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 150,\n          children: /*#__PURE__*/_jsxDEV(PieChart, {\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: getSeverityData,\n              cx: \"50%\",\n              cy: \"50%\",\n              innerRadius: 40,\n              outerRadius: 60,\n              paddingAngle: 2,\n              dataKey: \"value\",\n              children: getSeverityData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: entry.fill\n              }, `cell-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-4 shadow border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 mb-4\",\n          children: \"Alert Type Distribution\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 150,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: getAlertTypeData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"name\",\n              angle: -45,\n              textAnchor: \"end\",\n              height: 40,\n              fontSize: 10\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              fontSize: 10\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"value\",\n              fill: \"#8B5CF6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-4 shadow border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold text-gray-900 mb-4\",\n        children: \"Recent Anomalies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2 max-h-40 overflow-y-auto\",\n        children: anomalies.slice(0, 5).map(alert => {\n          var _alert$applianceId;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer\",\n            onClick: () => {\n              setSelectedAnomaly(alert);\n              setShowDetailsModal(true);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-3 h-3 rounded-full ${alert.severity === 'high' ? 'bg-red-500' : alert.severity === 'medium' ? 'bg-orange-500' : 'bg-yellow-500'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: ((_alert$applianceId = alert.applianceId) === null || _alert$applianceId === void 0 ? void 0 : _alert$applianceId.name) || \"Unknown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: getTimeAgo(alert.detected_at)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)]\n          }, alert._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n\n  // List View Component (your existing list view)\n  const ListView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-3 max-h-96 overflow-y-auto pr-1\",\n    children: anomalies.map(alert => {\n      var _alert$applianceId2, _alert$roomId;\n      const severity = severityConfig[alert.severity] || severityConfig.low;\n      const status = statusConfig[alert.status] || statusConfig.active;\n      const appliance = ((_alert$applianceId2 = alert.applianceId) === null || _alert$applianceId2 === void 0 ? void 0 : _alert$applianceId2.name) || \"Unknown Appliance\";\n      const room = ((_alert$roomId = alert.roomId) === null || _alert$roomId === void 0 ? void 0 : _alert$roomId.name) || \"Unknown Room\";\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-xl border-2 ${severity.bg} ${severity.border} transition-all hover:shadow-md cursor-pointer group`,\n        onClick: () => {\n          setSelectedAnomaly(alert);\n          setShowDetailsModal(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"min-w-0 flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-gray-900 text-sm truncate text-left\",\n              children: appliance\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 ml-3 flex-shrink-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs px-2 py-1 rounded-full font-medium ${severity.badge}`,\n              children: alert.severity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs px-2 py-1 rounded-full border ${status.badge}`,\n              children: status.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-sm font-medium ${severity.text} text-left leading-relaxed`,\n            children: alert.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mt-3 pt-3 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-1 text-xs text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-3 h-3 flex-shrink-0\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"truncate\",\n              children: room\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                confirmResolveAnomaly(alert._id, appliance);\n              },\n              disabled: actionLoading === alert._id,\n              className: \"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700 transition-colors disabled:opacity-50 flex-shrink-0\",\n              children: actionLoading === alert._id ? '...' : 'Resolve'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                confirmDeleteAnomaly(alert._id, appliance);\n              },\n              disabled: actionLoading === alert._id,\n              className: \"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 transition-colors disabled:opacity-50 flex-shrink-0\",\n              children: actionLoading === alert._id ? '...' : 'Delete'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this)]\n      }, alert._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-32\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm\",\n          children: \"Loading alerts...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this);\n  }\n  if (anomalies.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center h-32 text-gray-500 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-8 h-8 text-green-500\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-medium text-gray-600\",\n        children: \"No Anomaly Alerts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs mt-1\",\n        children: \"All systems are running normally\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [viewMode === 'list' ? /*#__PURE__*/_jsxDEV(ListView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(GraphView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 45\n    }, this), showDetailsModal && selectedAnomaly && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      onClick: () => setShowDetailsModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl max-w-2xl w-full mx-auto shadow-2xl transform transition-all\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-gray-200 flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-gray-900 text-lg text-left\",\n              children: \"Anomaly Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs px-2 py-1 rounded-full font-medium ${(severityConfig[selectedAnomaly.severity] || severityConfig.low).badge}`,\n                children: selectedAnomaly.severity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs px-2 py-1 rounded-full border ${(statusConfig[selectedAnomaly.status] || statusConfig.active).badge}`,\n                children: (statusConfig[selectedAnomaly.status] || statusConfig.active).text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowDetailsModal(false),\n            className: \"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100 flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-900 text-sm mb-2 text-left\",\n                  children: \"Appliance Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Appliance:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 578,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-right\",\n                      children: ((_selectedAnomaly$appl = selectedAnomaly.applianceId) === null || _selectedAnomaly$appl === void 0 ? void 0 : _selectedAnomaly$appl.name) || \"Unknown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 579,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Room:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-right\",\n                      children: ((_selectedAnomaly$room = selectedAnomaly.roomId) === null || _selectedAnomaly$room === void 0 ? void 0 : _selectedAnomaly$room.name) || \"Unknown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Alert Type:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 586,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-right capitalize\",\n                      children: (_selectedAnomaly$aler = selectedAnomaly.alert_type) === null || _selectedAnomaly$aler === void 0 ? void 0 : _selectedAnomaly$aler.replace(/_/g, ' ')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-900 text-sm mb-2 text-left\",\n                  children: \"Detection Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Detected:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-right\",\n                      children: new Date(selectedAnomaly.detected_at).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 597,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Time Ago:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-right\",\n                      children: getTimeAgo(selectedAnomaly.detected_at)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-4 rounded-lg border text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-900 text-sm mb-2\",\n                  children: \"Anomaly Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 text-sm leading-relaxed text-left\",\n                  children: selectedAnomaly.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 19\n              }, this), selectedAnomaly.recommended_action && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 p-4 rounded-lg border border-blue-200 text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-blue-800 text-sm mb-2\",\n                  children: \"Recommended Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-700 text-sm leading-relaxed text-left\",\n                  children: selectedAnomaly.recommended_action\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 text-left\",\n              children: [\"ID: \", selectedAnomaly._id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  var _selectedAnomaly$appl2;\n                  return confirmDeleteAnomaly(selectedAnomaly._id, ((_selectedAnomaly$appl2 = selectedAnomaly.applianceId) === null || _selectedAnomaly$appl2 === void 0 ? void 0 : _selectedAnomaly$appl2.name) || \"Unknown Appliance\");\n                },\n                disabled: actionLoading === selectedAnomaly._id,\n                className: \"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium disabled:opacity-50\",\n                children: actionLoading === selectedAnomaly._id ? 'Deleting...' : 'Delete'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  var _selectedAnomaly$appl3;\n                  return confirmResolveAnomaly(selectedAnomaly._id, ((_selectedAnomaly$appl3 = selectedAnomaly.applianceId) === null || _selectedAnomaly$appl3 === void 0 ? void 0 : _selectedAnomaly$appl3.name) || \"Unknown Appliance\");\n                },\n                disabled: actionLoading === selectedAnomaly._id,\n                className: \"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50\",\n                children: actionLoading === selectedAnomaly._id ? 'Resolving...' : 'Mark Resolved'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 9\n    }, this), showConfirmModal && pendingAction && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl max-w-sm w-full mx-auto shadow-2xl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-yellow-600\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 text-left\",\n              children: pendingAction.type === 'resolve' ? 'Mark as Resolved?' : 'Delete Anomaly?'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-6 text-left\",\n            children: pendingAction.type === 'resolve' ? `Are you sure you want to mark the anomaly for \"${pendingAction.name}\" as resolved? This will remove it from the active alerts list.` : `Are you sure you want to permanently delete the anomaly alert for \"${pendingAction.name}\"? This action cannot be undone.`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: cancelPendingAction,\n              className: \"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: executePendingAction,\n              disabled: actionLoading === pendingAction.id,\n              className: `px-4 py-2 text-white rounded-lg transition-colors text-sm font-medium disabled:opacity-50 ${pendingAction.type === 'resolve' ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'}`,\n              children: actionLoading === pendingAction.id ? 'Processing...' : pendingAction.type === 'resolve' ? 'Mark Resolved' : 'Delete'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n// ---------- Notifications Dropdown and Popup ----------\n_s(AnomalyList, \"JNsW+zOAxXd/nxMsxVBH6d+v9s8=\");\n_c5 = AnomalyList;\nconst NotificationsUI = ({\n  homeId\n}) => {\n  _s2();\n  var _selectedNotif$channe, _selectedNotif$anomal;\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [selectedNotif, setSelectedNotif] = useState(null);\n  const [homes, setHomes] = useState([]);\n  const API_BASE = \"http://localhost:5000/api\";\n\n  // Fetch homes to get home names\n  useEffect(() => {\n    const fetchHomes = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) return;\n      try {\n        const res = await fetch(`${API_BASE}/homes`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (res.ok) {\n          const data = await res.json();\n          setHomes(data);\n        }\n      } catch (e) {\n        console.error(\"Failed to fetch homes\", e);\n      }\n    };\n    fetchHomes();\n  }, []);\n\n  // Get home name by ID\n  const getHomeName = homeId => {\n    const home = homes.find(h => h._id === homeId || h.id === homeId);\n    return (home === null || home === void 0 ? void 0 : home.name) || \"Unknown\";\n  };\n\n  // Parse notification message to separate anomaly and recommendation\n  const parseNotificationMessage = message => {\n    if (!message) return {\n      anomaly: '',\n      recommendation: ''\n    };\n    const recommendationIndex = message.indexOf('Recommended:');\n    if (recommendationIndex === -1) {\n      return {\n        anomaly: message,\n        recommendation: ''\n      };\n    }\n    return {\n      anomaly: message.substring(0, recommendationIndex).trim(),\n      recommendation: message.substring(recommendationIndex + 12).trim()\n    };\n  };\n  const fetchNotifications = useCallback(async () => {\n    if (!homeId) {\n      setNotifications([]);\n      setLoading(false);\n      return;\n    }\n    const token = localStorage.getItem(\"token\");\n    try {\n      setLoading(true);\n      setError(null);\n      const res = await fetch(`${API_BASE}/notifications?homeId=${homeId}&limit=10`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to fetch notifications\");\n      const data = await res.json();\n      setNotifications(data.notifications || []);\n    } catch (e) {\n      console.error(\"Failed to fetch notifications\", e);\n      setError(\"Failed to load notifications. Please try again.\");\n      setNotifications([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [homeId]);\n  useEffect(() => {\n    fetchNotifications();\n  }, [fetchNotifications]);\n  const unacknowledgedCount = notifications.filter(n => n.status !== \"acknowledged\").length;\n  const handleAcknowledge = async id => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await fetch(`${API_BASE}/notifications/${id}/acknowledge`, {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        setNotifications(prev => prev.map(n => n._id === id ? {\n          ...n,\n          status: \"acknowledged\"\n        } : n));\n        if ((selectedNotif === null || selectedNotif === void 0 ? void 0 : selectedNotif._id) === id) {\n          setSelectedNotif({\n            ...selectedNotif,\n            status: \"acknowledged\"\n          });\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const handleDelete = async id => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await fetch(`${API_BASE}/notifications/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        setNotifications(prev => prev.filter(n => n._id !== id));\n        if ((selectedNotif === null || selectedNotif === void 0 ? void 0 : selectedNotif._id) === id) {\n          setSelectedNotif(null);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const handleBulkAcknowledge = async ids => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await fetch(`${API_BASE}/notifications/acknowledge`, {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ids\n        })\n      });\n      if (res.ok) {\n        setNotifications(prev => prev.map(n => ids.includes(n._id) ? {\n          ...n,\n          status: \"acknowledged\"\n        } : n));\n        if (selectedNotif && ids.includes(selectedNotif._id)) {\n          setSelectedNotif({\n            ...selectedNotif,\n            status: \"acknowledged\"\n          });\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const handleBulkDelete = async ids => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await fetch(`${API_BASE}/notifications`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ids\n        })\n      });\n      if (res.ok) {\n        setNotifications(prev => prev.filter(n => !ids.includes(n._id)));\n        setSelectedNotif(null);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const statusColors = {\n    pending: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\n    sent: \"bg-blue-100 text-blue-800 border-blue-300\",\n    failed: \"bg-red-100 text-red-800 border-red-300\",\n    acknowledged: \"bg-green-100 text-green-800 border-green-300\"\n  };\n  const statusBadge = {\n    pending: \"bg-yellow-600 text-white\",\n    sent: \"bg-blue-600 text-white\",\n    failed: \"bg-red-600 text-white\",\n    acknowledged: \"bg-green-600 text-white\"\n  };\n  if (loading) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowDropdown(!showDropdown),\n        className: \"w-10 h-10 flex items-center justify-center rounded-full bg-white hover:bg-gray-100 shadow-md relative transition-all duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: bellIcon,\n          alt: \"Notifications\",\n          className: \"w-5 h-5\",\n          style: {\n            filter: 'brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(2000%) hue-rotate(210deg) brightness(90%) contrast(90%)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 11\n        }, this), unacknowledgedCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] flex items-center justify-center font-semibold shadow-sm\",\n          children: unacknowledgedCount > 9 ? '9+' : unacknowledgedCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 9\n      }, this), showDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-0 top-12 w-80 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden z-50 max-h-96 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b bg-gray-50 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-800 text-sm\",\n            children: \"Notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 15\n          }, this), notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleBulkAcknowledge(notifications.filter(n => n.status !== \"acknowledged\").map(n => n._id)),\n              className: \"text-xs text-green-600 hover:text-green-700 font-medium transition-colors\",\n              children: \"Mark all read\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleBulkDelete(notifications.map(n => n._id)),\n              className: \"text-xs text-red-600 hover:text-red-700 font-medium transition-colors\",\n              children: \"Clear all\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 13\n        }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-red-500 text-sm bg-red-50\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 15\n        }, this) : notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center text-gray-500 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8 mx-auto mb-2 text-gray-400\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 1.5,\n              d: \"M15 17h5l-5 5v-5zM4.93 4.93l9.07 9.07-9.07 9.07L4.93 4.93z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"No notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 932,\n          columnNumber: 15\n        }, this) : notifications.map(notif => {\n          var _notif$channels;\n          const isBilling = (_notif$channels = notif.channels) === null || _notif$channels === void 0 ? void 0 : _notif$channels.includes(\"bill_reminder\");\n          const title = isBilling ? \"Billing Reminder\" : \"Anomaly Alert\";\n          const statusClass = statusBadge[notif.status] || statusBadge.pending;\n          const itemClass = notif.status === \"acknowledged\" ? \"opacity-60 bg-gray-50\" : \"bg-white\";\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              setSelectedNotif(notif);\n              setShowDropdown(false);\n            },\n            className: `p-4 border-b hover:bg-blue-50 cursor-pointer flex items-start gap-3 transition-colors ${itemClass}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-2 h-2 mt-2 rounded-full ${notif.status === \"acknowledged\" ? 'bg-gray-400' : 'bg-blue-500'} flex-shrink-0`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium text-sm ${notif.status === \"acknowledged\" ? 'text-gray-500' : 'text-gray-800'}`,\n                  children: title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 957,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs px-2 py-1 rounded-full font-semibold uppercase ${statusClass}`,\n                  children: notif.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 960,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-600 line-clamp-2 mb-2 leading-relaxed\",\n                children: parseNotificationMessage(notif.message).anomaly\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: new Date(notif.created_at).toLocaleTimeString([], {\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 971,\n                  columnNumber: 25\n                }, this), notif.status !== \"acknowledged\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-red-500 rounded-full animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 21\n            }, this)]\n          }, notif._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 19\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 909,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 889,\n      columnNumber: 7\n    }, this), selectedNotif && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      onClick: () => setSelectedNotif(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl max-w-md w-full mx-auto shadow-2xl transform transition-all\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-gray-200 flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3 h-3 rounded-full ${selectedNotif.status === \"acknowledged\" ? 'bg-green-500' : 'bg-blue-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-800 text-lg\",\n                children: (_selectedNotif$channe = selectedNotif.channels) !== null && _selectedNotif$channe !== void 0 && _selectedNotif$channe.includes(\"bill_reminder\") ? \"Billing Reminder\" : \"Anomaly Alert\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 996,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs px-2 py-1 rounded-full font-semibold uppercase ${statusBadge[selectedNotif.status] || statusBadge.pending}`,\n                children: selectedNotif.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedNotif(null),\n            className: \"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-4 rounded-lg border\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-800 text-sm mb-2 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-4 h-4 text-red-500\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1022,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1021,\n                    columnNumber: 23\n                  }, this), \"Anomaly Detected\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-700 text-sm leading-relaxed\",\n                  children: parseNotificationMessage(selectedNotif.message).anomaly\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1026,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 19\n              }, this), parseNotificationMessage(selectedNotif.message).recommendation && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 p-4 rounded-lg border border-blue-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-blue-800 text-sm mb-2 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-4 h-4 text-blue-600\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1036,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1035,\n                    columnNumber: 25\n                  }, this), \"Recommended Action\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1034,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-blue-700 text-sm leading-relaxed\",\n                  children: parseNotificationMessage(selectedNotif.message).recommendation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1040,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between py-2 border-b border-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 font-medium\",\n                children: \"Home:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-800\",\n                children: getHomeName(selectedNotif.homeId)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1052,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1050,\n              columnNumber: 17\n            }, this), selectedNotif.due_date && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between py-2 border-b border-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 font-medium\",\n                children: \"Due Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-600 font-semibold\",\n                children: new Date(selectedNotif.due_date).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1058,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 19\n            }, this), selectedNotif.anomalyAlertId && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-2 border-b border-gray-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600 font-medium\",\n                  children: \"Severity:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1067,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-semibold ${selectedNotif.anomalyAlertId.severity === 'high' ? 'text-red-600' : selectedNotif.anomalyAlertId.severity === 'medium' ? 'text-orange-600' : 'text-yellow-600'}`,\n                  children: selectedNotif.anomalyAlertId.severity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1068,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1066,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-2 border-b border-gray-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600 font-medium\",\n                  children: \"Alert Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1076,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-800 capitalize\",\n                  children: (_selectedNotif$anomal = selectedNotif.anomalyAlertId.alert_type) === null || _selectedNotif$anomal === void 0 ? void 0 : _selectedNotif$anomal.replace(/_/g, ' ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1075,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between py-2 border-b border-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 font-medium\",\n                children: \"Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1085,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-800\",\n                children: new Date(selectedNotif.created_at).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1086,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1084,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1049,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 13\n        }, this), selectedNotif.status !== \"acknowledged\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(selectedNotif._id),\n              className: \"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleAcknowledge(selectedNotif._id),\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\",\n              children: \"Mark as Read\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1103,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 990,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 989,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n// ---------- Dashboard Component ----------\n_s2(NotificationsUI, \"HSEFdmhOo1tSlvaSJ79gJjs9tUg=\");\n_c6 = NotificationsUI;\nconst Dashboard = ({\n  onSwitch\n}) => {\n  _s3();\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\n  const [anomalyViewMode, setAnomalyViewMode] = useState('list'); // Add this state\n  const bgUrl = \"https://images.unsplash.com/photo-1501183638710-841dd1904471?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170\";\n  // ---------- Global states ----------\n  const [loading, setLoading] = useState(true);\n  const [homes, setHomes] = useState([]);\n  const [selectedHomeIndex, setSelectedHomeIndex] = useState(null);\n  const [periodType, setPeriodType] = useState(\"monthly\"); // daily | weekly | monthly\n  // ---------- Data containers ----------\n  const [overallData, setOverallData] = useState([]); // for line chart\n  const [roomData, setRoomData] = useState([]);\n  const [applianceData, setApplianceData] = useState([]);\n  const [historyData, setHistoryData] = useState([]);\n  const [overallBill, setOverallBill] = useState(\"0\");\n  const [upcomingBill, setUpcomingBill] = useState(\"0\");\n  const API_BASE = \"http://localhost:5000/api\";\n  // ---------- Helpers ----------\n  const formatPeriodLabel = useCallback((periodType, start) => {\n    const d = new Date(start);\n    if (periodType === \"daily\") return d.toISOString().split(\"T\")[0];\n    if (periodType === \"weekly\") {\n      const week = Math.ceil(d.getDate() / 7);\n      return `Week ${week} ${d.getFullYear()}`;\n    }\n    // monthly\n    return d.toLocaleString(\"default\", {\n      month: \"short\",\n      year: \"numeric\"\n    });\n  }, []);\n  // ---------- Enhanced Data processors ----------\n  const processRoomConsumptionData = useCallback((readings, rooms) => {\n    if (!(rooms !== null && rooms !== void 0 && rooms.length)) return [];\n    const map = {};\n    rooms.forEach(r => map[r.name] = 0);\n    readings.forEach(r => {\n      var _r$roomId, _r$roomId2;\n      const roomId = typeof r.roomId === \"string\" ? r.roomId : ((_r$roomId = r.roomId) === null || _r$roomId === void 0 ? void 0 : _r$roomId._id) || ((_r$roomId2 = r.roomId) === null || _r$roomId2 === void 0 ? void 0 : _r$roomId2.id);\n      if (!roomId) return;\n      const room = rooms.find(rm => {\n        var _rm$_id, _rm$id;\n        return (((_rm$_id = rm._id) === null || _rm$_id === void 0 ? void 0 : _rm$_id.toString()) || ((_rm$id = rm.id) === null || _rm$id === void 0 ? void 0 : _rm$id.toString())) === roomId.toString();\n      });\n      if (room) map[room.name] = (map[room.name] || 0) + +(r.energy || 0);\n    });\n    return Object.entries(map).map(([name, value]) => ({\n      name,\n      value: +value.toFixed(2)\n    })).sort((a, b) => b.value - a.value);\n  }, []);\n  const processApplianceConsumptionData = useCallback((readings, appliances) => {\n    if (!(appliances !== null && appliances !== void 0 && appliances.length)) return [];\n    const map = {};\n    readings.forEach(r => {\n      var _r$applianceId, _r$applianceId2;\n      const appId = typeof r.applianceId === \"string\" ? r.applianceId : ((_r$applianceId = r.applianceId) === null || _r$applianceId === void 0 ? void 0 : _r$applianceId._id) || ((_r$applianceId2 = r.applianceId) === null || _r$applianceId2 === void 0 ? void 0 : _r$applianceId2.id);\n      if (!appId) return;\n      const app = appliances.find(a => {\n        var _a$_id, _a$id;\n        return (((_a$_id = a._id) === null || _a$_id === void 0 ? void 0 : _a$_id.toString()) || ((_a$id = a.id) === null || _a$id === void 0 ? void 0 : _a$id.toString())) === appId.toString();\n      });\n      const name = (app === null || app === void 0 ? void 0 : app.name) || (app === null || app === void 0 ? void 0 : app.type) || \"Unknown\";\n      map[name] = (map[name] || 0) + +(r.energy || 0);\n    });\n    return Object.entries(map).map(([name, value]) => ({\n      name,\n      value: +value.toFixed(2)\n    })).sort((a, b) => b.value - a.value);\n  }, []);\n  const processHistoryData = useCallback((readings, appliances, rooms) => {\n    if (!(readings !== null && readings !== void 0 && readings.length)) return [];\n    return readings.slice(0, 15).map(r => {\n      var _r$applianceId3, _r$applianceId4, _r$roomId3, _r$roomId4;\n      const appId = typeof r.applianceId === \"string\" ? r.applianceId : ((_r$applianceId3 = r.applianceId) === null || _r$applianceId3 === void 0 ? void 0 : _r$applianceId3._id) || ((_r$applianceId4 = r.applianceId) === null || _r$applianceId4 === void 0 ? void 0 : _r$applianceId4.id);\n      const roomId = typeof r.roomId === \"string\" ? r.roomId : ((_r$roomId3 = r.roomId) === null || _r$roomId3 === void 0 ? void 0 : _r$roomId3._id) || ((_r$roomId4 = r.roomId) === null || _r$roomId4 === void 0 ? void 0 : _r$roomId4.id);\n      const app = appliances.find(a => {\n        var _a$_id2, _a$id2;\n        return (((_a$_id2 = a._id) === null || _a$_id2 === void 0 ? void 0 : _a$_id2.toString()) || ((_a$id2 = a.id) === null || _a$id2 === void 0 ? void 0 : _a$id2.toString())) === (appId === null || appId === void 0 ? void 0 : appId.toString());\n      });\n      const room = rooms.find(rm => {\n        var _rm$_id2, _rm$id2;\n        return (((_rm$_id2 = rm._id) === null || _rm$_id2 === void 0 ? void 0 : _rm$_id2.toString()) || ((_rm$id2 = rm.id) === null || _rm$id2 === void 0 ? void 0 : _rm$id2.toString())) === (roomId === null || roomId === void 0 ? void 0 : roomId.toString());\n      });\n      const date = new Date(r.recorded_at);\n      const time = `${String(date.getHours()).padStart(2, \"0\")}:${String(date.getMinutes()).padStart(2, \"0\")}:${String(date.getSeconds()).padStart(2, \"0\")}`;\n      const dateStr = date.toLocaleDateString();\n\n      // Calculate percentage change (using a simple mock calculation)\n      const current = +(r.energy || 0).toFixed(2);\n      const past = current * (0.8 + Math.random() * 0.4); // Random variation for demo\n      const percentage = current > 0 ? ((current - past) / past * 100).toFixed(1) : 0;\n      return {\n        appliance: (app === null || app === void 0 ? void 0 : app.name) || \"Unknown Appliance\",\n        room: (room === null || room === void 0 ? void 0 : room.name) || \"Unknown Room\",\n        timestamp: `${dateStr} ${time}`,\n        current,\n        past: +past.toFixed(2),\n        percentage: +percentage,\n        isOn: r.is_on,\n        power: r.power || 0,\n        cost: r.cost || 0\n      };\n    });\n  }, []);\n  // ---------- Load homes ----------\n  useEffect(() => {\n    const fetchHomes = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) return;\n      try {\n        const res = await fetch(`${API_BASE}/homes`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) throw new Error(\"Failed to fetch homes\");\n        const data = await res.json();\n        setHomes(data);\n        const saved = localStorage.getItem(\"selectedHomeIndex\");\n        if (saved !== null && Number(saved) < data.length) {\n          setSelectedHomeIndex(Number(saved));\n        } else if (data.length) {\n          setSelectedHomeIndex(0);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    fetchHomes();\n  }, []);\n  // persist home selection\n  useEffect(() => {\n    if (selectedHomeIndex !== null) {\n      localStorage.setItem(\"selectedHomeIndex\", selectedHomeIndex);\n    } else {\n      localStorage.removeItem(\"selectedHomeIndex\");\n    }\n  }, [selectedHomeIndex]);\n  // ---------- Load dashboard data for selected home ----------\n  const selectedHome = useMemo(() => selectedHomeIndex !== null ? homes[selectedHomeIndex] : null, [homes, selectedHomeIndex]);\n  useEffect(() => {\n    if (!selectedHome) return;\n    const fetchDashboard = async () => {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n      const homeId = selectedHome._id || selectedHome.id;\n      try {\n        // 1. Energy summary (grouped by period)\n        const summaryRes = await fetch(`${API_BASE}/energy/summary?homeId=${homeId}&period_type=${periodType}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const summaries = summaryRes.ok ? await summaryRes.json() : [];\n        const lineData = summaries.map(s => ({\n          label: formatPeriodLabel(periodType, s.period_start),\n          consumption: +s.total_energy.toFixed(2),\n          production: 0\n        }));\n        setOverallData(lineData);\n        // 2. Raw readings (for rooms, appliances, history)\n        const [readingsRes, appliancesRes, roomsRes] = await Promise.all([fetch(`${API_BASE}/energy?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), fetch(`${API_BASE}/appliances?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), fetch(`${API_BASE}/rooms?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        const [readings, appliances, rooms] = await Promise.all([readingsRes.ok ? readingsRes.json() : [], appliancesRes.ok ? appliancesRes.json() : [], roomsRes.ok ? roomsRes.json() : []]);\n        setRoomData(processRoomConsumptionData(readings, rooms));\n        setApplianceData(processApplianceConsumptionData(readings, appliances));\n        setHistoryData(processHistoryData(readings, appliances, rooms)); // Updated to include rooms\n        // Bills\n        const totalCost = readings.reduce((s, r) => s + (r.cost || 0), 0);\n        const recentCost = readings.filter(r => {\n          const days = (Date.now() - new Date(r.recorded_at).getTime()) / (1000 * 60 * 60 * 24);\n          return days <= 30;\n        }).reduce((s, r) => s + (r.cost || 0), 0);\n        setOverallBill(`${totalCost.toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })}`);\n        setUpcomingBill(`${recentCost.toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })}`);\n      } catch (e) {\n        console.error(e);\n        setOverallData([]);\n        setRoomData([]);\n        setApplianceData([]);\n        setHistoryData([]);\n        setOverallBill(\"0.00\");\n        setUpcomingBill(\"0.00\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDashboard();\n  }, [selectedHome, periodType, processRoomConsumptionData, processApplianceConsumptionData, processHistoryData, formatPeriodLabel]);\n  // ---------- UI ----------\n  const COLORS = [\"#4CAF50\", \"#FF9800\", \"#2196F3\", \"#FFEB3B\", \"#9C27B0\", \"#607D86\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen overflow-hidden relative font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-cover bg-center\",\n      style: {\n        backgroundImage: `url(${bgUrl})`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1340,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"fixed left-0 top-0 h-full z-30 flex items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative h-64 w-32 flex items-center group cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-1/2 -translate-y-1/2 w-12 h-12 bg-blue-600 rounded-r-full flex items-center justify-center shadow-lg transition-all duration-300 z-10\\r group-hover:opacity-0 group-hover:-translate-x-8\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 text-white transition-transform group-hover:scale-110\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M9 5l7 7-7 7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1347,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-16 opacity-0 invisible\\r group-hover:translate-x-8 group-hover:opacity-100 group-hover:visible\\r transition-all duration-300 ease-out pointer-events-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-3 rounded-lg shadow-lg flex flex-col items-center backdrop-blur-sm\",\n            children: [/*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => onSwitch('dashboard'),\n              src: dashboardIcon,\n              label: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => onSwitch('appliance'),\n              src: applianceIcon,\n              label: \"Appliances\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => onSwitch('profile'),\n              src: profileIcon,\n              label: \"Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => setShowLogoutConfirm(true),\n              src: logoutIcon,\n              label: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1364,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1360,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1342,\n      columnNumber: 7\n    }, this), showLogoutConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 max-w-sm mx-4 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Confirm Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6 text-center\",\n          children: \"Are you sure you want to logout?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowLogoutConfirm(false),\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 rounded border border-gray-300 hover:border-gray-400\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onSwitch(\"login\"),\n            className: \"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1372,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1371,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[94%] max-w-[1200px] mt-6 pb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center mb-6 relative\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl tracking-wider font-bold text-white text-center\",\n            children: \"DASHBOARD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1400,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1399,\n          columnNumber: 11\n        }, this), homes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center mb-6 -mt-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline-flex items-center gap-3 bg-white/95 backdrop-blur-sm rounded-xl px-5 py-3 shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 text-blue-600\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1408,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1407,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedHomeIndex !== null && selectedHomeIndex !== void 0 ? selectedHomeIndex : \"\",\n              onChange: e => setSelectedHomeIndex(Number(e.target.value)),\n              className: \"bg-transparent text-gray-800 font-semibold text-lg focus:outline-none cursor-pointer\",\n              children: homes.map((h, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: i,\n                children: h.name\n              }, h._id || h.id || i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1416,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(NotificationsUI, {\n            homeId: (selectedHome === null || selectedHome === void 0 ? void 0 : selectedHome._id) || (selectedHome === null || selectedHome === void 0 ? void 0 : selectedHome.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1422,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1405,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-64\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-xl\",\n            children: \"Loading dashboard data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1427,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1426,\n          columnNumber: 13\n        }, this) : homes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-64\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-xl\",\n            children: \"No homes found. Please add a home first.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1431,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1430,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"OVERALL CONSUMPTION\",\n                  controls: /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: periodType,\n                    onChange: e => setPeriodType(e.target.value),\n                    className: \"bg-white text-sm text-gray-800 rounded px-2 py-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"daily\",\n                      children: \"Daily\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1451,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"weekly\",\n                      children: \"Weekly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1452,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"monthly\",\n                      children: \"Monthly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1453,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1446,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: overallData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-32 text-gray-500 text-sm\",\n                    children: \"No consumption data for the selected period.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1459,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-[280px]\",\n                    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                      width: \"100%\",\n                      height: \"100%\",\n                      children: /*#__PURE__*/_jsxDEV(LineChart, {\n                        data: overallData,\n                        margin: {\n                          top: 20,\n                          right: 20,\n                          left: 0,\n                          bottom: 50\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                          strokeDasharray: \"3 3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1469,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                          dataKey: \"label\",\n                          style: {\n                            fontSize: \"11px\"\n                          },\n                          angle: -45,\n                          textAnchor: \"end\",\n                          interval: 0\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1470,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                          style: {\n                            fontSize: \"11px\"\n                          },\n                          tickFormatter: v => v.toLocaleString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1477,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                          formatter: v => [`${v} kWh`, \"Consumption\"],\n                          labelFormatter: l => `Period: ${l}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1481,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                          verticalAlign: \"top\",\n                          wrapperStyle: {\n                            fontSize: \"12px\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1485,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Line, {\n                          type: \"monotone\",\n                          dataKey: \"production\",\n                          stroke: \"#2196F3\",\n                          name: \"Production\",\n                          strokeWidth: 2,\n                          dot: false\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1489,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Line, {\n                          type: \"monotone\",\n                          dataKey: \"consumption\",\n                          stroke: \"#FF5252\",\n                          name: \"Consumption\",\n                          strokeWidth: 2\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1497,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1465,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1464,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1463,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1457,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"ANOMALY ALERTS\",\n                  controls: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex bg-gray-100 rounded-lg p-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setAnomalyViewMode('list'),\n                      className: `px-3 py-1 text-sm font-medium rounded-md transition-colors ${anomalyViewMode === 'list' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                      children: \"List View\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1516,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setAnomalyViewMode('graph'),\n                      className: `px-3 py-1 text-sm font-medium rounded-md transition-colors ${anomalyViewMode === 'graph' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                      children: \"Analytics\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1526,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1515,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1512,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: /*#__PURE__*/_jsxDEV(AnomalyList, {\n                    homeId: (selectedHome === null || selectedHome === void 0 ? void 0 : selectedHome._id) || (selectedHome === null || selectedHome === void 0 ? void 0 : selectedHome.id),\n                    viewMode: anomalyViewMode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1540,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1539,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1511,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow-xl p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Overall Bill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1546,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold mt-4\",\n                    children: overallBill\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1547,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1545,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow-xl p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Upcoming Bill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1550,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold mt-4\",\n                    children: upcomingBill\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1551,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1549,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1544,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                className: \"flex-1 flex flex-col\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"CONSUMPTION BY ROOM\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1559,\n                  columnNumber: 5\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 flex items-center justify-center p-6 min-h-[300px]\",\n                  children: roomData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-32 text-gray-500 text-sm\",\n                    children: \"No rooms available.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1562,\n                    columnNumber: 9\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-full flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                      width: \"100%\",\n                      height: \"100%\",\n                      children: /*#__PURE__*/_jsxDEV(PieChart, {\n                        children: [/*#__PURE__*/_jsxDEV(Pie, {\n                          data: roomData,\n                          cx: \"50%\",\n                          cy: \"50%\",\n                          outerRadius: 80,\n                          dataKey: \"value\",\n                          nameKey: \"name\",\n                          isAnimationActive: false,\n                          labelLine: false,\n                          label: ({\n                            percent\n                          }) => `${(percent * 100).toFixed(0)}%`,\n                          style: {\n                            fontSize: \"11px\"\n                          },\n                          children: roomData.map((_, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                            fill: COLORS[i % COLORS.length]\n                          }, `cell-${i}`, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1584,\n                            columnNumber: 19\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1569,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                          formatter: v => [`${v} kWh`, \"Consumption\"],\n                          labelFormatter: l => `Room: ${l}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1590,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                          verticalAlign: \"bottom\",\n                          height: 24,\n                          wrapperStyle: {\n                            fontSize: \"11px\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1594,\n                          columnNumber: 15\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1568,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1567,\n                      columnNumber: 11\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1566,\n                    columnNumber: 9\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1560,\n                  columnNumber: 5\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1558,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                className: \"flex-1 flex flex-col\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"APPLIANCES\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1608,\n                  columnNumber: 5\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 flex items-center justify-center p-6 min-h-[300px]\",\n                  children: applianceData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-32 text-gray-500 text-sm\",\n                    children: \"No appliance data.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1611,\n                    columnNumber: 9\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-full flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                      width: \"100%\",\n                      height: \"100%\",\n                      children: /*#__PURE__*/_jsxDEV(BarChart, {\n                        data: applianceData,\n                        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                          strokeDasharray: \"3 3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1618,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                          dataKey: \"name\",\n                          style: {\n                            fontSize: \"10px\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1619,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                          style: {\n                            fontSize: \"10px\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1623,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1624,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                          dataKey: \"value\",\n                          children: applianceData.map((_, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                            fill: COLORS[i % COLORS.length]\n                          }, i, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1627,\n                            columnNumber: 19\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1625,\n                          columnNumber: 15\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1617,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1616,\n                      columnNumber: 11\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1615,\n                    columnNumber: 9\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1609,\n                  columnNumber: 5\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1607,\n                columnNumber: 3\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1556,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-xl overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-500 text-white px-6 py-3 font-semibold rounded-t-xl flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"ENERGY USAGE HISTORY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1644,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-100 text-sm font-normal\",\n                children: [historyData.length, \" records\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1645,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1643,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-0\",\n              children: historyData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-gray-500 py-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-16 h-16 mx-auto mb-4 text-gray-300\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 1,\n                    d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1653,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-medium text-gray-400\",\n                  children: \"No history data available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1655,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500 mt-1\",\n                  children: \"Energy usage records will appear here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1656,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1651,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"w-full text-left border-collapse\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \"bg-gray-50 border-b-2 border-gray-200\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"text-gray-600\",\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider\",\n                        children: \"Appliance\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1663,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider\",\n                        children: \"Room\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1664,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider\",\n                        children: \"Date & Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1665,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right\",\n                        children: \"Current (kWh)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1666,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right\",\n                        children: \"Past (kWh)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1667,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right\",\n                        children: \"Change\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1668,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-center\",\n                        children: \"Status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1669,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1662,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1661,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    className: \"divide-y divide-gray-100\",\n                    children: historyData.map((item, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"hover:bg-blue-50 transition-colors duration-150 group cursor-pointer\",\n                      onClick: () => {\n                        // Optional: Add click handler for row details\n                        console.log('History item clicked:', item);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center space-x-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `w-3 h-3 rounded-full ${item.isOn ? 'bg-green-500' : 'bg-gray-300'}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1684,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-medium text-gray-900 text-sm\",\n                              children: item.appliance\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1686,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-500\",\n                              children: [item.power, \"W\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1687,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1685,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1683,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1682,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-700\",\n                          children: item.room\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1692,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1691,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-700\",\n                          children: item.timestamp\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1695,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1694,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm font-semibold text-gray-900\",\n                          children: item.current\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1698,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [\"\\u20B1\", item.cost.toFixed(2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1699,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1697,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 text-right\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-600\",\n                          children: item.past\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1702,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1701,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 text-right\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${item.percentage > 0 ? 'bg-red-100 text-red-800' : item.percentage < 0 ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`,\n                          children: [item.percentage > 0 ? '' : item.percentage < 0 ? '' : '', Math.abs(item.percentage), \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1705,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1704,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${item.isOn ? 'bg-green-100 text-green-800 border border-green-200' : 'bg-gray-100 text-gray-800 border border-gray-200'}`,\n                          children: item.isOn ? 'Active' : 'Inactive'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1717,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1716,\n                        columnNumber: 31\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1674,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1672,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1660,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1659,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1649,\n              columnNumber: 17\n            }, this), historyData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-xl\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center text-xs text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Showing recent \", Math.min(historyData.length, 15), \" records\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1735,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"hover:text-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: \"\\u2190 Previous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1739,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700 font-medium\",\n                    children: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1742,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"hover:text-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: \"Next \\u2192\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1743,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1738,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1734,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1733,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1398,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1397,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1334,\n    columnNumber: 5\n  }, this);\n};\n_s3(Dashboard, \"a9I51syR4SfxYJpyP5rgw4Rzu7A=\");\n_c7 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"CardHeader\");\n$RefreshReg$(_c3, \"CardContent\");\n$RefreshReg$(_c4, \"NavItem\");\n$RefreshReg$(_c5, \"AnomalyList\");\n$RefreshReg$(_c6, \"NotificationsUI\");\n$RefreshReg$(_c7, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useMemo","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","BarChart","Bar","ResponsiveContainer","dashboardIcon","applianceIcon","profileIcon","logoutIcon","bellIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","Card","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","CardHeader","title","controls","_c2","CardContent","_c3","NavItem","onClick","src","label","alt","_c4","AnomalyList","homeId","viewMode","_s","_selectedAnomaly$appl","_selectedAnomaly$room","_selectedAnomaly$aler","anomalies","setAnomalies","loading","setLoading","selectedAnomaly","setSelectedAnomaly","showDetailsModal","setShowDetailsModal","actionLoading","setActionLoading","showConfirmModal","setShowConfirmModal","pendingAction","setPendingAction","API_BASE","severityConfig","high","bg","border","text","badge","color","medium","low","statusConfig","active","acknowledged","resolved","fetchAnomalies","token","localStorage","getItem","res","fetch","headers","Authorization","ok","data","json","e","console","error","getGraphData","length","anomaliesByDate","reduce","acc","anomaly","date","Date","detected_at","toLocaleDateString","total","unusual_spike","high_energy","severity","alert_type","Object","values","sort","a","b","slice","getSeverityData","severityCount","entries","map","name","value","_severityConfig$name","charAt","toUpperCase","fill","getAlertTypeData","typeCount","type","replace","handleResolveAnomaly","anomalyId","method","prev","filter","alert","_id","handleDeleteAnomaly","confirmResolveAnomaly","anomalyName","id","confirmDeleteAnomaly","executePendingAction","cancelPendingAction","getTimeAgo","now","diffMs","diffMins","Math","floor","diffHours","diffDays","GraphView","status","width","height","strokeDasharray","dataKey","angle","textAnchor","interval","fontSize","stroke","strokeWidth","dot","r","cx","cy","innerRadius","outerRadius","paddingAngle","entry","index","_alert$applianceId","applianceId","ListView","_alert$applianceId2","_alert$roomId","appliance","room","roomId","description","viewBox","fillRule","d","clipRule","stopPropagation","disabled","strokeLinecap","strokeLinejoin","toLocaleString","recommended_action","_selectedAnomaly$appl2","_selectedAnomaly$appl3","_c5","NotificationsUI","_s2","_selectedNotif$channe","_selectedNotif$anomal","notifications","setNotifications","setError","showDropdown","setShowDropdown","selectedNotif","setSelectedNotif","homes","setHomes","fetchHomes","getHomeName","home","find","h","parseNotificationMessage","message","recommendation","recommendationIndex","indexOf","substring","trim","fetchNotifications","Error","unacknowledgedCount","n","handleAcknowledge","handleDelete","handleBulkAcknowledge","ids","body","JSON","stringify","includes","handleBulkDelete","statusColors","pending","sent","failed","statusBadge","style","notif","_notif$channels","isBilling","channels","statusClass","itemClass","created_at","toLocaleTimeString","hour","minute","due_date","anomalyAlertId","_c6","Dashboard","onSwitch","_s3","showLogoutConfirm","setShowLogoutConfirm","anomalyViewMode","setAnomalyViewMode","bgUrl","selectedHomeIndex","setSelectedHomeIndex","periodType","setPeriodType","overallData","setOverallData","roomData","setRoomData","applianceData","setApplianceData","historyData","setHistoryData","overallBill","setOverallBill","upcomingBill","setUpcomingBill","formatPeriodLabel","start","toISOString","split","week","ceil","getDate","getFullYear","month","year","processRoomConsumptionData","readings","rooms","forEach","_r$roomId","_r$roomId2","rm","_rm$_id","_rm$id","toString","energy","toFixed","processApplianceConsumptionData","appliances","_r$applianceId","_r$applianceId2","appId","app","_a$_id","_a$id","processHistoryData","_r$applianceId3","_r$applianceId4","_r$roomId3","_r$roomId4","_a$_id2","_a$id2","_rm$_id2","_rm$id2","recorded_at","time","String","getHours","padStart","getMinutes","getSeconds","dateStr","current","past","random","percentage","timestamp","isOn","is_on","power","cost","saved","Number","setItem","removeItem","selectedHome","fetchDashboard","summaryRes","summaries","lineData","s","period_start","consumption","total_energy","production","readingsRes","appliancesRes","roomsRes","Promise","all","totalCost","recentCost","days","getTime","undefined","minimumFractionDigits","maximumFractionDigits","COLORS","backgroundImage","onChange","target","i","margin","top","right","left","bottom","tickFormatter","v","formatter","labelFormatter","l","verticalAlign","wrapperStyle","nameKey","isAnimationActive","labelLine","percent","_","item","log","abs","min","_c7","$RefreshReg$"],"sources":["C:/MERN-project/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  BarChart,\r\n  Bar,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n// Import SVGs as URLs (CRA-compatible)\r\nimport dashboardIcon from '../assets/icons/dashboard.svg';\r\nimport applianceIcon from '../assets/icons/add.svg';\r\nimport profileIcon from '../assets/icons/profile.svg';\r\nimport logoutIcon from '../assets/icons/logout.svg';\r\nimport bellIcon from '../assets/icons/bell.svg'; \r\n\r\n// ---------- Lightweight shadcn-style components ----------\r\nconst Card = ({ children, className = \"\" }) => (\r\n  <div className={`bg-white rounded-xl shadow-xl overflow-hidden ${className}`}>\r\n    {children}\r\n  </div>\r\n);\r\nconst CardHeader = ({ title, controls }) => (\r\n  <div className=\"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\">\r\n    <div className=\"flex items-center justify-between\">\r\n      <div className=\"text-lg\">{title}</div>\r\n      {controls && <div className=\"ml-4\">{controls}</div>}\r\n    </div>\r\n  </div>\r\n);\r\nconst CardContent = ({ children }) => (\r\n  <div className=\"p-4 bg-white flex items-center justify-center min-h-[200px]\">{children}</div>\r\n);\r\nconst NavItem = ({ onClick, src, label }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className=\"w-12 h-12 flex items-center justify-center rounded-md mb-3\r\n               bg-blue-500 bg-opacity-100 text-white cursor-pointer\r\n               hover:bg-blue-500 hover:bg-opacity-70 hover:text-yellow-300\r\n               transition-all duration-200\"\r\n    title={label}\r\n  >\r\n    <img src={src} alt={label} className=\"w-6 h-6\" />\r\n  </div>\r\n);\r\n\r\n// ---------- Enhanced Anomaly List Component with Graph Toggle ----------\r\nconst AnomalyList = ({ homeId, viewMode = 'list' }) => {\r\n  const [anomalies, setAnomalies] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedAnomaly, setSelectedAnomaly] = useState(null);\r\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n  const [actionLoading, setActionLoading] = useState(null);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [pendingAction, setPendingAction] = useState(null);\r\n  const API_BASE = \"http://localhost:5000/api\";\r\n\r\n  // Move severityConfig to the top to avoid initialization issues\r\n  const severityConfig = {\r\n    high: {\r\n      bg: \"bg-red-50\",\r\n      border: \"border-red-200\",\r\n      text: \"text-red-800\",\r\n      badge: \"bg-red-100 text-red-800 border-red-200\",\r\n      color: '#EF4444'\r\n    },\r\n    medium: {\r\n      bg: \"bg-orange-50\",\r\n      border: \"border-orange-200\", \r\n      text: \"text-orange-800\",\r\n      badge: \"bg-orange-100 text-orange-800 border-orange-200\",\r\n      color: '#F97316'\r\n    },\r\n    low: {\r\n      bg: \"bg-yellow-50\",\r\n      border: \"border-yellow-200\",\r\n      text: \"text-yellow-800\",\r\n      badge: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\r\n      color: '#EAB308'\r\n    }\r\n  };\r\n\r\n  const statusConfig = {\r\n    active: {\r\n      badge: \"bg-blue-100 text-blue-800 border-blue-200\",\r\n      text: \"Active\"\r\n    },\r\n    acknowledged: {\r\n      badge: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\r\n      text: \"Acknowledged\"\r\n    },\r\n    resolved: {\r\n      badge: \"bg-green-100 text-green-800 border-green-200\", \r\n      text: \"Resolved\"\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    fetchAnomalies();\r\n  }, [homeId]);\r\n\r\n  const fetchAnomalies = async () => {\r\n    if (!homeId) {\r\n      setAnomalies([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(\r\n        `${API_BASE}/anomalies?homeId=${homeId}&limit=50`, // Increased limit for better graph data\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setAnomalies(data);\r\n      } else {\r\n        setAnomalies([]);\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to fetch anomalies\", e);\r\n      setAnomalies([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Process data for the line graph\r\n  const getGraphData = useMemo(() => {\r\n    if (!anomalies.length) return [];\r\n\r\n    // Group anomalies by date\r\n    const anomaliesByDate = anomalies.reduce((acc, anomaly) => {\r\n      const date = new Date(anomaly.detected_at).toLocaleDateString();\r\n      if (!acc[date]) {\r\n        acc[date] = {\r\n          date,\r\n          total: 0,\r\n          high: 0,\r\n          medium: 0,\r\n          low: 0,\r\n          unusual_spike: 0,\r\n          high_energy: 0\r\n        };\r\n      }\r\n      \r\n      acc[date].total++;\r\n      acc[date][anomaly.severity] = (acc[date][anomaly.severity] || 0) + 1;\r\n      acc[date][anomaly.alert_type] = (acc[date][anomaly.alert_type] || 0) + 1;\r\n      \r\n      return acc;\r\n    }, {});\r\n\r\n    // Convert to array and sort by date\r\n    return Object.values(anomaliesByDate)\r\n      .sort((a, b) => new Date(a.date) - new Date(b.date))\r\n      .slice(-15); // Last 15 days\r\n  }, [anomalies]);\r\n\r\n  // Get severity distribution for pie chart\r\n  const getSeverityData = useMemo(() => {\r\n    const severityCount = anomalies.reduce((acc, anomaly) => {\r\n      acc[anomaly.severity] = (acc[anomaly.severity] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    return Object.entries(severityCount).map(([name, value]) => ({\r\n      name: name.charAt(0).toUpperCase() + name.slice(1),\r\n      value,\r\n      fill: severityConfig[name]?.color || '#6B7280'\r\n    }));\r\n  }, [anomalies, severityConfig]);\r\n\r\n  // Get alert type distribution\r\n  const getAlertTypeData = useMemo(() => {\r\n    const typeCount = anomalies.reduce((acc, anomaly) => {\r\n      const type = anomaly.alert_type.replace(/_/g, ' ');\r\n      acc[type] = (acc[type] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    return Object.entries(typeCount).map(([name, value]) => ({\r\n      name: name.charAt(0).toUpperCase() + name.slice(1),\r\n      value\r\n    }));\r\n  }, [anomalies]);\r\n\r\n  const handleResolveAnomaly = async (anomalyId) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    setActionLoading(anomalyId);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/anomalies/${anomalyId}/resolve`, {\r\n        method: \"PATCH\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (res.ok) {\r\n        setAnomalies(prev => prev.filter(alert => alert._id !== anomalyId));\r\n        if (selectedAnomaly?._id === anomalyId) {\r\n          setShowDetailsModal(false);\r\n          setSelectedAnomaly(null);\r\n        }\r\n      } else {\r\n        console.error(\"Failed to resolve anomaly\");\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to resolve anomaly\", e);\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAnomaly = async (anomalyId) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    setActionLoading(anomalyId);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/anomalies/${anomalyId}`, {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (res.ok) {\r\n        setAnomalies(prev => prev.filter(alert => alert._id !== anomalyId));\r\n        if (selectedAnomaly?._id === anomalyId) {\r\n          setShowDetailsModal(false);\r\n          setSelectedAnomaly(null);\r\n        }\r\n      } else {\r\n        console.error(\"Failed to delete anomaly\");\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to delete anomaly\", e);\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  // Confirmation handlers\r\n  const confirmResolveAnomaly = (anomalyId, anomalyName) => {\r\n    setPendingAction({\r\n      type: 'resolve',\r\n      id: anomalyId,\r\n      name: anomalyName\r\n    });\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const confirmDeleteAnomaly = (anomalyId, anomalyName) => {\r\n    setPendingAction({\r\n      type: 'delete', \r\n      id: anomalyId,\r\n      name: anomalyName\r\n    });\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const executePendingAction = () => {\r\n    if (!pendingAction) return;\r\n    \r\n    if (pendingAction.type === 'resolve') {\r\n      handleResolveAnomaly(pendingAction.id);\r\n    } else if (pendingAction.type === 'delete') {\r\n      handleDeleteAnomaly(pendingAction.id);\r\n    }\r\n    \r\n    setShowConfirmModal(false);\r\n    setPendingAction(null);\r\n  };\r\n\r\n  const cancelPendingAction = () => {\r\n    setShowConfirmModal(false);\r\n    setPendingAction(null);\r\n  };\r\n\r\n  const getTimeAgo = (date) => {\r\n    const now = new Date();\r\n    const diffMs = now - new Date(date);\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return new Date(date).toLocaleDateString();\r\n  };\r\n\r\n  // Graph View Component\r\n  const GraphView = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n        <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n          <div className=\"text-2xl font-bold text-gray-900\">{anomalies.length}</div>\r\n          <div className=\"text-sm text-gray-600\">Total Anomalies</div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n          <div className=\"text-2xl font-bold text-red-600\">\r\n            {anomalies.filter(a => a.severity === 'high').length}\r\n          </div>\r\n          <div className=\"text-sm text-gray-600\">High Severity</div>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n          <div className=\"text-2xl font-bold text-blue-600\">\r\n            {anomalies.filter(a => a.status === 'active').length}\r\n          </div>\r\n          <div className=\"text-sm text-gray-600\">Active Alerts</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Line Chart - Anomalies Over Time */}\r\n      <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n        <h4 className=\"font-semibold text-gray-900 mb-4\">Anomaly Trends Over Time</h4>\r\n        <ResponsiveContainer width=\"100%\" height={200}>\r\n          <LineChart data={getGraphData}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis \r\n              dataKey=\"date\" \r\n              angle={-45}\r\n              textAnchor=\"end\"\r\n              height={60}\r\n              interval={0}\r\n              fontSize={10}\r\n            />\r\n            <YAxis fontSize={10} />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"total\" \r\n              stroke=\"#3B82F6\" \r\n              name=\"Total Anomalies\"\r\n              strokeWidth={2}\r\n              dot={{ fill: '#3B82F6', strokeWidth: 2, r: 4 }}\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"high\" \r\n              stroke=\"#EF4444\" \r\n              name=\"High Severity\"\r\n              strokeWidth={2}\r\n              dot={{ fill: '#EF4444', strokeWidth: 2, r: 3 }}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Distribution Charts */}\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        {/* Severity Distribution */}\r\n        <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n          <h4 className=\"font-semibold text-gray-900 mb-4\">Severity Distribution</h4>\r\n          <ResponsiveContainer width=\"100%\" height={150}>\r\n            <PieChart>\r\n              <Pie\r\n                data={getSeverityData}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                innerRadius={40}\r\n                outerRadius={60}\r\n                paddingAngle={2}\r\n                dataKey=\"value\"\r\n              >\r\n                {getSeverityData.map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={entry.fill} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Alert Type Distribution */}\r\n        <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n          <h4 className=\"font-semibold text-gray-900 mb-4\">Alert Type Distribution</h4>\r\n          <ResponsiveContainer width=\"100%\" height={150}>\r\n            <BarChart data={getAlertTypeData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis \r\n                dataKey=\"name\" \r\n                angle={-45}\r\n                textAnchor=\"end\"\r\n                height={40}\r\n                fontSize={10}\r\n              />\r\n              <YAxis fontSize={10} />\r\n              <Tooltip />\r\n              <Bar dataKey=\"value\" fill=\"#8B5CF6\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Anomalies Mini List */}\r\n      <div className=\"bg-white rounded-lg p-4 shadow border\">\r\n        <h4 className=\"font-semibold text-gray-900 mb-4\">Recent Anomalies</h4>\r\n        <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n          {anomalies.slice(0, 5).map((alert) => (\r\n            <div\r\n              key={alert._id}\r\n              className=\"flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer\"\r\n              onClick={() => {\r\n                setSelectedAnomaly(alert);\r\n                setShowDetailsModal(true);\r\n              }}\r\n            >\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className={`w-3 h-3 rounded-full ${\r\n                  alert.severity === 'high' ? 'bg-red-500' :\r\n                  alert.severity === 'medium' ? 'bg-orange-500' : 'bg-yellow-500'\r\n                }`} />\r\n                <span className=\"text-sm font-medium\">{alert.applianceId?.name || \"Unknown\"}</span>\r\n              </div>\r\n              <span className=\"text-xs text-gray-500\">\r\n                {getTimeAgo(alert.detected_at)}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // List View Component (your existing list view)\r\n  const ListView = () => (\r\n    <div className=\"space-y-3 max-h-96 overflow-y-auto pr-1\">\r\n      {anomalies.map((alert) => {\r\n        const severity = severityConfig[alert.severity] || severityConfig.low;\r\n        const status = statusConfig[alert.status] || statusConfig.active;\r\n        const appliance = alert.applianceId?.name || \"Unknown Appliance\";\r\n        const room = alert.roomId?.name || \"Unknown Room\";\r\n        \r\n        return (\r\n          <div\r\n            key={alert._id}\r\n            className={`p-4 rounded-xl border-2 ${severity.bg} ${severity.border} transition-all hover:shadow-md cursor-pointer group`}\r\n            onClick={() => {\r\n              setSelectedAnomaly(alert);\r\n              setShowDetailsModal(true);\r\n            }}\r\n          >\r\n            {/* Header - Appliance name left, status badges right */}\r\n            <div className=\"flex justify-between items-start mb-3\">\r\n              <div className=\"min-w-0 flex-1\">\r\n                <div className=\"font-semibold text-gray-900 text-sm truncate text-left\">{appliance}</div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 ml-3 flex-shrink-0\">\r\n                <span className={`text-xs px-2 py-1 rounded-full font-medium ${severity.badge}`}>\r\n                  {alert.severity}\r\n                </span>\r\n                <span className={`text-xs px-2 py-1 rounded-full border ${status.badge}`}>\r\n                  {status.text}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content - Left Aligned */}\r\n            <div className=\"space-y-2\">\r\n              <div className={`text-sm font-medium ${severity.text} text-left leading-relaxed`}>\r\n                {alert.description}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer - Left Aligned */}\r\n            <div className=\"flex justify-between items-center mt-3 pt-3 border-t border-gray-200\">\r\n              <div className=\"flex items-center space-x-1 text-xs text-gray-600\">\r\n                <svg className=\"w-3 h-3 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                <span className=\"truncate\">{room}</span>\r\n              </div>\r\n              \r\n              {/* Quick Actions - Right Aligned */}\r\n              <div className=\"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0\">\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    confirmResolveAnomaly(alert._id, appliance);\r\n                  }}\r\n                  disabled={actionLoading === alert._id}\r\n                  className=\"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700 transition-colors disabled:opacity-50 flex-shrink-0\"\r\n                >\r\n                  {actionLoading === alert._id ? '...' : 'Resolve'}\r\n                </button>\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    confirmDeleteAnomaly(alert._id, appliance);\r\n                  }}\r\n                  disabled={actionLoading === alert._id}\r\n                  className=\"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 transition-colors disabled:opacity-50 flex-shrink-0\"\r\n                >\r\n                  {actionLoading === alert._id ? '...' : 'Delete'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-32\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n          <div className=\"text-gray-500 text-sm\">Loading alerts...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (anomalies.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center h-32 text-gray-500 text-sm\">\r\n        <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-3\">\r\n          <svg className=\"w-8 h-8 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n        </div>\r\n        <span className=\"font-medium text-gray-600\">No Anomaly Alerts</span>\r\n        <span className=\"text-xs mt-1\">All systems are running normally</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Content */}\r\n      {viewMode === 'list' ? <ListView /> : <GraphView />}\r\n\r\n      {/* Anomaly Details Modal */}\r\n      {showDetailsModal && selectedAnomaly && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => setShowDetailsModal(false)}>\r\n          <div className=\"bg-white rounded-xl max-w-2xl w-full mx-auto shadow-2xl transform transition-all\" onClick={(e) => e.stopPropagation()}>\r\n            {/* Header */}\r\n            <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-start\">\r\n              <div>\r\n                <h3 className=\"font-bold text-gray-900 text-lg text-left\">Anomaly Details</h3>\r\n                <div className=\"flex items-center space-x-2 mt-1\">\r\n                  <span className={`text-xs px-2 py-1 rounded-full font-medium ${(severityConfig[selectedAnomaly.severity] || severityConfig.low).badge}`}>\r\n                    {selectedAnomaly.severity}\r\n                  </span>\r\n                  <span className={`text-xs px-2 py-1 rounded-full border ${(statusConfig[selectedAnomaly.status] || statusConfig.active).badge}`}>\r\n                    {(statusConfig[selectedAnomaly.status] || statusConfig.active).text}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button \r\n                onClick={() => setShowDetailsModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100 flex-shrink-0\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"px-6 py-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                {/* Anomaly Information */}\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <h4 className=\"font-semibold text-gray-900 text-sm mb-2 text-left\">Appliance Information</h4>\r\n                    <div className=\"space-y-2 text-sm\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-600\">Appliance:</span>\r\n                        <span className=\"font-medium text-right\">{selectedAnomaly.applianceId?.name || \"Unknown\"}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-600\">Room:</span>\r\n                        <span className=\"font-medium text-right\">{selectedAnomaly.roomId?.name || \"Unknown\"}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-600\">Alert Type:</span>\r\n                        <span className=\"font-medium text-right capitalize\">{selectedAnomaly.alert_type?.replace(/_/g, ' ')}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <h4 className=\"font-semibold text-gray-900 text-sm mb-2 text-left\">Detection Details</h4>\r\n                    <div className=\"space-y-2 text-sm\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-600\">Detected:</span>\r\n                        <span className=\"font-medium text-right\">{new Date(selectedAnomaly.detected_at).toLocaleString()}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-600\">Time Ago:</span>\r\n                        <span className=\"font-medium text-right\">{getTimeAgo(selectedAnomaly.detected_at)}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Alert Details */}\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"bg-gray-50 p-4 rounded-lg border text-left\">\r\n                    <h4 className=\"font-semibold text-gray-900 text-sm mb-2\">Anomaly Description</h4>\r\n                    <p className=\"text-gray-700 text-sm leading-relaxed text-left\">\r\n                      {selectedAnomaly.description}\r\n                    </p>\r\n                  </div>\r\n\r\n                  {selectedAnomaly.recommended_action && (\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200 text-left\">\r\n                      <h4 className=\"font-semibold text-blue-800 text-sm mb-2\">Recommended Action</h4>\r\n                      <p className=\"text-blue-700 text-sm leading-relaxed text-left\">\r\n                        {selectedAnomaly.recommended_action}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"text-xs text-gray-500 text-left\">\r\n                  ID: {selectedAnomaly._id}\r\n                </div>\r\n                <div className=\"flex space-x-3\">\r\n                  <button\r\n                    onClick={() => confirmDeleteAnomaly(selectedAnomaly._id, selectedAnomaly.applianceId?.name || \"Unknown Appliance\")}\r\n                    disabled={actionLoading === selectedAnomaly._id}\r\n                    className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium disabled:opacity-50\"\r\n                  >\r\n                    {actionLoading === selectedAnomaly._id ? 'Deleting...' : 'Delete'}\r\n                  </button>\r\n                  \r\n                  <button\r\n                    onClick={() => confirmResolveAnomaly(selectedAnomaly._id, selectedAnomaly.applianceId?.name || \"Unknown Appliance\")}\r\n                    disabled={actionLoading === selectedAnomaly._id}\r\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50\"\r\n                  >\r\n                    {actionLoading === selectedAnomaly._id ? 'Resolving...' : 'Mark Resolved'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirmation Modal */}\r\n      {showConfirmModal && pendingAction && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl max-w-sm w-full mx-auto shadow-2xl\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-center space-x-3 mb-4\">\r\n                <div className=\"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center\">\r\n                  <svg className=\"w-5 h-5 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900 text-left\">\r\n                  {pendingAction.type === 'resolve' ? 'Mark as Resolved?' : 'Delete Anomaly?'}\r\n                </h3>\r\n              </div>\r\n              \r\n              <p className=\"text-gray-600 mb-6 text-left\">\r\n                {pendingAction.type === 'resolve' \r\n                  ? `Are you sure you want to mark the anomaly for \"${pendingAction.name}\" as resolved? This will remove it from the active alerts list.`\r\n                  : `Are you sure you want to permanently delete the anomaly alert for \"${pendingAction.name}\"? This action cannot be undone.`\r\n                }\r\n              </p>\r\n\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={cancelPendingAction}\r\n                  className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={executePendingAction}\r\n                  disabled={actionLoading === pendingAction.id}\r\n                  className={`px-4 py-2 text-white rounded-lg transition-colors text-sm font-medium disabled:opacity-50 ${\r\n                    pendingAction.type === 'resolve' \r\n                      ? 'bg-green-600 hover:bg-green-700' \r\n                      : 'bg-red-600 hover:bg-red-700'\r\n                  }`}\r\n                >\r\n                  {actionLoading === pendingAction.id ? 'Processing...' : \r\n                   pendingAction.type === 'resolve' ? 'Mark Resolved' : 'Delete'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// ---------- Notifications Dropdown and Popup ----------\r\nconst NotificationsUI = ({ homeId }) => {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [selectedNotif, setSelectedNotif] = useState(null);\r\n  const [homes, setHomes] = useState([]);\r\n  const API_BASE = \"http://localhost:5000/api\";\r\n\r\n  // Fetch homes to get home names\r\n  useEffect(() => {\r\n    const fetchHomes = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n      try {\r\n        const res = await fetch(`${API_BASE}/homes`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          setHomes(data);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Failed to fetch homes\", e);\r\n      }\r\n    };\r\n    fetchHomes();\r\n  }, []);\r\n\r\n  // Get home name by ID\r\n  const getHomeName = (homeId) => {\r\n    const home = homes.find(h => h._id === homeId || h.id === homeId);\r\n    return home?.name || \"Unknown\";\r\n  };\r\n\r\n  // Parse notification message to separate anomaly and recommendation\r\n  const parseNotificationMessage = (message) => {\r\n    if (!message) return { anomaly: '', recommendation: '' };\r\n    \r\n    const recommendationIndex = message.indexOf('Recommended:');\r\n    if (recommendationIndex === -1) {\r\n      return { anomaly: message, recommendation: '' };\r\n    }\r\n    \r\n    return {\r\n      anomaly: message.substring(0, recommendationIndex).trim(),\r\n      recommendation: message.substring(recommendationIndex + 12).trim()\r\n    };\r\n  };\r\n\r\n  const fetchNotifications = useCallback(async () => {\r\n    if (!homeId) {\r\n      setNotifications([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await fetch(\r\n        `${API_BASE}/notifications?homeId=${homeId}&limit=10`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      if (!res.ok) throw new Error(\"Failed to fetch notifications\");\r\n      const data = await res.json();\r\n      setNotifications(data.notifications || []);\r\n    } catch (e) {\r\n      console.error(\"Failed to fetch notifications\", e);\r\n      setError(\"Failed to load notifications. Please try again.\");\r\n      setNotifications([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [homeId]);\r\n\r\n  useEffect(() => {\r\n    fetchNotifications();\r\n  }, [fetchNotifications]);\r\n\r\n  const unacknowledgedCount = notifications.filter(n => n.status !== \"acknowledged\").length;\r\n\r\n  const handleAcknowledge = async (id) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(`${API_BASE}/notifications/${id}/acknowledge`, {\r\n        method: \"PATCH\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (res.ok) {\r\n        setNotifications(prev => prev.map(n => n._id === id ? {...n, status: \"acknowledged\"} : n));\r\n        if (selectedNotif?._id === id) {\r\n          setSelectedNotif({ ...selectedNotif, status: \"acknowledged\" });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(`${API_BASE}/notifications/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (res.ok) {\r\n        setNotifications(prev => prev.filter(n => n._id !== id));\r\n        if (selectedNotif?._id === id) {\r\n          setSelectedNotif(null);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleBulkAcknowledge = async (ids) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(`${API_BASE}/notifications/acknowledge`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ ids }),\r\n      });\r\n      if (res.ok) {\r\n        setNotifications(prev => prev.map(n => ids.includes(n._id) ? {...n, status: \"acknowledged\"} : n));\r\n        if (selectedNotif && ids.includes(selectedNotif._id)) {\r\n          setSelectedNotif({ ...selectedNotif, status: \"acknowledged\" });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleBulkDelete = async (ids) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(`${API_BASE}/notifications`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ ids }),\r\n      });\r\n      if (res.ok) {\r\n        setNotifications(prev => prev.filter(n => !ids.includes(n._id)));\r\n        setSelectedNotif(null);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const statusColors = {\r\n    pending: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\r\n    sent: \"bg-blue-100 text-blue-800 border-blue-300\",\r\n    failed: \"bg-red-100 text-red-800 border-red-300\",\r\n    acknowledged: \"bg-green-100 text-green-800 border-green-300\",\r\n  };\r\n  const statusBadge = {\r\n    pending: \"bg-yellow-600 text-white\",\r\n    sent: \"bg-blue-600 text-white\",\r\n    failed: \"bg-red-600 text-white\",\r\n    acknowledged: \"bg-green-600 text-white\",\r\n  };\r\n\r\n  if (loading) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Notification Icon */}\r\n      <div className=\"relative\">\r\n        <button\r\n          onClick={() => setShowDropdown(!showDropdown)}\r\n          className=\"w-10 h-10 flex items-center justify-center rounded-full bg-white hover:bg-gray-100 shadow-md relative transition-all duration-200\"\r\n        >\r\n          <img \r\n            src={bellIcon} \r\n            alt=\"Notifications\" \r\n            className=\"w-5 h-5\" \r\n            style={{ filter: 'brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(2000%) hue-rotate(210deg) brightness(90%) contrast(90%)' }} \r\n          />\r\n          {unacknowledgedCount > 0 && (\r\n            <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] flex items-center justify-center font-semibold shadow-sm\">\r\n              {unacknowledgedCount > 9 ? '9+' : unacknowledgedCount}\r\n            </span>\r\n          )}\r\n        </button>\r\n\r\n        {/* Dropdown List */}\r\n        {showDropdown && (\r\n          <div className=\"absolute right-0 top-12 w-80 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden z-50 max-h-96 overflow-y-auto\">\r\n            <div className=\"p-4 border-b bg-gray-50 flex justify-between items-center\">\r\n              <h3 className=\"font-semibold text-gray-800 text-sm\">Notifications</h3>\r\n              {notifications.length > 0 && (\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={() => handleBulkAcknowledge(notifications.filter(n => n.status !== \"acknowledged\").map(n => n._id))}\r\n                    className=\"text-xs text-green-600 hover:text-green-700 font-medium transition-colors\"\r\n                  >\r\n                    Mark all read\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleBulkDelete(notifications.map(n => n._id))}\r\n                    className=\"text-xs text-red-600 hover:text-red-700 font-medium transition-colors\"\r\n                  >\r\n                    Clear all\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {error ? (\r\n              <div className=\"p-4 text-center text-red-500 text-sm bg-red-50\">{error}</div>\r\n            ) : notifications.length === 0 ? (\r\n              <div className=\"p-6 text-center text-gray-500 text-sm\">\r\n                <svg className=\"w-8 h-8 mx-auto mb-2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M15 17h5l-5 5v-5zM4.93 4.93l9.07 9.07-9.07 9.07L4.93 4.93z\" />\r\n                </svg>\r\n                <div>No notifications</div>\r\n              </div>\r\n            ) : (\r\n              notifications.map((notif) => {\r\n                const isBilling = notif.channels?.includes(\"bill_reminder\");\r\n                const title = isBilling ? \"Billing Reminder\" : \"Anomaly Alert\";\r\n                const statusClass = statusBadge[notif.status] || statusBadge.pending;\r\n                const itemClass = notif.status === \"acknowledged\" ? \"opacity-60 bg-gray-50\" : \"bg-white\";\r\n                \r\n                return (\r\n                  <div\r\n                    key={notif._id}\r\n                    onClick={() => {\r\n                      setSelectedNotif(notif);\r\n                      setShowDropdown(false);\r\n                    }}\r\n                    className={`p-4 border-b hover:bg-blue-50 cursor-pointer flex items-start gap-3 transition-colors ${itemClass}`}\r\n                  >\r\n                    <div className={`w-2 h-2 mt-2 rounded-full ${notif.status === \"acknowledged\" ? 'bg-gray-400' : 'bg-blue-500'} flex-shrink-0`}></div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex justify-between items-start mb-2\">\r\n                        <div className={`font-medium text-sm ${notif.status === \"acknowledged\" ? 'text-gray-500' : 'text-gray-800'}`}>\r\n                          {title}\r\n                        </div>\r\n                        <span className={`text-xs px-2 py-1 rounded-full font-semibold uppercase ${statusClass}`}>\r\n                          {notif.status}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      {/* SIMPLIFIED List View - Just show the main message */}\r\n                      <div className=\"text-xs text-gray-600 line-clamp-2 mb-2 leading-relaxed\">\r\n                        {parseNotificationMessage(notif.message).anomaly}\r\n                      </div>\r\n                      \r\n                      <div className=\"flex justify-between items-center\">\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          {new Date(notif.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                        </div>\r\n                        {notif.status !== \"acknowledged\" && (\r\n                          <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Improved Popup Modal for Details */}\r\n      {selectedNotif && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" onClick={() => setSelectedNotif(null)}>\r\n          <div className=\"bg-white rounded-xl max-w-md w-full mx-auto shadow-2xl transform transition-all\" onClick={(e) => e.stopPropagation()}>\r\n            {/* Header */}\r\n            <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-start\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className={`w-3 h-3 rounded-full ${selectedNotif.status === \"acknowledged\" ? 'bg-green-500' : 'bg-blue-500'}`}></div>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-gray-800 text-lg\">\r\n                    {selectedNotif.channels?.includes(\"bill_reminder\") ? \"Billing Reminder\" : \"Anomaly Alert\"}\r\n                  </h3>\r\n                  <span className={`text-xs px-2 py-1 rounded-full font-semibold uppercase ${statusBadge[selectedNotif.status] || statusBadge.pending}`}>\r\n                    {selectedNotif.status}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button \r\n                onClick={() => setSelectedNotif(null)}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"px-6 py-4\">\r\n              <div className=\"mb-6\">\r\n                <div className=\"space-y-4\">\r\n                  {/* Anomaly Section */}\r\n                  <div className=\"bg-gray-50 p-4 rounded-lg border\">\r\n                    <h4 className=\"font-medium text-gray-800 text-sm mb-2 flex items-center gap-2\">\r\n                      <svg className=\"w-4 h-4 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n                      </svg>\r\n                      Anomaly Detected\r\n                    </h4>\r\n                    <div className=\"text-gray-700 text-sm leading-relaxed\">\r\n                      {parseNotificationMessage(selectedNotif.message).anomaly}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Recommendation Section */}\r\n                  {parseNotificationMessage(selectedNotif.message).recommendation && (\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\r\n                      <h4 className=\"font-medium text-blue-800 text-sm mb-2 flex items-center gap-2\">\r\n                        <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n                        </svg>\r\n                        Recommended Action\r\n                      </h4>\r\n                      <div className=\"text-blue-700 text-sm leading-relaxed\">\r\n                        {parseNotificationMessage(selectedNotif.message).recommendation}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Metadata */}\r\n              <div className=\"space-y-3 text-sm\">\r\n                <div className=\"flex justify-between py-2 border-b border-gray-100\">\r\n                  <span className=\"text-gray-600 font-medium\">Home:</span>\r\n                  <span className=\"text-gray-800\">{getHomeName(selectedNotif.homeId)}</span>\r\n                </div>\r\n                \r\n                {selectedNotif.due_date && (\r\n                  <div className=\"flex justify-between py-2 border-b border-gray-100\">\r\n                    <span className=\"text-gray-600 font-medium\">Due Date:</span>\r\n                    <span className=\"text-red-600 font-semibold\">\r\n                      {new Date(selectedNotif.due_date).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                \r\n                {selectedNotif.anomalyAlertId && (\r\n                  <>\r\n                    <div className=\"flex justify-between py-2 border-b border-gray-100\">\r\n                      <span className=\"text-gray-600 font-medium\">Severity:</span>\r\n                      <span className={`font-semibold ${\r\n                        selectedNotif.anomalyAlertId.severity === 'high' ? 'text-red-600' :\r\n                        selectedNotif.anomalyAlertId.severity === 'medium' ? 'text-orange-600' : 'text-yellow-600'\r\n                      }`}>\r\n                        {selectedNotif.anomalyAlertId.severity}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between py-2 border-b border-gray-100\">\r\n                      <span className=\"text-gray-600 font-medium\">Alert Type:</span>\r\n                      <span className=\"text-gray-800 capitalize\">\r\n                        {selectedNotif.anomalyAlertId.alert_type?.replace(/_/g, ' ')}\r\n                      </span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                \r\n                <div className=\"flex justify-between py-2 border-b border-gray-100\">\r\n                  <span className=\"text-gray-600 font-medium\">Created:</span>\r\n                  <span className=\"text-gray-800\">\r\n                    {new Date(selectedNotif.created_at).toLocaleString()}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            {selectedNotif.status !== \"acknowledged\" && (\r\n              <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl\">\r\n                <div className=\"flex justify-end gap-3\">\r\n                  <button\r\n                    onClick={() => handleDelete(selectedNotif._id)}\r\n                    className=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleAcknowledge(selectedNotif._id)}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\r\n                  >\r\n                    Mark as Read\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// ---------- Dashboard Component ----------\r\nconst Dashboard = ({ onSwitch }) => {\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const [anomalyViewMode, setAnomalyViewMode] = useState('list'); // Add this state\r\n  const bgUrl =\r\n    \"https://images.unsplash.com/photo-1501183638710-841dd1904471?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170\"\r\n  // ---------- Global states ----------\r\n  const [loading, setLoading] = useState(true);\r\n  const [homes, setHomes] = useState([]);\r\n  const [selectedHomeIndex, setSelectedHomeIndex] = useState(null);\r\n  const [periodType, setPeriodType] = useState(\"monthly\"); // daily | weekly | monthly\r\n  // ---------- Data containers ----------\r\n  const [overallData, setOverallData] = useState([]); // for line chart\r\n  const [roomData, setRoomData] = useState([]);\r\n  const [applianceData, setApplianceData] = useState([]);\r\n  const [historyData, setHistoryData] = useState([]);\r\n  const [overallBill, setOverallBill] = useState(\"0\");\r\n  const [upcomingBill, setUpcomingBill] = useState(\"0\");\r\n  const API_BASE = \"http://localhost:5000/api\";\r\n  // ---------- Helpers ----------\r\n  const formatPeriodLabel = useCallback((periodType, start) => {\r\n    const d = new Date(start);\r\n    if (periodType === \"daily\") return d.toISOString().split(\"T\")[0];\r\n    if (periodType === \"weekly\") {\r\n      const week = Math.ceil(d.getDate() / 7);\r\n      return `Week ${week} ${d.getFullYear()}`;\r\n    }\r\n    // monthly\r\n    return d.toLocaleString(\"default\", { month: \"short\", year: \"numeric\" });\r\n  }, []);\r\n  // ---------- Enhanced Data processors ----------\r\n  const processRoomConsumptionData = useCallback((readings, rooms) => {\r\n    if (!rooms?.length) return [];\r\n    const map = {};\r\n    rooms.forEach((r) => (map[r.name] = 0));\r\n    readings.forEach((r) => {\r\n      const roomId = typeof r.roomId === \"string\" ? r.roomId : r.roomId?._id || r.roomId?.id;\r\n      if (!roomId) return;\r\n      const room = rooms.find((rm) => (rm._id?.toString() || rm.id?.toString()) === roomId.toString());\r\n      if (room) map[room.name] = (map[room.name] || 0) + +(r.energy || 0);\r\n    });\r\n    return Object.entries(map)\r\n      .map(([name, value]) => ({\r\n        name,\r\n        value: +value.toFixed(2),\r\n      }))\r\n      .sort((a, b) => b.value - a.value);\r\n  }, []);\r\n\r\n  const processApplianceConsumptionData = useCallback((readings, appliances) => {\r\n    if (!appliances?.length) return [];\r\n    const map = {};\r\n    readings.forEach((r) => {\r\n      const appId = typeof r.applianceId === \"string\" ? r.applianceId : r.applianceId?._id || r.applianceId?.id;\r\n      if (!appId) return;\r\n      const app = appliances.find((a) => (a._id?.toString() || a.id?.toString()) === appId.toString());\r\n      const name = app?.name || app?.type || \"Unknown\";\r\n      map[name] = (map[name] || 0) + +(r.energy || 0);\r\n    });\r\n    return Object.entries(map)\r\n      .map(([name, value]) => ({\r\n        name,\r\n        value: +value.toFixed(2),\r\n      }))\r\n      .sort((a, b) => b.value - a.value);\r\n  }, []);\r\n\r\n  const processHistoryData = useCallback((readings, appliances, rooms) => {\r\n    if (!readings?.length) return [];\r\n    return readings.slice(0, 15).map((r) => {\r\n      const appId = typeof r.applianceId === \"string\" ? r.applianceId : r.applianceId?._id || r.applianceId?.id;\r\n      const roomId = typeof r.roomId === \"string\" ? r.roomId : r.roomId?._id || r.roomId?.id;\r\n      \r\n      const app = appliances.find((a) => (a._id?.toString() || a.id?.toString()) === appId?.toString());\r\n      const room = rooms.find((rm) => (rm._id?.toString() || rm.id?.toString()) === roomId?.toString());\r\n      \r\n      const date = new Date(r.recorded_at);\r\n      const time = `${String(date.getHours()).padStart(2, \"0\")}:${String(date.getMinutes()).padStart(2, \"0\")}:${String(date.getSeconds()).padStart(2, \"0\")}`;\r\n      const dateStr = date.toLocaleDateString();\r\n      \r\n      // Calculate percentage change (using a simple mock calculation)\r\n      const current = +(r.energy || 0).toFixed(2);\r\n      const past = current * (0.8 + Math.random() * 0.4); // Random variation for demo\r\n      const percentage = current > 0 ? ((current - past) / past * 100).toFixed(1) : 0;\r\n      \r\n      return {\r\n        appliance: app?.name || \"Unknown Appliance\",\r\n        room: room?.name || \"Unknown Room\",\r\n        timestamp: `${dateStr} ${time}`,\r\n        current,\r\n        past: +past.toFixed(2),\r\n        percentage: +percentage,\r\n        isOn: r.is_on,\r\n        power: r.power || 0,\r\n        cost: r.cost || 0\r\n      };\r\n    });\r\n  }, []);\r\n  // ---------- Load homes ----------\r\n  useEffect(() => {\r\n    const fetchHomes = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n      try {\r\n        const res = await fetch(`${API_BASE}/homes`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (!res.ok) throw new Error(\"Failed to fetch homes\");\r\n        const data = await res.json();\r\n        setHomes(data);\r\n        const saved = localStorage.getItem(\"selectedHomeIndex\");\r\n        if (saved !== null && Number(saved) < data.length) {\r\n          setSelectedHomeIndex(Number(saved));\r\n        } else if (data.length) {\r\n          setSelectedHomeIndex(0);\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    };\r\n    fetchHomes();\r\n  }, []);\r\n  // persist home selection\r\n  useEffect(() => {\r\n    if (selectedHomeIndex !== null) {\r\n      localStorage.setItem(\"selectedHomeIndex\", selectedHomeIndex);\r\n    } else {\r\n      localStorage.removeItem(\"selectedHomeIndex\");\r\n    }\r\n  }, [selectedHomeIndex]);\r\n  // ---------- Load dashboard data for selected home ----------\r\n  const selectedHome = useMemo(\r\n    () => (selectedHomeIndex !== null ? homes[selectedHomeIndex] : null),\r\n    [homes, selectedHomeIndex]\r\n  );\r\n  useEffect(() => {\r\n    if (!selectedHome) return;\r\n    const fetchDashboard = async () => {\r\n      setLoading(true);\r\n      const token = localStorage.getItem(\"token\");\r\n      const homeId = selectedHome._id || selectedHome.id;\r\n      try {\r\n        // 1. Energy summary (grouped by period)\r\n        const summaryRes = await fetch(\r\n          `${API_BASE}/energy/summary?homeId=${homeId}&period_type=${periodType}`,\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        const summaries = summaryRes.ok ? await summaryRes.json() : [];\r\n        const lineData = summaries.map((s) => ({\r\n          label: formatPeriodLabel(periodType, s.period_start),\r\n          consumption: +s.total_energy.toFixed(2),\r\n          production: 0,\r\n        }));\r\n        setOverallData(lineData);\r\n        // 2. Raw readings (for rooms, appliances, history)\r\n        const [readingsRes, appliancesRes, roomsRes] = await Promise.all([\r\n          fetch(`${API_BASE}/energy?homeId=${homeId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          fetch(`${API_BASE}/appliances?homeId=${homeId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          fetch(`${API_BASE}/rooms?homeId=${homeId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n        ]);\r\n        const [readings, appliances, rooms] = await Promise.all([\r\n          readingsRes.ok ? readingsRes.json() : [],\r\n          appliancesRes.ok ? appliancesRes.json() : [],\r\n          roomsRes.ok ? roomsRes.json() : [],\r\n        ]);\r\n        setRoomData(processRoomConsumptionData(readings, rooms));\r\n        setApplianceData(processApplianceConsumptionData(readings, appliances));\r\n        setHistoryData(processHistoryData(readings, appliances, rooms)); // Updated to include rooms\r\n        // Bills\r\n        const totalCost = readings.reduce((s, r) => s + (r.cost || 0), 0);\r\n        const recentCost = readings\r\n          .filter((r) => {\r\n            const days = (Date.now() - new Date(r.recorded_at).getTime()) / (1000 * 60 * 60 * 24);\r\n            return days <= 30;\r\n          })\r\n          .reduce((s, r) => s + (r.cost || 0), 0);\r\n        setOverallBill(`${totalCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`);\r\n        setUpcomingBill(`${recentCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`);\r\n      } catch (e) {\r\n        console.error(e);\r\n        setOverallData([]);\r\n        setRoomData([]);\r\n        setApplianceData([]);\r\n        setHistoryData([]);\r\n        setOverallBill(\"0.00\");\r\n        setUpcomingBill(\"0.00\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchDashboard();\r\n  }, [\r\n    selectedHome,\r\n    periodType,\r\n    processRoomConsumptionData,\r\n    processApplianceConsumptionData,\r\n    processHistoryData,\r\n    formatPeriodLabel,\r\n  ]);\r\n  // ---------- UI ----------\r\n  const COLORS = [\r\n    \"#4CAF50\",\r\n    \"#FF9800\",\r\n    \"#2196F3\",\r\n    \"#FFEB3B\",\r\n    \"#9C27B0\",\r\n    \"#607D86\",\r\n  ];\r\n  return (\r\n    <div className=\"h-screen w-screen overflow-hidden relative font-sans\">\r\n      {/* Background */}\r\n      <div\r\n        className=\"absolute inset-0 bg-cover bg-center\"\r\n        style={{ backgroundImage: `url(${bgUrl})` }}\r\n      />\r\n      <div className=\"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\" />\r\n      {/* Sidebar */}\r\n      <aside className=\"fixed left-0 top-0 h-full z-30 flex items-center\">\r\n        <div className=\"relative h-64 w-32 flex items-center group cursor-pointer\">\r\n          {/* Arrow */}\r\n          <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-12 h-12 bg-blue-600 rounded-r-full flex items-center justify-center shadow-lg transition-all duration-300 z-10\r\n                          group-hover:opacity-0 group-hover:-translate-x-8\">\r\n            <svg\r\n              className=\"w-5 h-5 text-white transition-transform group-hover:scale-110\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n          </div>\r\n          {/* Panel */}\r\n          <div className=\"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-16 opacity-0 invisible\r\n                          group-hover:translate-x-8 group-hover:opacity-100 group-hover:visible\r\n                          transition-all duration-300 ease-out pointer-events-auto\">\r\n            <div className=\"bg-white p-3 rounded-lg shadow-lg flex flex-col items-center backdrop-blur-sm\">\r\n              <NavItem onClick={() => onSwitch('dashboard')} src={dashboardIcon} label=\"Dashboard\" />\r\n              <NavItem onClick={() => onSwitch('appliance')} src={applianceIcon} label=\"Appliances\" />\r\n              <NavItem onClick={() => onSwitch('profile')} src={profileIcon} label=\"Profile\" />\r\n              <NavItem onClick={() => setShowLogoutConfirm(true)} src={logoutIcon} label=\"Logout\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n      {/* Logout modal */}\r\n      {showLogoutConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-sm mx-4 w-full\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n              Confirm Logout\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-6 text-center\">\r\n              Are you sure you want to logout?\r\n            </p>\r\n            <div className=\"flex justify-center gap-4\">\r\n              <button\r\n                onClick={() => setShowLogoutConfirm(false)}\r\n                className=\"px-6 py-2 text-gray-600 hover:text-gray-800 rounded border border-gray-300 hover:border-gray-400\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => onSwitch(\"login\")}\r\n                className=\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Main content */}\r\n      <div className=\"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto\">\r\n        <div className=\"w-[94%] max-w-[1200px] mt-6 pb-6\">\r\n          <div className=\"flex justify-center items-center mb-6 relative\">\r\n            <h1 className=\"text-3xl tracking-wider font-bold text-white text-center\">\r\n              DASHBOARD\r\n            </h1>\r\n          </div>\r\n          {homes.length > 0 && (\r\n            <div className=\"flex justify-center items-center mb-6 -mt-4 gap-4\">\r\n              <div className=\"inline-flex items-center gap-3 bg-white/95 backdrop-blur-sm rounded-xl px-5 py-3 shadow-lg\">\r\n                <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n                </svg>\r\n                <select\r\n                  value={selectedHomeIndex ?? \"\"}\r\n                  onChange={(e) => setSelectedHomeIndex(Number(e.target.value))}\r\n                  className=\"bg-transparent text-gray-800 font-semibold text-lg focus:outline-none cursor-pointer\"\r\n                >\r\n                  {homes.map((h, i) => (\r\n                    <option key={h._id || h.id || i} value={i}>\r\n                      {h.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <NotificationsUI homeId={selectedHome?._id || selectedHome?.id} />\r\n            </div>\r\n          )}\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n              <div className=\"text-white text-xl\">Loading dashboard data...</div>\r\n            </div>\r\n          ) : homes.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n              <div className=\"text-white text-xl\">\r\n                No homes found. Please add a home first.\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {/* MAIN GRID */}\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\r\n                {/* LEFT COLUMN */}\r\n                <div className=\"flex flex-col gap-6\">\r\n                  {/* Overall Consumption */}\r\n                  <Card className=\"flex-1\">\r\n                    <CardHeader\r\n                      title=\"OVERALL CONSUMPTION\"\r\n                      controls={\r\n                        <select\r\n                          value={periodType}\r\n                          onChange={(e) => setPeriodType(e.target.value)}\r\n                          className=\"bg-white text-sm text-gray-800 rounded px-2 py-1\"\r\n                        >\r\n                          <option value=\"daily\">Daily</option>\r\n                          <option value=\"weekly\">Weekly</option>\r\n                          <option value=\"monthly\">Monthly</option>\r\n                        </select>\r\n                      }\r\n                    />\r\n                    <CardContent>\r\n                      {overallData.length === 0 ? (\r\n                        <div className=\"flex items-center justify-center h-32 text-gray-500 text-sm\">\r\n                          No consumption data for the selected period.\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"w-full h-[280px]\">\r\n                          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <LineChart\r\n                              data={overallData}\r\n                              margin={{ top: 20, right: 20, left: 0, bottom: 50 }}\r\n                            >\r\n                              <CartesianGrid strokeDasharray=\"3 3\" />\r\n                              <XAxis\r\n                                dataKey=\"label\"\r\n                                style={{ fontSize: \"11px\" }}\r\n                                angle={-45}\r\n                                textAnchor=\"end\"\r\n                                interval={0}\r\n                              />\r\n                              <YAxis\r\n                                style={{ fontSize: \"11px\" }}\r\n                                tickFormatter={(v) => v.toLocaleString()}\r\n                              />\r\n                              <Tooltip\r\n                                formatter={(v) => [`${v} kWh`, \"Consumption\"]}\r\n                                labelFormatter={(l) => `Period: ${l}`}\r\n                              />\r\n                              <Legend\r\n                                verticalAlign=\"top\"\r\n                                wrapperStyle={{ fontSize: \"12px\" }}\r\n                              />\r\n                              <Line\r\n                                type=\"monotone\"\r\n                                dataKey=\"production\"\r\n                                stroke=\"#2196F3\"\r\n                                name=\"Production\"\r\n                                strokeWidth={2}\r\n                                dot={false}\r\n                              />\r\n                              <Line\r\n                                type=\"monotone\"\r\n                                dataKey=\"consumption\"\r\n                                stroke=\"#FF5252\"\r\n                                name=\"Consumption\"\r\n                                strokeWidth={2}\r\n                              />\r\n                            </LineChart>\r\n                          </ResponsiveContainer>\r\n                        </div>\r\n                      )}\r\n                    </CardContent>\r\n                  </Card>\r\n                  {/* Anomaly Alerts */}\r\n                  <Card>\r\n                    <CardHeader \r\n                      title=\"ANOMALY ALERTS\" \r\n                      controls={\r\n                        <div className=\"flex bg-gray-100 rounded-lg p-1\">\r\n                          <button\r\n                            onClick={() => setAnomalyViewMode('list')}\r\n                            className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                              anomalyViewMode === 'list' \r\n                                ? 'bg-white text-blue-600 shadow-sm' \r\n                                : 'text-gray-600 hover:text-gray-800'\r\n                            }`}\r\n                          >\r\n                            List View\r\n                          </button>\r\n                          <button\r\n                            onClick={() => setAnomalyViewMode('graph')}\r\n                            className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                              anomalyViewMode === 'graph' \r\n                                ? 'bg-white text-blue-600 shadow-sm' \r\n                                : 'text-gray-600 hover:text-gray-800'\r\n                            }`}\r\n                          >\r\n                            Analytics\r\n                          </button>\r\n                        </div>\r\n                      }\r\n                    />\r\n                    <CardContent>\r\n                      <AnomalyList homeId={selectedHome?._id || selectedHome?.id} viewMode={anomalyViewMode} />\r\n                    </CardContent>\r\n                  </Card>\r\n                  {/* Bills */}\r\n                  <div className=\"grid grid-cols-2 gap-6\">\r\n                    <div className=\"bg-white rounded-lg shadow-xl p-4\">\r\n                      <div className=\"text-sm text-gray-600\">Overall Bill</div>\r\n                      <div className=\"text-2xl font-bold mt-4\">{overallBill}</div>\r\n                    </div>\r\n                    <div className=\"bg-white rounded-lg shadow-xl p-4\">\r\n                      <div className=\"text-sm text-gray-600\">Upcoming Bill</div>\r\n                      <div className=\"text-2xl font-bold mt-4\">{upcomingBill}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n               {/* RIGHT COLUMN */}\r\n<div className=\"flex flex-col gap-6\">\r\n  {/* Consumption by Room - Fixed Centering */}\r\n  <Card className=\"flex-1 flex flex-col\">\r\n    <CardHeader title=\"CONSUMPTION BY ROOM\" />\r\n    <div className=\"flex-1 flex items-center justify-center p-6 min-h-[300px]\">\r\n      {roomData.length === 0 ? (\r\n        <div className=\"flex items-center justify-center h-32 text-gray-500 text-sm\">\r\n          No rooms available.\r\n        </div>\r\n      ) : (\r\n        <div className=\"w-full h-full flex items-center justify-center\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <PieChart>\r\n              <Pie\r\n                data={roomData}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius={80}\r\n                dataKey=\"value\"\r\n                nameKey=\"name\"\r\n                isAnimationActive={false}\r\n                labelLine={false}\r\n                label={({ percent }) =>\r\n                  `${(percent * 100).toFixed(0)}%`\r\n                }\r\n                style={{ fontSize: \"11px\" }}\r\n              >\r\n                {roomData.map((_, i) => (\r\n                  <Cell\r\n                    key={`cell-${i}`}\r\n                    fill={COLORS[i % COLORS.length]}\r\n                  />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip\r\n                formatter={(v) => [`${v} kWh`, \"Consumption\"]}\r\n                labelFormatter={(l) => `Room: ${l}`}\r\n              />\r\n              <Legend\r\n                verticalAlign=\"bottom\"\r\n                height={24}\r\n                wrapperStyle={{ fontSize: \"11px\" }}\r\n              />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      )}\r\n    </div>\r\n  </Card>\r\n  \r\n  {/* Appliances - Fixed Centering */}\r\n  <Card className=\"flex-1 flex flex-col\">\r\n    <CardHeader title=\"APPLIANCES\" />\r\n    <div className=\"flex-1 flex items-center justify-center p-6 min-h-[300px]\">\r\n      {applianceData.length === 0 ? (\r\n        <div className=\"flex items-center justify-center h-32 text-gray-500 text-sm\">\r\n          No appliance data.\r\n        </div>\r\n      ) : (\r\n        <div className=\"w-full h-full flex items-center justify-center\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <BarChart data={applianceData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis\r\n                dataKey=\"name\"\r\n                style={{ fontSize: \"10px\" }}\r\n              />\r\n              <YAxis style={{ fontSize: \"10px\" }} />\r\n              <Tooltip />\r\n              <Bar dataKey=\"value\">\r\n                {applianceData.map((_, i) => (\r\n                  <Cell\r\n                    key={i}\r\n                    fill={COLORS[i % COLORS.length]}\r\n                  />\r\n                ))}\r\n              </Bar>\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      )}\r\n    </div>\r\n  </Card>\r\n</div>\r\n              </div>\r\n              {/* ENHANCED HISTORY SECTION */}\r\n              <div className=\"bg-white rounded-xl shadow-xl overflow-hidden\">\r\n                <div className=\"bg-blue-500 text-white px-6 py-3 font-semibold rounded-t-xl flex justify-between items-center\">\r\n                  <span>ENERGY USAGE HISTORY</span>\r\n                  <span className=\"text-blue-100 text-sm font-normal\">\r\n                    {historyData.length} records\r\n                  </span>\r\n                </div>\r\n                <div className=\"p-0\">\r\n                  {historyData.length === 0 ? (\r\n                    <div className=\"text-center text-gray-500 py-12\">\r\n                      <svg className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                      <div className=\"text-lg font-medium text-gray-400\">No history data available</div>\r\n                      <div className=\"text-sm text-gray-500 mt-1\">Energy usage records will appear here</div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"overflow-x-auto\">\r\n                      <table className=\"w-full text-left border-collapse\">\r\n                        <thead className=\"bg-gray-50 border-b-2 border-gray-200\">\r\n                          <tr className=\"text-gray-600\">\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider\">Appliance</th>\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider\">Room</th>\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider\">Date & Time</th>\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right\">Current (kWh)</th>\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right\">Past (kWh)</th>\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-right\">Change</th>\r\n                            <th className=\"px-6 py-4 text-xs font-semibold uppercase tracking-wider text-center\">Status</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-100\">\r\n                          {historyData.map((item, i) => (\r\n                            <tr \r\n                              key={i} \r\n                              className=\"hover:bg-blue-50 transition-colors duration-150 group cursor-pointer\"\r\n                              onClick={() => {\r\n                                // Optional: Add click handler for row details\r\n                                console.log('History item clicked:', item);\r\n                              }}\r\n                            >\r\n                              <td className=\"px-6 py-4\">\r\n                                <div className=\"flex items-center space-x-3\">\r\n                                  <div className={`w-3 h-3 rounded-full ${item.isOn ? 'bg-green-500' : 'bg-gray-300'}`}></div>\r\n                                  <div>\r\n                                    <div className=\"font-medium text-gray-900 text-sm\">{item.appliance}</div>\r\n                                    <div className=\"text-xs text-gray-500\">{item.power}W</div>\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4\">\r\n                                <div className=\"text-sm text-gray-700\">{item.room}</div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4\">\r\n                                <div className=\"text-sm text-gray-700\">{item.timestamp}</div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 text-right\">\r\n                                <div className=\"text-sm font-semibold text-gray-900\">{item.current}</div>\r\n                                <div className=\"text-xs text-gray-500\">{item.cost.toFixed(2)}</div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 text-right\">\r\n                                <div className=\"text-sm text-gray-600\">{item.past}</div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 text-right\">\r\n                                <div className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                                  item.percentage > 0 \r\n                                    ? 'bg-red-100 text-red-800' \r\n                                    : item.percentage < 0 \r\n                                    ? 'bg-green-100 text-green-800' \r\n                                    : 'bg-gray-100 text-gray-800'\r\n                                }`}>\r\n                                  {item.percentage > 0 ? '' : item.percentage < 0 ? '' : ''}\r\n                                  {Math.abs(item.percentage)}%\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 text-center\">\r\n                                <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${\r\n                                  item.isOn \r\n                                    ? 'bg-green-100 text-green-800 border border-green-200' \r\n                                    : 'bg-gray-100 text-gray-800 border border-gray-200'\r\n                                }`}>\r\n                                  {item.isOn ? 'Active' : 'Inactive'}\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {historyData.length > 0 && (\r\n                  <div className=\"px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-xl\">\r\n                    <div className=\"flex justify-between items-center text-xs text-gray-500\">\r\n                      <div>\r\n                        Showing recent {Math.min(historyData.length, 15)} records\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <button className=\"hover:text-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                           Previous\r\n                        </button>\r\n                        <span className=\"text-gray-700 font-medium\">1</span>\r\n                        <button className=\"hover:text-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                          Next \r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}