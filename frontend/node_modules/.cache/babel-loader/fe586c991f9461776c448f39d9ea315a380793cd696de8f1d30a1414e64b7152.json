{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN-project\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, BarChart, Bar, ResponsiveContainer } from \"recharts\";\n\n// Lightweight shadcn-style card components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Card = ({\n  children,\n  className = \"\"\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `bg-white rounded-xl shadow-xl overflow-hidden ${className}`,\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n_c = Card;\nconst CardHeader = ({\n  title,\n  controls\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-lg\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), controls && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-4\",\n      children: controls\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 3\n}, this);\n_c2 = CardHeader;\nconst CardContent = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-4 bg-white flex items-center justify-center\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 3\n}, this);\n\n// Sidebar icon wrapper\n_c3 = CardContent;\nconst LeftIcon = ({\n  children,\n  onClick\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  onClick: onClick,\n  className: \"w-12 h-12 flex items-center justify-center rounded-md mb-3 bg-black bg-opacity-40 text-white cursor-pointer hover:bg-opacity-60\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 25,\n  columnNumber: 3\n}, this);\n_c4 = LeftIcon;\nconst Dashboard = ({\n  onSwitch\n}) => {\n  _s();\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\n  const bgUrl = \"https://images.unsplash.com/photo-1482192505345-5655af888cc4?auto=format&fit=crop&w=2000&q=80\";\n\n  // Dynamic data state\n  const [overallData, setOverallData] = useState([]);\n  const [roomData, setRoomData] = useState([]);\n  const [applianceData, setApplianceData] = useState([]);\n  const [historyData, setHistoryData] = useState([]);\n  const [overallBill, setOverallBill] = useState(\"₱0\");\n  const [upcomingBill, setUpcomingBill] = useState(\"₱0\");\n  const [loading, setLoading] = useState(true);\n  const [homes, setHomes] = useState([]);\n  const [selectedHomeIndex, setSelectedHomeIndex] = useState(null);\n  const API_BASE = 'http://localhost:5000/api';\n\n  // Helper functions to process data (memoized with useCallback)\n  const processEnergyReadingsForChart = useCallback(readings => {\n    if (!readings || readings.length === 0) return [];\n\n    // Group readings by month\n    const monthlyData = {};\n    readings.forEach(reading => {\n      const date = new Date(reading.recorded_at);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      if (!monthlyData[monthKey]) {\n        monthlyData[monthKey] = {\n          consumption: 0\n        };\n      }\n      monthlyData[monthKey].consumption += reading.energy || 0;\n    });\n\n    // Convert to array and format for chart\n    const sortedMonths = Object.keys(monthlyData).sort();\n    return sortedMonths.map((month, index) => ({\n      month: month.split('-')[0] + '/' + month.split('-')[1],\n      production: 0,\n      // You can implement production data if available\n      consumption: monthlyData[month].consumption\n    }));\n  }, []);\n  const processRoomConsumptionData = useCallback((readings, rooms) => {\n    if (!rooms || rooms.length === 0) {\n      console.log('No rooms available for room consumption');\n      return [];\n    }\n\n    // Initialize all rooms with 0 consumption\n    const roomConsumption = {};\n    rooms.forEach(room => {\n      const roomName = room.name || 'Unknown Room';\n      roomConsumption[roomName] = 0;\n    });\n\n    // Now add energy consumption from readings\n    if (readings && readings.length > 0) {\n      readings.forEach(reading => {\n        // Handle different roomId formats\n        let roomId = null;\n        if (reading.roomId) {\n          if (typeof reading.roomId === 'string') {\n            roomId = reading.roomId;\n          } else if (reading.roomId._id) {\n            roomId = reading.roomId._id;\n          } else if (reading.roomId.id) {\n            roomId = reading.roomId.id;\n          } else {\n            roomId = reading.roomId.toString();\n          }\n        }\n        if (!roomId) {\n          return;\n        }\n\n        // Find the room by matching various ID formats\n        const room = rooms.find(r => {\n          var _r$_id, _r$id;\n          const rId = ((_r$_id = r._id) === null || _r$_id === void 0 ? void 0 : _r$_id.toString()) || ((_r$id = r.id) === null || _r$id === void 0 ? void 0 : _r$id.toString()) || r._id || r.id;\n          return rId === roomId || rId === roomId.toString();\n        });\n        if (room) {\n          const roomName = room.name || 'Unknown Room';\n          const energy = reading.energy || 0;\n          roomConsumption[roomName] = (roomConsumption[roomName] || 0) + energy;\n        }\n      });\n    }\n\n    // Convert to array and sort by value (show all rooms, even with 0 consumption)\n    const result = Object.entries(roomConsumption).map(([name, value]) => ({\n      name,\n      value: parseFloat(value.toFixed(2))\n    })).sort((a, b) => b.value - a.value);\n    console.log('Processed room consumption:', result, 'from', rooms.length, 'rooms');\n    return result;\n  }, []);\n  const processApplianceConsumptionData = useCallback((readings, appliances) => {\n    if (!readings || !appliances || appliances.length === 0) {\n      console.log('No appliances or readings available for appliance consumption');\n      return [];\n    }\n    const applianceConsumption = {};\n    readings.forEach(reading => {\n      // Handle different applianceId formats\n      let applianceId = null;\n      if (reading.applianceId) {\n        if (typeof reading.applianceId === 'string') {\n          applianceId = reading.applianceId;\n        } else if (reading.applianceId._id) {\n          applianceId = reading.applianceId._id;\n        } else if (reading.applianceId.id) {\n          applianceId = reading.applianceId.id;\n        } else {\n          applianceId = reading.applianceId;\n        }\n      }\n      if (!applianceId) return;\n\n      // Find the appliance by matching various ID formats\n      const appliance = appliances.find(a => {\n        var _a$_id, _a$id;\n        const aId = ((_a$_id = a._id) === null || _a$_id === void 0 ? void 0 : _a$_id.toString()) || ((_a$id = a.id) === null || _a$id === void 0 ? void 0 : _a$id.toString()) || a._id || a.id;\n        return aId === applianceId || aId === applianceId.toString();\n      });\n      const applianceName = (appliance === null || appliance === void 0 ? void 0 : appliance.name) || (appliance === null || appliance === void 0 ? void 0 : appliance.type) || 'Unknown Appliance';\n      const energy = reading.energy || 0;\n      if (!applianceConsumption[applianceName]) {\n        applianceConsumption[applianceName] = 0;\n      }\n      applianceConsumption[applianceName] += energy;\n    });\n    const result = Object.entries(applianceConsumption).map(([name, value]) => ({\n      name,\n      value: parseFloat(value.toFixed(2))\n    })).sort((a, b) => b.value - a.value);\n    console.log('Processed appliance consumption:', result);\n    return result;\n  }, []);\n  const processHistoryData = useCallback((readings, appliances) => {\n    if (!readings || !appliances) return [];\n\n    // Get the most recent readings with appliance names\n    const recentReadings = readings.slice(0, 10).map(reading => {\n      var _reading$applianceId;\n      const applianceId = ((_reading$applianceId = reading.applianceId) === null || _reading$applianceId === void 0 ? void 0 : _reading$applianceId._id) || reading.applianceId;\n      const appliance = appliances.find(a => (a._id || a.id) === applianceId);\n      const applianceName = (appliance === null || appliance === void 0 ? void 0 : appliance.name) || 'Unknown';\n      const date = new Date(reading.recorded_at);\n      const timeStr = `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}:${String(date.getSeconds()).padStart(2, '0')}`;\n      return {\n        appliance: applianceName,\n        timestamp: timeStr,\n        current: reading.energy || 0,\n        past: (reading.energy || 0) * 0.9,\n        // Mock past value\n        percentage: 10 // Mock percentage\n      };\n    });\n    return recentReadings;\n  }, []);\n\n  // Fetch homes on mount\n  useEffect(() => {\n    const fetchHomes = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      try {\n        const res = await fetch(`${API_BASE}/homes`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) throw new Error('Failed to fetch homes');\n        const data = await res.json();\n        setHomes(data);\n\n        // Load saved selection or use first home\n        const savedIndex = localStorage.getItem('selectedHomeIndex');\n        if (savedIndex !== null && Number(savedIndex) < data.length) {\n          setSelectedHomeIndex(Number(savedIndex));\n        } else if (data.length > 0) {\n          setSelectedHomeIndex(0);\n        }\n      } catch (error) {\n        console.error('Error fetching homes:', error);\n      }\n    };\n    fetchHomes();\n  }, []);\n\n  // Save selected home index\n  useEffect(() => {\n    if (selectedHomeIndex !== null) {\n      localStorage.setItem('selectedHomeIndex', selectedHomeIndex);\n    } else {\n      localStorage.removeItem('selectedHomeIndex');\n    }\n  }, [selectedHomeIndex]);\n\n  // Fetch dashboard data when home is selected\n  useEffect(() => {\n    if (selectedHomeIndex === null || !homes[selectedHomeIndex]) return;\n    const fetchDashboardData = async () => {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      const homeId = homes[selectedHomeIndex]._id || homes[selectedHomeIndex].id;\n      if (!homeId) return;\n      try {\n        // Fetch energy readings for the selected home\n        const [readingsRes, appliancesRes, roomsRes] = await Promise.all([fetch(`${API_BASE}/energy?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), fetch(`${API_BASE}/appliances?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), fetch(`${API_BASE}/rooms?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        if (!readingsRes.ok || !appliancesRes.ok || !roomsRes.ok) {\n          throw new Error('Failed to fetch data');\n        }\n        const [readings, appliances, rooms] = await Promise.all([readingsRes.json(), appliancesRes.json(), roomsRes.json()]);\n        console.log('Fetched dashboard data:', {\n          readingsCount: readings.length,\n          appliancesCount: appliances.length,\n          roomsCount: rooms.length\n        });\n\n        // Log sample data to understand structure\n        if (readings.length > 0) {\n          console.log('Sample reading:', readings[0]);\n        }\n        if (rooms.length > 0) {\n          console.log('Sample room:', rooms[0]);\n        }\n        if (appliances.length > 0) {\n          console.log('Sample appliance:', appliances[0]);\n        }\n\n        // Process energy readings for overall consumption chart\n        const processedOverallData = processEnergyReadingsForChart(readings);\n        console.log('Processed overall data:', processedOverallData);\n        setOverallData(processedOverallData);\n\n        // Process room consumption data\n        const processedRoomData = processRoomConsumptionData(readings, rooms);\n        console.log('Room data to display:', processedRoomData);\n        setRoomData(processedRoomData);\n\n        // Process appliance consumption data\n        const processedApplianceData = processApplianceConsumptionData(readings, appliances);\n        setApplianceData(processedApplianceData);\n\n        // Calculate bills\n        const totalCost = readings.reduce((sum, r) => sum + (r.cost || 0), 0);\n        const recentCost = readings.filter(r => {\n          const date = new Date(r.recorded_at);\n          const now = new Date();\n          const daysDiff = (now - date) / (1000 * 60 * 60 * 24);\n          return daysDiff <= 30;\n        }).reduce((sum, r) => sum + (r.cost || 0), 0);\n        setOverallBill(`₱${totalCost.toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })}`);\n        setUpcomingBill(`₱${recentCost.toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })}`);\n\n        // Process history data\n        const processedHistory = processHistoryData(readings, appliances);\n        setHistoryData(processedHistory);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n        // Set empty states on error\n        setOverallData([]);\n        setRoomData([]);\n        setApplianceData([]);\n        setHistoryData([]);\n        setOverallBill(\"₱0.00\");\n        setUpcomingBill(\"₱0.00\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDashboardData();\n  }, [selectedHomeIndex, homes, processEnergyReadingsForChart, processRoomConsumptionData, processApplianceConsumptionData, processHistoryData]);\n  const COLORS = [\"#4CAF50\", \"#FF9800\", \"#2196F3\", \"#FFEB3B\", \"#9C27B0\", \"#607D86\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen overflow-hidden relative font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-cover bg-center\",\n      style: {\n        backgroundImage: `url(${bgUrl})`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"absolute left-6 top-1/3 transform -translate-y-1/3 z-20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white bg-opacity-6 p-3 rounded-lg shadow-lg flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => onSwitch(\"dashboard\"),\n            children: \"\\uD83C\\uDFE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => onSwitch(\"appliance\"),\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => onSwitch(\"profile\"),\n            children: \"\\uD83D\\uDC64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => setShowLogoutConfirm(true),\n            children: \"\\uD83D\\uDEAA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), homes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 right-4 z-20\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedHomeIndex !== null ? selectedHomeIndex : \"\",\n        onChange: e => setSelectedHomeIndex(Number(e.target.value)),\n        className: \"px-4 py-2 bg-white bg-opacity-90 rounded-lg shadow-lg text-gray-800 font-semibold\",\n        children: homes.map((home, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: index,\n          children: home.name\n        }, home._id || home.id || index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 9\n    }, this), showLogoutConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 max-w-sm mx-4 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Confirm Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6 text-center\",\n          children: \"Are you sure you want to logout?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowLogoutConfirm(false),\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 rounded border border-gray-300 hover:border-gray-400\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onSwitch(\"login\"),\n            className: \"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[94%] max-w-[1200px] mt-6 pb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl tracking-wider font-bold text-white text-center mb-6\",\n          children: \"DASHBOARD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-64\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-xl\",\n            children: \"Loading dashboard data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this) : homes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-64\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-xl\",\n            children: \"No homes found. Please add a home first.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"OVERALL CONSUMPTION\",\n                  controls: /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"bg-white text-sm text-gray-800 rounded px-2 py-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Yearly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Monthly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Weekly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: overallData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-32 text-gray-500 text-sm\",\n                    children: \"No consumption data available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 21\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-[280px]\",\n                    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                      width: \"100%\",\n                      height: \"100%\",\n                      children: /*#__PURE__*/_jsxDEV(LineChart, {\n                        data: overallData,\n                        margin: {\n                          top: 20,\n                          right: 20,\n                          left: 0,\n                          bottom: 50\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                          strokeDasharray: \"3 3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 445,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                          dataKey: \"month\",\n                          style: {\n                            fontSize: '11px'\n                          },\n                          interval: 0,\n                          tick: {\n                            transform: 'translate(0,0)'\n                          },\n                          tickFormatter: value => value,\n                          angle: -45,\n                          textAnchor: \"end\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 446,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                          style: {\n                            fontSize: '11px'\n                          },\n                          tickFormatter: value => value.toLocaleString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 455,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                          formatter: value => [`${value.toLocaleString()} kWh`, 'kWh']\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 456,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                          verticalAlign: \"top\",\n                          wrapperStyle: {\n                            fontSize: '12px'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 457,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(Line, {\n                          type: \"monotone\",\n                          dataKey: \"production\",\n                          stroke: \"#2196F3\",\n                          name: \"total energy production\",\n                          strokeWidth: 2,\n                          dot: false\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 458,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(Line, {\n                          type: \"monotone\",\n                          dataKey: \"consumption\",\n                          stroke: \"#FF5252\",\n                          name: \"total energy consumption\",\n                          strokeWidth: 2\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 459,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 441,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow-xl p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Overall Bill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold mt-4\",\n                    children: overallBill\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow-xl p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Upcoming Bill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold mt-4\",\n                    children: upcomingBill\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"CONSUMPTION BY ROOM\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: roomData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-32 text-gray-500 text-sm\",\n                    children: \"No rooms available. Please create rooms first.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 21\n                  }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: 260,\n                    children: /*#__PURE__*/_jsxDEV(PieChart, {\n                      children: [/*#__PURE__*/_jsxDEV(Pie, {\n                        data: roomData,\n                        cx: \"50%\",\n                        cy: \"50%\",\n                        outerRadius: 90,\n                        dataKey: \"value\",\n                        nameKey: \"name\",\n                        isAnimationActive: false,\n                        labelLine: false,\n                        label: ({\n                          percent\n                        }) => `${(percent * 100).toFixed(0)}%`,\n                        style: {\n                          fontSize: '11px'\n                        },\n                        children: roomData.map((entry, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                          fill: COLORS[i % COLORS.length]\n                        }, `cell-${i}`, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 505,\n                          columnNumber: 29\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        formatter: value => [`${value} kWh`, 'Consumption']\n                        // Tooltip will receive payload; format label if available\n                        ,\n                        labelFormatter: label => label ? `Room: ${label}` : ''\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                        verticalAlign: \"bottom\",\n                        height: 24,\n                        wrapperStyle: {\n                          fontSize: '11px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 513,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  title: \"APPLIANCES\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: applianceData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-32 text-gray-500 text-sm\",\n                    children: \"No appliance data available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 21\n                  }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: 220,\n                    children: /*#__PURE__*/_jsxDEV(BarChart, {\n                      data: applianceData,\n                      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                        strokeDasharray: \"3 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 530,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                        dataKey: \"name\",\n                        style: {\n                          fontSize: '10px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                        style: {\n                          fontSize: '10px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 532,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 533,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                        dataKey: \"value\",\n                        children: applianceData.map((_, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                          fill: COLORS[i % COLORS.length]\n                        }, i, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 536,\n                          columnNumber: 29\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 534,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 529,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-xl overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\",\n              children: \"HISTORY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 h-40 overflow-auto\",\n              children: historyData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-gray-500 py-8\",\n                children: \"No history data available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 17\n              }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-left border-collapse\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pb-2\",\n                      children: \"APPLIANCE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pb-2\",\n                      children: \"TIMESTAMP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 558,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pb-2\",\n                      children: \"CURRENT kWh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pb-2\",\n                      children: \"PAST kWh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 560,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pb-2\",\n                      children: \"PERCENTAGE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 561,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: historyData.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"border-t\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3\",\n                      children: item.appliance\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3\",\n                      children: item.timestamp\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3\",\n                      children: [item.current.toFixed(2), \" kWh\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3\",\n                      children: [item.past.toFixed(2), \" kWh\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 570,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3\",\n                      children: [item.percentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 571,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"sSyBpqeX0+JT8Grc7HvVTYby2Eg=\");\n_c5 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"CardHeader\");\n$RefreshReg$(_c3, \"CardContent\");\n$RefreshReg$(_c4, \"LeftIcon\");\n$RefreshReg$(_c5, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","BarChart","Bar","ResponsiveContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","Card","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","CardHeader","title","controls","_c2","CardContent","_c3","LeftIcon","onClick","_c4","Dashboard","onSwitch","_s","showLogoutConfirm","setShowLogoutConfirm","bgUrl","overallData","setOverallData","roomData","setRoomData","applianceData","setApplianceData","historyData","setHistoryData","overallBill","setOverallBill","upcomingBill","setUpcomingBill","loading","setLoading","homes","setHomes","selectedHomeIndex","setSelectedHomeIndex","API_BASE","processEnergyReadingsForChart","readings","length","monthlyData","forEach","reading","date","Date","recorded_at","monthKey","getFullYear","String","getMonth","padStart","consumption","energy","sortedMonths","Object","keys","sort","map","month","index","split","production","processRoomConsumptionData","rooms","console","log","roomConsumption","room","roomName","name","roomId","_id","id","toString","find","r","_r$_id","_r$id","rId","result","entries","value","parseFloat","toFixed","a","b","processApplianceConsumptionData","appliances","applianceConsumption","applianceId","appliance","_a$_id","_a$id","aId","applianceName","type","processHistoryData","recentReadings","slice","_reading$applianceId","timeStr","getHours","getMinutes","getSeconds","timestamp","current","past","percentage","fetchHomes","token","localStorage","getItem","res","fetch","headers","Authorization","ok","Error","data","json","savedIndex","Number","error","setItem","removeItem","fetchDashboardData","homeId","readingsRes","appliancesRes","roomsRes","Promise","all","readingsCount","appliancesCount","roomsCount","processedOverallData","processedRoomData","processedApplianceData","totalCost","reduce","sum","cost","recentCost","filter","now","daysDiff","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","processedHistory","COLORS","style","backgroundImage","onChange","e","target","home","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","fontSize","interval","tick","transform","tickFormatter","angle","textAnchor","formatter","verticalAlign","wrapperStyle","stroke","strokeWidth","dot","cx","cy","outerRadius","nameKey","isAnimationActive","labelLine","label","percent","entry","i","fill","labelFormatter","_","item","_c5","$RefreshReg$"],"sources":["C:/MERN-project/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport {\r\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n  PieChart, Pie, Cell, BarChart, Bar, ResponsiveContainer\r\n} from \"recharts\";\r\n\r\n// Lightweight shadcn-style card components\r\nconst Card = ({ children, className = \"\" }) => (\r\n  <div className={`bg-white rounded-xl shadow-xl overflow-hidden ${className}`}>{children}</div>\r\n);\r\nconst CardHeader = ({ title, controls }) => (\r\n  <div className=\"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\">\r\n    <div className=\"flex items-center justify-between\">\r\n      <div className=\"text-lg\">{title}</div>\r\n      {controls && <div className=\"ml-4\">{controls}</div>}\r\n    </div>\r\n  </div>\r\n);\r\nconst CardContent = ({ children }) => (\r\n  <div className=\"p-4 bg-white flex items-center justify-center\">{children}</div>\r\n);\r\n\r\n// Sidebar icon wrapper\r\nconst LeftIcon = ({ children, onClick }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className=\"w-12 h-12 flex items-center justify-center rounded-md mb-3 bg-black bg-opacity-40 text-white cursor-pointer hover:bg-opacity-60\"\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst Dashboard = ({ onSwitch }) => {\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const bgUrl = \"https://images.unsplash.com/photo-1482192505345-5655af888cc4?auto=format&fit=crop&w=2000&q=80\";\r\n\r\n  // Dynamic data state\r\n  const [overallData, setOverallData] = useState([]);\r\n  const [roomData, setRoomData] = useState([]);\r\n  const [applianceData, setApplianceData] = useState([]);\r\n  const [historyData, setHistoryData] = useState([]);\r\n  const [overallBill, setOverallBill] = useState(\"₱0\");\r\n  const [upcomingBill, setUpcomingBill] = useState(\"₱0\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [homes, setHomes] = useState([]);\r\n  const [selectedHomeIndex, setSelectedHomeIndex] = useState(null);\r\n\r\n  const API_BASE = 'http://localhost:5000/api';\r\n\r\n  // Helper functions to process data (memoized with useCallback)\r\n  const processEnergyReadingsForChart = useCallback((readings) => {\r\n    if (!readings || readings.length === 0) return [];\r\n    \r\n    // Group readings by month\r\n    const monthlyData = {};\r\n    \r\n    readings.forEach(reading => {\r\n      const date = new Date(reading.recorded_at);\r\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\r\n      \r\n      if (!monthlyData[monthKey]) {\r\n        monthlyData[monthKey] = { consumption: 0 };\r\n      }\r\n      monthlyData[monthKey].consumption += reading.energy || 0;\r\n    });\r\n\r\n    // Convert to array and format for chart\r\n    const sortedMonths = Object.keys(monthlyData).sort();\r\n    return sortedMonths.map((month, index) => ({\r\n      month: month.split('-')[0] + '/' + month.split('-')[1],\r\n      production: 0, // You can implement production data if available\r\n      consumption: monthlyData[month].consumption\r\n    }));\r\n  }, []);\r\n\r\n  const processRoomConsumptionData = useCallback((readings, rooms) => {\r\n    if (!rooms || rooms.length === 0) {\r\n      console.log('No rooms available for room consumption');\r\n      return [];\r\n    }\r\n    \r\n    // Initialize all rooms with 0 consumption\r\n    const roomConsumption = {};\r\n    rooms.forEach(room => {\r\n      const roomName = room.name || 'Unknown Room';\r\n      roomConsumption[roomName] = 0;\r\n    });\r\n    \r\n    // Now add energy consumption from readings\r\n    if (readings && readings.length > 0) {\r\n      readings.forEach(reading => {\r\n        // Handle different roomId formats\r\n        let roomId = null;\r\n        if (reading.roomId) {\r\n          if (typeof reading.roomId === 'string') {\r\n            roomId = reading.roomId;\r\n          } else if (reading.roomId._id) {\r\n            roomId = reading.roomId._id;\r\n          } else if (reading.roomId.id) {\r\n            roomId = reading.roomId.id;\r\n          } else {\r\n            roomId = reading.roomId.toString();\r\n          }\r\n        }\r\n        \r\n        if (!roomId) {\r\n          return;\r\n        }\r\n        \r\n        // Find the room by matching various ID formats\r\n        const room = rooms.find(r => {\r\n          const rId = r._id?.toString() || r.id?.toString() || r._id || r.id;\r\n          return rId === roomId || rId === roomId.toString();\r\n        });\r\n        \r\n        if (room) {\r\n          const roomName = room.name || 'Unknown Room';\r\n          const energy = reading.energy || 0;\r\n          roomConsumption[roomName] = (roomConsumption[roomName] || 0) + energy;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Convert to array and sort by value (show all rooms, even with 0 consumption)\r\n    const result = Object.entries(roomConsumption)\r\n      .map(([name, value]) => ({ name, value: parseFloat(value.toFixed(2)) }))\r\n      .sort((a, b) => b.value - a.value);\r\n    \r\n    console.log('Processed room consumption:', result, 'from', rooms.length, 'rooms');\r\n    return result;\r\n  }, []);\r\n\r\n  const processApplianceConsumptionData = useCallback((readings, appliances) => {\r\n    if (!readings || !appliances || appliances.length === 0) {\r\n      console.log('No appliances or readings available for appliance consumption');\r\n      return [];\r\n    }\r\n    \r\n    const applianceConsumption = {};\r\n    \r\n    readings.forEach(reading => {\r\n      // Handle different applianceId formats\r\n      let applianceId = null;\r\n      if (reading.applianceId) {\r\n        if (typeof reading.applianceId === 'string') {\r\n          applianceId = reading.applianceId;\r\n        } else if (reading.applianceId._id) {\r\n          applianceId = reading.applianceId._id;\r\n        } else if (reading.applianceId.id) {\r\n          applianceId = reading.applianceId.id;\r\n        } else {\r\n          applianceId = reading.applianceId;\r\n        }\r\n      }\r\n      \r\n      if (!applianceId) return;\r\n      \r\n      // Find the appliance by matching various ID formats\r\n      const appliance = appliances.find(a => {\r\n        const aId = a._id?.toString() || a.id?.toString() || a._id || a.id;\r\n        return aId === applianceId || aId === applianceId.toString();\r\n      });\r\n      \r\n      const applianceName = appliance?.name || appliance?.type || 'Unknown Appliance';\r\n      const energy = reading.energy || 0;\r\n      \r\n      if (!applianceConsumption[applianceName]) {\r\n        applianceConsumption[applianceName] = 0;\r\n      }\r\n      applianceConsumption[applianceName] += energy;\r\n    });\r\n\r\n    const result = Object.entries(applianceConsumption)\r\n      .map(([name, value]) => ({ name, value: parseFloat(value.toFixed(2)) }))\r\n      .sort((a, b) => b.value - a.value);\r\n    \r\n    console.log('Processed appliance consumption:', result);\r\n    return result;\r\n  }, []);\r\n\r\n  const processHistoryData = useCallback((readings, appliances) => {\r\n    if (!readings || !appliances) return [];\r\n    \r\n    // Get the most recent readings with appliance names\r\n    const recentReadings = readings.slice(0, 10).map(reading => {\r\n      const applianceId = reading.applianceId?._id || reading.applianceId;\r\n      const appliance = appliances.find(a => (a._id || a.id) === applianceId);\r\n      const applianceName = appliance?.name || 'Unknown';\r\n      \r\n      const date = new Date(reading.recorded_at);\r\n      const timeStr = `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}:${String(date.getSeconds()).padStart(2, '0')}`;\r\n      \r\n      return {\r\n        appliance: applianceName,\r\n        timestamp: timeStr,\r\n        current: reading.energy || 0,\r\n        past: (reading.energy || 0) * 0.9, // Mock past value\r\n        percentage: 10 // Mock percentage\r\n      };\r\n    });\r\n\r\n    return recentReadings;\r\n  }, []);\r\n\r\n  // Fetch homes on mount\r\n  useEffect(() => {\r\n    const fetchHomes = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n      try {\r\n        const res = await fetch(`${API_BASE}/homes`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (!res.ok) throw new Error('Failed to fetch homes');\r\n        const data = await res.json();\r\n        setHomes(data);\r\n        \r\n        // Load saved selection or use first home\r\n        const savedIndex = localStorage.getItem('selectedHomeIndex');\r\n        if (savedIndex !== null && Number(savedIndex) < data.length) {\r\n          setSelectedHomeIndex(Number(savedIndex));\r\n        } else if (data.length > 0) {\r\n          setSelectedHomeIndex(0);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching homes:', error);\r\n      }\r\n    };\r\n    fetchHomes();\r\n  }, []);\r\n\r\n  // Save selected home index\r\n  useEffect(() => {\r\n    if (selectedHomeIndex !== null) {\r\n      localStorage.setItem('selectedHomeIndex', selectedHomeIndex);\r\n    } else {\r\n      localStorage.removeItem('selectedHomeIndex');\r\n    }\r\n  }, [selectedHomeIndex]);\r\n\r\n  // Fetch dashboard data when home is selected\r\n  useEffect(() => {\r\n    if (selectedHomeIndex === null || !homes[selectedHomeIndex]) return;\r\n    \r\n    const fetchDashboardData = async () => {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n      \r\n      const homeId = homes[selectedHomeIndex]._id || homes[selectedHomeIndex].id;\r\n      if (!homeId) return;\r\n\r\n      try {\r\n        // Fetch energy readings for the selected home\r\n        const [readingsRes, appliancesRes, roomsRes] = await Promise.all([\r\n          fetch(`${API_BASE}/energy?homeId=${homeId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          fetch(`${API_BASE}/appliances?homeId=${homeId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          fetch(`${API_BASE}/rooms?homeId=${homeId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          })\r\n        ]);\r\n\r\n        if (!readingsRes.ok || !appliancesRes.ok || !roomsRes.ok) {\r\n          throw new Error('Failed to fetch data');\r\n        }\r\n\r\n        const [readings, appliances, rooms] = await Promise.all([\r\n          readingsRes.json(),\r\n          appliancesRes.json(),\r\n          roomsRes.json()\r\n        ]);\r\n\r\n        console.log('Fetched dashboard data:', {\r\n          readingsCount: readings.length,\r\n          appliancesCount: appliances.length,\r\n          roomsCount: rooms.length\r\n        });\r\n\r\n        // Log sample data to understand structure\r\n        if (readings.length > 0) {\r\n          console.log('Sample reading:', readings[0]);\r\n        }\r\n        if (rooms.length > 0) {\r\n          console.log('Sample room:', rooms[0]);\r\n        }\r\n        if (appliances.length > 0) {\r\n          console.log('Sample appliance:', appliances[0]);\r\n        }\r\n\r\n        // Process energy readings for overall consumption chart\r\n        const processedOverallData = processEnergyReadingsForChart(readings);\r\n        console.log('Processed overall data:', processedOverallData);\r\n        setOverallData(processedOverallData);\r\n\r\n        // Process room consumption data\r\n        const processedRoomData = processRoomConsumptionData(readings, rooms);\r\n        console.log('Room data to display:', processedRoomData);\r\n        setRoomData(processedRoomData);\r\n\r\n        // Process appliance consumption data\r\n        const processedApplianceData = processApplianceConsumptionData(readings, appliances);\r\n        setApplianceData(processedApplianceData);\r\n\r\n        // Calculate bills\r\n        const totalCost = readings.reduce((sum, r) => sum + (r.cost || 0), 0);\r\n        const recentCost = readings\r\n          .filter(r => {\r\n            const date = new Date(r.recorded_at);\r\n            const now = new Date();\r\n            const daysDiff = (now - date) / (1000 * 60 * 60 * 24);\r\n            return daysDiff <= 30;\r\n          })\r\n          .reduce((sum, r) => sum + (r.cost || 0), 0);\r\n        \r\n        setOverallBill(`₱${totalCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`);\r\n        setUpcomingBill(`₱${recentCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`);\r\n\r\n        // Process history data\r\n        const processedHistory = processHistoryData(readings, appliances);\r\n        setHistoryData(processedHistory);\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n        // Set empty states on error\r\n        setOverallData([]);\r\n        setRoomData([]);\r\n        setApplianceData([]);\r\n        setHistoryData([]);\r\n        setOverallBill(\"₱0.00\");\r\n        setUpcomingBill(\"₱0.00\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, [selectedHomeIndex, homes, processEnergyReadingsForChart, processRoomConsumptionData, processApplianceConsumptionData, processHistoryData]);\r\n\r\n  const COLORS = [\"#4CAF50\", \"#FF9800\", \"#2196F3\", \"#FFEB3B\", \"#9C27B0\", \"#607D86\"];\r\n\r\n  return (\r\n    <div className=\"h-screen w-screen overflow-hidden relative font-sans\">\r\n      {/* Background */}\r\n      <div className=\"absolute inset-0 bg-cover bg-center\" style={{ backgroundImage: `url(${bgUrl})` }} />\r\n      <div className=\"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\" />\r\n\r\n      {/* Sidebar */}\r\n      <aside className=\"absolute left-6 top-1/3 transform -translate-y-1/3 z-20\">\r\n        <div className=\"flex flex-col items-center\">\r\n          <div className=\"bg-white bg-opacity-6 p-3 rounded-lg shadow-lg flex flex-col items-center\">\r\n            <LeftIcon onClick={() => onSwitch(\"dashboard\")}>🏠</LeftIcon>\r\n            <LeftIcon onClick={() => onSwitch(\"appliance\")}>⚙️</LeftIcon>\r\n            <LeftIcon onClick={() => onSwitch(\"profile\")}>👤</LeftIcon>\r\n            <LeftIcon onClick={() => setShowLogoutConfirm(true)}>🚪</LeftIcon>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Home selector */}\r\n      {homes.length > 0 && (\r\n        <div className=\"absolute top-4 right-4 z-20\">\r\n          <select\r\n            value={selectedHomeIndex !== null ? selectedHomeIndex : \"\"}\r\n            onChange={(e) => setSelectedHomeIndex(Number(e.target.value))}\r\n            className=\"px-4 py-2 bg-white bg-opacity-90 rounded-lg shadow-lg text-gray-800 font-semibold\"\r\n          >\r\n            {homes.map((home, index) => (\r\n              <option key={home._id || home.id || index} value={index}>\r\n                {home.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      )}\r\n\r\n      {/* Logout modal */}\r\n      {showLogoutConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-sm mx-4 w-full\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Confirm Logout</h3>\r\n            <p className=\"text-gray-600 mb-6 text-center\">Are you sure you want to logout?</p>\r\n            <div className=\"flex justify-center items-center gap-4\">\r\n              <button\r\n                onClick={() => setShowLogoutConfirm(false)}\r\n                className=\"px-6 py-2 text-gray-600 hover:text-gray-800 rounded border border-gray-300 hover:border-gray-400\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => onSwitch(\"login\")}\r\n                className=\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main content */}\r\n      <div className=\"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto\">\r\n        <div className=\"w-[94%] max-w-[1200px] mt-6 pb-6\">\r\n          <h1 className=\"text-3xl tracking-wider font-bold text-white text-center mb-6\">DASHBOARD</h1>\r\n\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n              <div className=\"text-white text-xl\">Loading dashboard data...</div>\r\n            </div>\r\n          ) : homes.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-64\">\r\n              <div className=\"text-white text-xl\">No homes found. Please add a home first.</div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n          <div className=\"grid grid-cols-2 gap-6 mb-6\">\r\n            {/* Left column */}\r\n            <div className=\"flex flex-col gap-6\">\r\n               <Card className=\"flex-1\">\r\n                <CardHeader\r\n                  title=\"OVERALL CONSUMPTION\"\r\n                  controls={(\r\n                    <select className=\"bg-white text-sm text-gray-800 rounded px-2 py-1\">\r\n                      <option>Yearly</option>\r\n                      <option>Monthly</option>\r\n                      <option>Weekly</option>\r\n                    </select>\r\n                  )}\r\n                />\r\n                <CardContent>\r\n                  {overallData.length === 0 ? (\r\n                    <div className=\"flex items-center justify-center h-32 text-gray-500 text-sm\">\r\n                      No consumption data available\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"w-full h-[280px]\">\r\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <LineChart\r\n                          data={overallData}\r\n                          margin={{ top: 20, right: 20, left: 0, bottom: 50 }}\r\n                        >\r\n                          <CartesianGrid strokeDasharray=\"3 3\" />\r\n                          <XAxis\r\n                            dataKey=\"month\"\r\n                            style={{ fontSize: '11px' }}\r\n                            interval={0}\r\n                            tick={{ transform: 'translate(0,0)' }}\r\n                            tickFormatter={(value) => value}\r\n                            angle={-45}\r\n                            textAnchor=\"end\"\r\n                          />\r\n                          <YAxis style={{ fontSize: '11px' }} tickFormatter={(value) => value.toLocaleString()} />\r\n                          <Tooltip formatter={(value) => [`${value.toLocaleString()} kWh`, 'kWh']} />\r\n                          <Legend verticalAlign=\"top\" wrapperStyle={{ fontSize: '12px' }} />\r\n                          <Line type=\"monotone\" dataKey=\"production\" stroke=\"#2196F3\" name=\"total energy production\" strokeWidth={2} dot={false} />\r\n                          <Line type=\"monotone\" dataKey=\"consumption\" stroke=\"#FF5252\" name=\"total energy consumption\" strokeWidth={2} />\r\n                        </LineChart>\r\n                      </ResponsiveContainer>\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Bills */}\r\n              <div className=\"grid grid-cols-2 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow-xl p-4\">\r\n                  <div className=\"text-sm text-gray-600\">Overall Bill</div>\r\n                  <div className=\"text-2xl font-bold mt-4\">{overallBill}</div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-xl p-4\">\r\n                  <div className=\"text-sm text-gray-600\">Upcoming Bill</div>\r\n                  <div className=\"text-2xl font-bold mt-4\">{upcomingBill}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right column */}\r\n            <div className=\"flex flex-col gap-6\">\r\n              <Card className=\"flex-1\">\r\n                <CardHeader title=\"CONSUMPTION BY ROOM\" />\r\n                <CardContent>\r\n                  {roomData.length === 0 ? (\r\n                    <div className=\"flex items-center justify-center h-32 text-gray-500 text-sm\">\r\n                      No rooms available. Please create rooms first.\r\n                    </div>\r\n                  ) : (\r\n                    <ResponsiveContainer width=\"100%\" height={260}>\r\n                      <PieChart>\r\n                        <Pie\r\n                          data={roomData}\r\n                          cx=\"50%\"\r\n                          cy=\"50%\"\r\n                          outerRadius={90}\r\n                          dataKey=\"value\"\r\n                          nameKey=\"name\"\r\n                          isAnimationActive={false}\r\n                          labelLine={false}\r\n                          label={({ percent }) => `${(percent * 100).toFixed(0)}%`}\r\n                          style={{ fontSize: '11px' }}\r\n                        >\r\n                          {roomData.map((entry, i) => (\r\n                            <Cell key={`cell-${i}`} fill={COLORS[i % COLORS.length]} />\r\n                          ))}\r\n                        </Pie>\r\n                        <Tooltip\r\n                          formatter={(value) => [`${value} kWh`, 'Consumption']}\r\n                          // Tooltip will receive payload; format label if available\r\n                          labelFormatter={(label) => (label ? `Room: ${label}` : '')}\r\n                        />\r\n                        <Legend verticalAlign=\"bottom\" height={24} wrapperStyle={{ fontSize: '11px' }} />\r\n                      </PieChart>\r\n                    </ResponsiveContainer>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"flex-1\">\r\n                <CardHeader title=\"APPLIANCES\" />\r\n                <CardContent>\r\n                  {applianceData.length === 0 ? (\r\n                    <div className=\"flex items-center justify-center h-32 text-gray-500 text-sm\">\r\n                      No appliance data available\r\n                    </div>\r\n                  ) : (\r\n                    <ResponsiveContainer width=\"100%\" height={220}>\r\n                      <BarChart data={applianceData}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                        <XAxis dataKey=\"name\" style={{ fontSize: '10px' }} />\r\n                        <YAxis style={{ fontSize: '10px' }} />\r\n                        <Tooltip />\r\n                        <Bar dataKey=\"value\">\r\n                          {applianceData.map((_, i) => (\r\n                            <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                          ))}\r\n                        </Bar>\r\n                      </BarChart>\r\n                    </ResponsiveContainer>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n\r\n          {/* History */}\r\n          <div className=\"bg-white rounded-xl shadow-xl overflow-hidden\">\r\n            <div className=\"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\">HISTORY</div>\r\n            <div className=\"p-4 h-40 overflow-auto\">\r\n              {historyData.length === 0 ? (\r\n                <div className=\"text-center text-gray-500 py-8\">No history data available</div>\r\n              ) : (\r\n                  <table className=\"w-full text-left border-collapse\">\r\n                  <thead>\r\n                    <tr className=\"text-xs text-gray-500\">\r\n                      <th className=\"pb-2\">APPLIANCE</th>\r\n                      <th className=\"pb-2\">TIMESTAMP</th>\r\n                      <th className=\"pb-2\">CURRENT kWh</th>\r\n                      <th className=\"pb-2\">PAST kWh</th>\r\n                      <th className=\"pb-2\">PERCENTAGE</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {historyData.map((item, index) => (\r\n                      <tr key={index} className=\"border-t\">\r\n                        <td className=\"py-3\">{item.appliance}</td>\r\n                        <td className=\"py-3\">{item.timestamp}</td>\r\n                        <td className=\"py-3\">{item.current.toFixed(2)} kWh</td>\r\n                        <td className=\"py-3\">{item.past.toFixed(2)} kWh</td>\r\n                        <td className=\"py-3\">{item.percentage}%</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </div>\r\n          </div>\r\n          </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}