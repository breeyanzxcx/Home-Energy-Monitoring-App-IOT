{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brian\\\\OneDrive\\\\Desktop\\\\MERN-project\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, BarChart, Bar, ResponsiveContainer } from \"recharts\";\n\n// Lightweight shadcn-style card components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = ({\n  children,\n  className = \"\"\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `bg-white rounded-xl shadow-xl overflow-hidden ${className}`,\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n_c = Card;\nconst CardHeader = ({\n  title\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\",\n  children: title\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 3\n}, this);\n_c2 = CardHeader;\nconst CardContent = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-4 bg-white flex items-center justify-center\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 3\n}, this);\n\n// Sidebar icon wrapper\n_c3 = CardContent;\nconst LeftIcon = ({\n  children,\n  onClick\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  onClick: onClick,\n  className: \"w-12 h-12 flex items-center justify-center rounded-md mb-3 bg-black bg-opacity-40 text-white cursor-pointer hover:bg-opacity-60\",\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 3\n}, this);\n_c4 = LeftIcon;\nconst Dashboard = ({\n  onSwitch,\n  token,\n  homeId\n}) => {\n  _s();\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\n  const [error, setError] = useState(null);\n  const bgUrl = \"https://images.unsplash.com/photo-1482192505345-5655af888cc4?auto=format&fit=crop&w=2000&q=80\";\n\n  // API base URL - UPDATE THIS WITH YOUR ACTUAL API URL\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  // Chart data states (no sample defaults) - only show backend data\n  const [overallData, setOverallData] = useState([]);\n  const [roomData, setRoomData] = useState([]);\n  const [applianceData, setApplianceData] = useState([]);\n  const [historyData, setHistoryData] = useState([]);\n  const [overallBill, setOverallBill] = useState(0);\n  const [upcomingBill, setUpcomingBill] = useState(0);\n  const [hasRealData, setHasRealData] = useState(false);\n  useEffect(() => {\n    if (token) {\n      loadDashboardData();\n\n      // Update every 10 seconds for real-time monitoring\n      const interval = setInterval(loadDashboardData, 10000);\n      return () => clearInterval(interval);\n    }\n  }, [token, homeId]);\n  const loadDashboardData = async () => {\n    try {\n      setError(null);\n\n      // Build query params\n      const params = new URLSearchParams();\n      if (homeId) params.append('homeId', homeId);\n\n      // Fetch appliances for the home\n      const appliancesResponse = await fetch(`${API_BASE_URL}/appliances?${params}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!appliancesResponse.ok) throw new Error('Failed to fetch appliances');\n      const appliances = await appliancesResponse.json();\n\n      // Fetch energy readings for the home\n      const energyResponse = await fetch(`${API_BASE_URL}/energy?${params}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!energyResponse.ok) throw new Error('Failed to fetch energy readings');\n      const energyReadings = await energyResponse.json();\n\n      // Fetch energy summaries\n      let summaries = [];\n      if (homeId) {\n        const summaryResponse = await fetch(`${API_BASE_URL}/energy/summary/${homeId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (summaryResponse.ok) {\n          summaries = await summaryResponse.json();\n        }\n      }\n\n      // Determine if backend returned any real data for this user/home\n      const hasData = Array.isArray(appliances) && appliances.length > 0 || Array.isArray(energyReadings) && energyReadings.length > 0 || Array.isArray(summaries) && summaries.length > 0;\n      setHasRealData(hasData);\n\n      // If there is real data, process it. If not, clear the charts for authenticated user\n      if (hasData) {\n        processEnergyReadings(energyReadings, appliances);\n        processSummaries(summaries);\n      } else {\n        // Authenticated but no data: show empty charts/state rather than sample defaults\n        setApplianceData([]);\n        setRoomData([]);\n        setHistoryData([]);\n        setOverallData(DEFAULT_OVERALL);\n        setOverallBill(0);\n        setUpcomingBill(0);\n      }\n    } catch (err) {\n      console.error('Error loading dashboard data:', err);\n      setError(err.message);\n      // Load default data on error\n      loadDefaultData();\n    }\n  };\n  const processEnergyReadings = (readings, appliances) => {\n    if (!readings || readings.length === 0) {\n      loadDefaultData();\n      return;\n    }\n\n    // Create appliance lookup map\n    const applianceMap = {};\n    appliances.forEach(app => {\n      applianceMap[app._id] = app;\n    });\n\n    // Group energy by room\n    const roomConsumption = {};\n    const applianceConsumption = {};\n    readings.forEach(reading => {\n      var _reading$roomId, _reading$applianceId;\n      const energyKwh = reading.energy || 0; // energy is already in kWh from your model\n\n      // Group by room\n      const roomName = ((_reading$roomId = reading.roomId) === null || _reading$roomId === void 0 ? void 0 : _reading$roomId.name) || 'Other';\n      roomConsumption[roomName] = (roomConsumption[roomName] || 0) + energyKwh;\n\n      // Group by appliance\n      const applianceName = ((_reading$applianceId = reading.applianceId) === null || _reading$applianceId === void 0 ? void 0 : _reading$applianceId.name) || 'Unknown';\n      applianceConsumption[applianceName] = (applianceConsumption[applianceName] || 0) + energyKwh;\n    });\n\n    // Convert to chart data format\n    const roomDataArray = Object.entries(roomConsumption).map(([name, value]) => ({\n      name,\n      value: parseFloat(value.toFixed(2))\n    })).sort((a, b) => b.value - a.value).slice(0, 6); // Top 6 rooms\n\n    const applianceDataArray = Object.entries(applianceConsumption).map(([name, value]) => ({\n      name,\n      value: parseFloat(value.toFixed(2))\n    })).sort((a, b) => b.value - a.value).slice(0, 6); // Top 6 appliances\n\n    setRoomData(roomDataArray.length > 0 ? roomDataArray : getDefaultRoomData());\n    setApplianceData(applianceDataArray.length > 0 ? applianceDataArray : getDefaultApplianceData());\n\n    // Process history table\n    const sortedReadings = [...readings].sort((a, b) => new Date(b.recorded_at) - new Date(a.recorded_at)).slice(0, 10);\n    const formattedHistory = sortedReadings.map((reading, idx) => {\n      var _reading$roomId2, _reading$applianceId2;\n      const prevReading = readings[idx + 1];\n      const currentKwh = reading.energy || 0;\n      const pastKwh = (prevReading === null || prevReading === void 0 ? void 0 : prevReading.energy) || 0;\n      const percentage = pastKwh > 0 ? ((currentKwh - pastKwh) / pastKwh * 100).toFixed(1) : 'N/A';\n      return {\n        location: ((_reading$roomId2 = reading.roomId) === null || _reading$roomId2 === void 0 ? void 0 : _reading$roomId2.name) || ((_reading$applianceId2 = reading.applianceId) === null || _reading$applianceId2 === void 0 ? void 0 : _reading$applianceId2.name) || 'Unknown',\n        timestamp: new Date(reading.recorded_at).toLocaleString(),\n        currentKwh: `${currentKwh.toFixed(2)} kWh`,\n        pastKwh: `${pastKwh.toFixed(2)} kWh`,\n        percentage: percentage !== 'N/A' ? `${percentage}%` : 'N/A'\n      };\n    });\n    setHistoryData(formattedHistory);\n\n    // Calculate bills based on cost from readings\n    const totalCost = readings.reduce((sum, r) => sum + (r.cost || 0), 0);\n    const recentCost = readings.filter(r => {\n      const readingDate = new Date(r.recorded_at);\n      const thirtyDaysAgo = new Date();\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n      return readingDate >= thirtyDaysAgo;\n    }).reduce((sum, r) => sum + (r.cost || 0), 0);\n    setOverallBill(Math.round(totalCost));\n    setUpcomingBill(Math.round(recentCost));\n  };\n  const processSummaries = summaries => {\n    if (!summaries || summaries.length === 0) {\n      setOverallData(getDefaultOverallData());\n      return;\n    }\n\n    // Group by period for line chart\n    const periodMap = {};\n    summaries.forEach(summary => {\n      const period = summary.period || 'Unknown';\n      if (!periodMap[period]) {\n        periodMap[period] = {\n          month: period,\n          production: 0,\n          consumption: 0\n        };\n      }\n      periodMap[period].consumption += summary.total_energy || 0;\n      // You can add production data if you have it\n    });\n    const chartData = Object.values(periodMap).sort((a, b) => {\n      // Sort by period chronologically if possible\n      return a.month.localeCompare(b.month);\n    });\n    setOverallData(chartData.length > 0 ? chartData : getDefaultOverallData());\n  };\n  const loadDefaultData = () => {\n    setOverallData(getDefaultOverallData());\n    setRoomData(getDefaultRoomData());\n    setApplianceData(getDefaultApplianceData());\n    setHistoryData([]);\n    setOverallBill(1000000);\n    setUpcomingBill(123467);\n  };\n  const getDefaultOverallData = () => [{\n    month: \"1997\",\n    production: 150000,\n    consumption: 150000\n  }, {\n    month: \"1998\",\n    production: 180000,\n    consumption: 170000\n  }, {\n    month: \"1999\",\n    production: 200000,\n    consumption: 190000\n  }, {\n    month: \"2000\",\n    production: 220000,\n    consumption: 210000\n  }, {\n    month: \"2001\",\n    production: 240000,\n    consumption: 230000\n  }, {\n    month: \"2002\",\n    production: 260000,\n    consumption: 250000\n  }, {\n    month: \"2003\",\n    production: 280000,\n    consumption: 270000\n  }, {\n    month: \"2004\",\n    production: 300000,\n    consumption: 290000\n  }, {\n    month: \"2005\",\n    production: 320000,\n    consumption: 310000\n  }, {\n    month: \"2006\",\n    production: 340000,\n    consumption: 330000\n  }, {\n    month: \"2007\",\n    production: 360000,\n    consumption: 350000\n  }, {\n    month: \"2008\",\n    production: 380000,\n    consumption: 370000\n  }, {\n    month: \"2009\",\n    production: 390000,\n    consumption: 390000\n  }, {\n    month: \"2010\",\n    production: 380000,\n    consumption: 410000\n  }, {\n    month: \"2011\",\n    production: 370000,\n    consumption: 420000\n  }, {\n    month: \"2012\",\n    production: 360000,\n    consumption: 430000\n  }, {\n    month: \"2013\",\n    production: 350000,\n    consumption: 435000\n  }, {\n    month: \"2014\",\n    production: 345000,\n    consumption: 440000\n  }, {\n    month: \"2015\",\n    production: 340000,\n    consumption: 442000\n  }, {\n    month: \"2016\",\n    production: 338000,\n    consumption: 444000\n  }];\n  const getDefaultRoomData = () => [{\n    name: \"Master Bedroom\",\n    value: 40\n  }, {\n    name: \"Living Room\",\n    value: 30\n  }, {\n    name: \"Children's Bedroom\",\n    value: 15\n  }, {\n    name: \"Garage\",\n    value: 8\n  }, {\n    name: \"Kitchen\",\n    value: 5\n  }, {\n    name: \"Other\",\n    value: 2\n  }];\n  const getDefaultApplianceData = () => [{\n    name: \"Lights\",\n    value: 150\n  }, {\n    name: \"Computer\",\n    value: 80\n  }, {\n    name: \"Speaker\",\n    value: 60\n  }, {\n    name: \"Television\",\n    value: 90\n  }, {\n    name: \"AC\",\n    value: 120\n  }, {\n    name: \"Refrigerator\",\n    value: 130\n  }];\n  const COLORS = [\"#4CAF50\", \"#FF9800\", \"#2196F3\", \"#FFEB3B\", \"#9C27B0\", \"#607D86\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen overflow-hidden relative font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-cover bg-center\",\n      style: {\n        backgroundImage: `url(${bgUrl})`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"absolute left-6 top-1/3 transform -translate-y-1/3 z-20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white bg-opacity-6 p-3 rounded-lg shadow-lg flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => onSwitch(\"dashboard\"),\n            children: \"\\uD83C\\uDFE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => onSwitch(\"appliance\"),\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => onSwitch(\"profile\"),\n            children: \"\\uD83D\\uDC64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LeftIcon, {\n            onClick: () => setShowLogoutConfirm(true),\n            children: \"\\uD83D\\uDEAA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), showLogoutConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 max-w-sm mx-4 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Confirm Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6 text-center\",\n          children: \"Are you sure you want to logout?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowLogoutConfirm(false),\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 rounded border border-gray-300 hover:border-gray-400\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onSwitch(\"login\"),\n            className: \"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold\",\n        children: \"Error loading data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[94%] max-w-[1200px] mt-6 pb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl tracking-wider font-bold text-white text-center mb-6\",\n          children: \"DASHBOARD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                title: \"OVERALL CONSUMPTION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: 180,\n                  children: /*#__PURE__*/_jsxDEV(LineChart, {\n                    data: overallData,\n                    children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                      strokeDasharray: \"3 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                      dataKey: \"month\",\n                      style: {\n                        fontSize: '10px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                      style: {\n                        fontSize: '10px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                      wrapperStyle: {\n                        fontSize: '11px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"production\",\n                      stroke: \"#2196F3\",\n                      name: \"total energy production\",\n                      strokeWidth: 2\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"consumption\",\n                      stroke: \"#FF5252\",\n                      name: \"total energy consumption\",\n                      strokeWidth: 2\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-lg shadow-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Overall Bill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold mt-4\",\n                  children: [\"\\u20B1\", overallBill.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-lg shadow-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Upcoming Bill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold mt-4\",\n                  children: [\"\\u20B1\", upcomingBill.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                title: \"CONSUMPTION BY ROOM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: token && !hasRealData ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center text-gray-600\",\n                  children: \"No room consumption data available for your account.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: 180,\n                  children: /*#__PURE__*/_jsxDEV(PieChart, {\n                    children: [/*#__PURE__*/_jsxDEV(Pie, {\n                      data: roomData,\n                      cx: \"50%\",\n                      cy: \"50%\",\n                      outerRadius: 70,\n                      dataKey: \"value\",\n                      label: ({\n                        name,\n                        value\n                      }) => `${name}: ${value} kWh`,\n                      style: {\n                        fontSize: '10px'\n                      },\n                      children: roomData.map((_, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                        fill: COLORS[i % COLORS.length]\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                title: \"APPLIANCES\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: token && !hasRealData ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center text-gray-600\",\n                  children: \"No appliances found for your account.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: 160,\n                  children: /*#__PURE__*/_jsxDEV(BarChart, {\n                    data: applianceData,\n                    children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                      strokeDasharray: \"3 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                      dataKey: \"name\",\n                      style: {\n                        fontSize: '10px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                      style: {\n                        fontSize: '10px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                      dataKey: \"value\",\n                      children: applianceData.map((_, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                        fill: COLORS[i % COLORS.length]\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 428,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-xl overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\",\n            children: \"HISTORY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 h-40 overflow-auto\",\n            children: historyData.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-left border-collapse\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"text-xs text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pb-2\",\n                    children: \"LOCATION\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pb-2\",\n                    children: \"TIMESTAMP\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pb-2\",\n                    children: \"CURRENT kWh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pb-2\",\n                    children: \"PAST kWh\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"pb-2\",\n                    children: \"PERCENTAGE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: historyData.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-t\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3\",\n                    children: row.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3\",\n                    children: row.timestamp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3\",\n                    children: row.currentKwh\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3\",\n                    children: row.pastKwh\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3\",\n                    children: row.percentage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-500 py-8\",\n              children: \"No history data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"tLQk3hTxf4+OTK+A08SsTvE9snA=\");\n_c5 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"CardHeader\");\n$RefreshReg$(_c3, \"CardContent\");\n$RefreshReg$(_c4, \"LeftIcon\");\n$RefreshReg$(_c5, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","BarChart","Bar","ResponsiveContainer","jsxDEV","_jsxDEV","Card","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","CardHeader","title","_c2","CardContent","_c3","LeftIcon","onClick","_c4","Dashboard","onSwitch","token","homeId","_s","showLogoutConfirm","setShowLogoutConfirm","error","setError","bgUrl","API_BASE_URL","process","env","REACT_APP_API_URL","overallData","setOverallData","roomData","setRoomData","applianceData","setApplianceData","historyData","setHistoryData","overallBill","setOverallBill","upcomingBill","setUpcomingBill","hasRealData","setHasRealData","loadDashboardData","interval","setInterval","clearInterval","params","URLSearchParams","append","appliancesResponse","fetch","headers","ok","Error","appliances","json","energyResponse","energyReadings","summaries","summaryResponse","hasData","Array","isArray","length","processEnergyReadings","processSummaries","DEFAULT_OVERALL","err","console","message","loadDefaultData","readings","applianceMap","forEach","app","_id","roomConsumption","applianceConsumption","reading","_reading$roomId","_reading$applianceId","energyKwh","energy","roomName","roomId","name","applianceName","applianceId","roomDataArray","Object","entries","map","value","parseFloat","toFixed","sort","a","b","slice","applianceDataArray","getDefaultRoomData","getDefaultApplianceData","sortedReadings","Date","recorded_at","formattedHistory","idx","_reading$roomId2","_reading$applianceId2","prevReading","currentKwh","pastKwh","percentage","location","timestamp","toLocaleString","totalCost","reduce","sum","r","cost","recentCost","filter","readingDate","thirtyDaysAgo","setDate","getDate","Math","round","getDefaultOverallData","periodMap","summary","period","month","production","consumption","total_energy","chartData","values","localeCompare","COLORS","style","backgroundImage","width","height","data","strokeDasharray","dataKey","fontSize","wrapperStyle","type","stroke","strokeWidth","cx","cy","outerRadius","label","_","i","fill","row","_c5","$RefreshReg$"],"sources":["C:/Users/Brian/OneDrive/Desktop/MERN-project/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n  PieChart, Pie, Cell, BarChart, Bar, ResponsiveContainer\r\n} from \"recharts\";\r\n\r\n// Lightweight shadcn-style card components\r\nconst Card = ({ children, className = \"\" }) => (\r\n  <div className={`bg-white rounded-xl shadow-xl overflow-hidden ${className}`}>{children}</div>\r\n);\r\nconst CardHeader = ({ title }) => (\r\n  <div className=\"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\">{title}</div>\r\n);\r\nconst CardContent = ({ children }) => (\r\n  <div className=\"p-4 bg-white flex items-center justify-center\">{children}</div>\r\n);\r\n\r\n// Sidebar icon wrapper\r\nconst LeftIcon = ({ children, onClick }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className=\"w-12 h-12 flex items-center justify-center rounded-md mb-3 bg-black bg-opacity-40 text-white cursor-pointer hover:bg-opacity-60\"\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst Dashboard = ({ onSwitch, token, homeId }) => {\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const bgUrl = \"https://images.unsplash.com/photo-1482192505345-5655af888cc4?auto=format&fit=crop&w=2000&q=80\";\r\n\r\n  // API base URL - UPDATE THIS WITH YOUR ACTUAL API URL\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  // Chart data states (no sample defaults) - only show backend data\r\n  const [overallData, setOverallData] = useState([]);\r\n  const [roomData, setRoomData] = useState([]);\r\n  const [applianceData, setApplianceData] = useState([]);\r\n  const [historyData, setHistoryData] = useState([]);\r\n  const [overallBill, setOverallBill] = useState(0);\r\n  const [upcomingBill, setUpcomingBill] = useState(0);\r\n  const [hasRealData, setHasRealData] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      loadDashboardData();\r\n      \r\n      // Update every 10 seconds for real-time monitoring\r\n      const interval = setInterval(loadDashboardData, 10000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [token, homeId]);\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setError(null);\r\n\r\n      // Build query params\r\n      const params = new URLSearchParams();\r\n      if (homeId) params.append('homeId', homeId);\r\n\r\n      // Fetch appliances for the home\r\n      const appliancesResponse = await fetch(`${API_BASE_URL}/appliances?${params}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!appliancesResponse.ok) throw new Error('Failed to fetch appliances');\r\n      const appliances = await appliancesResponse.json();\r\n\r\n      // Fetch energy readings for the home\r\n      const energyResponse = await fetch(`${API_BASE_URL}/energy?${params}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!energyResponse.ok) throw new Error('Failed to fetch energy readings');\r\n      const energyReadings = await energyResponse.json();\r\n\r\n      // Fetch energy summaries\r\n      let summaries = [];\r\n      if (homeId) {\r\n        const summaryResponse = await fetch(`${API_BASE_URL}/energy/summary/${homeId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (summaryResponse.ok) {\r\n          summaries = await summaryResponse.json();\r\n        }\r\n      }\r\n\r\n      // Determine if backend returned any real data for this user/home\r\n      const hasData = (Array.isArray(appliances) && appliances.length > 0)\r\n        || (Array.isArray(energyReadings) && energyReadings.length > 0)\r\n        || (Array.isArray(summaries) && summaries.length > 0);\r\n\r\n      setHasRealData(hasData);\r\n\r\n      // If there is real data, process it. If not, clear the charts for authenticated user\r\n      if (hasData) {\r\n        processEnergyReadings(energyReadings, appliances);\r\n        processSummaries(summaries);\r\n      } else {\r\n        // Authenticated but no data: show empty charts/state rather than sample defaults\r\n        setApplianceData([]);\r\n        setRoomData([]);\r\n        setHistoryData([]);\r\n        setOverallData(DEFAULT_OVERALL);\r\n        setOverallBill(0);\r\n        setUpcomingBill(0);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading dashboard data:', err);\r\n      setError(err.message);\r\n      // Load default data on error\r\n      loadDefaultData();\r\n    }\r\n  };\r\n\r\n  const processEnergyReadings = (readings, appliances) => {\r\n    if (!readings || readings.length === 0) {\r\n      loadDefaultData();\r\n      return;\r\n    }\r\n\r\n    // Create appliance lookup map\r\n    const applianceMap = {};\r\n    appliances.forEach(app => {\r\n      applianceMap[app._id] = app;\r\n    });\r\n\r\n    // Group energy by room\r\n    const roomConsumption = {};\r\n    const applianceConsumption = {};\r\n\r\n    readings.forEach(reading => {\r\n      const energyKwh = reading.energy || 0; // energy is already in kWh from your model\r\n      \r\n      // Group by room\r\n      const roomName = reading.roomId?.name || 'Other';\r\n      roomConsumption[roomName] = (roomConsumption[roomName] || 0) + energyKwh;\r\n      \r\n      // Group by appliance\r\n      const applianceName = reading.applianceId?.name || 'Unknown';\r\n      applianceConsumption[applianceName] = (applianceConsumption[applianceName] || 0) + energyKwh;\r\n    });\r\n\r\n    // Convert to chart data format\r\n    const roomDataArray = Object.entries(roomConsumption)\r\n      .map(([name, value]) => ({\r\n        name,\r\n        value: parseFloat(value.toFixed(2))\r\n      }))\r\n      .sort((a, b) => b.value - a.value)\r\n      .slice(0, 6); // Top 6 rooms\r\n\r\n    const applianceDataArray = Object.entries(applianceConsumption)\r\n      .map(([name, value]) => ({\r\n        name,\r\n        value: parseFloat(value.toFixed(2))\r\n      }))\r\n      .sort((a, b) => b.value - a.value)\r\n      .slice(0, 6); // Top 6 appliances\r\n\r\n    setRoomData(roomDataArray.length > 0 ? roomDataArray : getDefaultRoomData());\r\n    setApplianceData(applianceDataArray.length > 0 ? applianceDataArray : getDefaultApplianceData());\r\n\r\n    // Process history table\r\n    const sortedReadings = [...readings]\r\n      .sort((a, b) => new Date(b.recorded_at) - new Date(a.recorded_at))\r\n      .slice(0, 10);\r\n\r\n    const formattedHistory = sortedReadings.map((reading, idx) => {\r\n      const prevReading = readings[idx + 1];\r\n      const currentKwh = reading.energy || 0;\r\n      const pastKwh = prevReading?.energy || 0;\r\n      const percentage = pastKwh > 0 ? (((currentKwh - pastKwh) / pastKwh) * 100).toFixed(1) : 'N/A';\r\n      \r\n      return {\r\n        location: reading.roomId?.name || reading.applianceId?.name || 'Unknown',\r\n        timestamp: new Date(reading.recorded_at).toLocaleString(),\r\n        currentKwh: `${currentKwh.toFixed(2)} kWh`,\r\n        pastKwh: `${pastKwh.toFixed(2)} kWh`,\r\n        percentage: percentage !== 'N/A' ? `${percentage}%` : 'N/A'\r\n      };\r\n    });\r\n\r\n    setHistoryData(formattedHistory);\r\n\r\n    // Calculate bills based on cost from readings\r\n    const totalCost = readings.reduce((sum, r) => sum + (r.cost || 0), 0);\r\n    const recentCost = readings\r\n      .filter(r => {\r\n        const readingDate = new Date(r.recorded_at);\r\n        const thirtyDaysAgo = new Date();\r\n        thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n        return readingDate >= thirtyDaysAgo;\r\n      })\r\n      .reduce((sum, r) => sum + (r.cost || 0), 0);\r\n\r\n    setOverallBill(Math.round(totalCost));\r\n    setUpcomingBill(Math.round(recentCost));\r\n  };\r\n\r\n  const processSummaries = (summaries) => {\r\n    if (!summaries || summaries.length === 0) {\r\n      setOverallData(getDefaultOverallData());\r\n      return;\r\n    }\r\n\r\n    // Group by period for line chart\r\n    const periodMap = {};\r\n    summaries.forEach(summary => {\r\n      const period = summary.period || 'Unknown';\r\n      if (!periodMap[period]) {\r\n        periodMap[period] = {\r\n          month: period,\r\n          production: 0,\r\n          consumption: 0\r\n        };\r\n      }\r\n      periodMap[period].consumption += summary.total_energy || 0;\r\n      // You can add production data if you have it\r\n    });\r\n\r\n    const chartData = Object.values(periodMap).sort((a, b) => {\r\n      // Sort by period chronologically if possible\r\n      return a.month.localeCompare(b.month);\r\n    });\r\n\r\n    setOverallData(chartData.length > 0 ? chartData : getDefaultOverallData());\r\n  };\r\n\r\n  const loadDefaultData = () => {\r\n    setOverallData(getDefaultOverallData());\r\n    setRoomData(getDefaultRoomData());\r\n    setApplianceData(getDefaultApplianceData());\r\n    setHistoryData([]);\r\n    setOverallBill(1000000);\r\n    setUpcomingBill(123467);\r\n  };\r\n\r\n  const getDefaultOverallData = () => [\r\n    { month: \"1997\", production: 150000, consumption: 150000 },\r\n    { month: \"1998\", production: 180000, consumption: 170000 },\r\n    { month: \"1999\", production: 200000, consumption: 190000 },\r\n    { month: \"2000\", production: 220000, consumption: 210000 },\r\n    { month: \"2001\", production: 240000, consumption: 230000 },\r\n    { month: \"2002\", production: 260000, consumption: 250000 },\r\n    { month: \"2003\", production: 280000, consumption: 270000 },\r\n    { month: \"2004\", production: 300000, consumption: 290000 },\r\n    { month: \"2005\", production: 320000, consumption: 310000 },\r\n    { month: \"2006\", production: 340000, consumption: 330000 },\r\n    { month: \"2007\", production: 360000, consumption: 350000 },\r\n    { month: \"2008\", production: 380000, consumption: 370000 },\r\n    { month: \"2009\", production: 390000, consumption: 390000 },\r\n    { month: \"2010\", production: 380000, consumption: 410000 },\r\n    { month: \"2011\", production: 370000, consumption: 420000 },\r\n    { month: \"2012\", production: 360000, consumption: 430000 },\r\n    { month: \"2013\", production: 350000, consumption: 435000 },\r\n    { month: \"2014\", production: 345000, consumption: 440000 },\r\n    { month: \"2015\", production: 340000, consumption: 442000 },\r\n    { month: \"2016\", production: 338000, consumption: 444000 },\r\n  ];\r\n\r\n  const getDefaultRoomData = () => [\r\n    { name: \"Master Bedroom\", value: 40 },\r\n    { name: \"Living Room\", value: 30 },\r\n    { name: \"Children's Bedroom\", value: 15 },\r\n    { name: \"Garage\", value: 8 },\r\n    { name: \"Kitchen\", value: 5 },\r\n    { name: \"Other\", value: 2 },\r\n  ];\r\n\r\n  const getDefaultApplianceData = () => [\r\n    { name: \"Lights\", value: 150 },\r\n    { name: \"Computer\", value: 80 },\r\n    { name: \"Speaker\", value: 60 },\r\n    { name: \"Television\", value: 90 },\r\n    { name: \"AC\", value: 120 },\r\n    { name: \"Refrigerator\", value: 130 },\r\n  ];\r\n\r\n  const COLORS = [\"#4CAF50\", \"#FF9800\", \"#2196F3\", \"#FFEB3B\", \"#9C27B0\", \"#607D86\"];\r\n\r\n  return (\r\n    <div className=\"h-screen w-screen overflow-hidden relative font-sans\">\r\n      {/* Background */}\r\n      <div className=\"absolute inset-0 bg-cover bg-center\" style={{ backgroundImage: `url(${bgUrl})` }} />\r\n      <div className=\"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\" />\r\n\r\n      {/* Sidebar */}\r\n      <aside className=\"absolute left-6 top-1/3 transform -translate-y-1/3 z-20\">\r\n        <div className=\"flex flex-col items-center\">\r\n          <div className=\"bg-white bg-opacity-6 p-3 rounded-lg shadow-lg flex flex-col items-center\">\r\n            <LeftIcon onClick={() => onSwitch(\"dashboard\")}></LeftIcon>\r\n            <LeftIcon onClick={() => onSwitch(\"appliance\")}></LeftIcon>\r\n            <LeftIcon onClick={() => onSwitch(\"profile\")}></LeftIcon>\r\n            <LeftIcon onClick={() => setShowLogoutConfirm(true)}></LeftIcon>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Logout modal */}\r\n      {showLogoutConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-sm mx-4 w-full\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Confirm Logout</h3>\r\n            <p className=\"text-gray-600 mb-6 text-center\">Are you sure you want to logout?</p>\r\n            <div className=\"flex justify-center items-center gap-4\">\r\n              <button\r\n                onClick={() => setShowLogoutConfirm(false)}\r\n                className=\"px-6 py-2 text-gray-600 hover:text-gray-800 rounded border border-gray-300 hover:border-gray-400\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => onSwitch(\"login\")}\r\n                className=\"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error message */}\r\n      {error && (\r\n        <div className=\"absolute top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 max-w-md\">\r\n          <p className=\"font-semibold\">Error loading data</p>\r\n          <p className=\"text-sm\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main content */}\r\n      <div className=\"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto\">\r\n        <div className=\"w-[94%] max-w-[1200px] mt-6 pb-6\">\r\n          <h1 className=\"text-3xl tracking-wider font-bold text-white text-center mb-6\">DASHBOARD</h1>\r\n\r\n          <div className=\"grid grid-cols-2 gap-6 mb-6\">\r\n            {/* Left column */}\r\n            <div className=\"flex flex-col gap-6\">\r\n              <Card className=\"flex-1\">\r\n                <CardHeader title=\"OVERALL CONSUMPTION\" />\r\n                <CardContent>\r\n                  <ResponsiveContainer width=\"100%\" height={180}>\r\n                    <LineChart data={overallData}>\r\n                      <CartesianGrid strokeDasharray=\"3 3\" />\r\n                      <XAxis dataKey=\"month\" style={{ fontSize: '10px' }} />\r\n                      <YAxis style={{ fontSize: '10px' }} />\r\n                      <Tooltip />\r\n                      <Legend wrapperStyle={{ fontSize: '11px' }} />\r\n                      <Line type=\"monotone\" dataKey=\"production\" stroke=\"#2196F3\" name=\"total energy production\" strokeWidth={2} />\r\n                      <Line type=\"monotone\" dataKey=\"consumption\" stroke=\"#FF5252\" name=\"total energy consumption\" strokeWidth={2} />\r\n                    </LineChart>\r\n                  </ResponsiveContainer>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Bills */}\r\n              <div className=\"grid grid-cols-2 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow-xl p-4\">\r\n                  <div className=\"text-sm text-gray-600\">Overall Bill</div>\r\n                  <div className=\"text-2xl font-bold mt-4\">{overallBill.toLocaleString()}</div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg shadow-xl p-4\">\r\n                  <div className=\"text-sm text-gray-600\">Upcoming Bill</div>\r\n                  <div className=\"text-2xl font-bold mt-4\">{upcomingBill.toLocaleString()}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right column */}\r\n            <div className=\"flex flex-col gap-6\">\r\n              <Card className=\"flex-1\">\r\n                <CardHeader title=\"CONSUMPTION BY ROOM\" />\r\n                <CardContent>\r\n                  {token && !hasRealData ? (\r\n                    <div className=\"text-center text-gray-600\">\r\n                      No room consumption data available for your account.\r\n                    </div>\r\n                  ) : (\r\n                    <ResponsiveContainer width=\"100%\" height={180}>\r\n                      <PieChart>\r\n                        <Pie\r\n                          data={roomData}\r\n                          cx=\"50%\"\r\n                          cy=\"50%\"\r\n                          outerRadius={70}\r\n                          dataKey=\"value\"\r\n                          label={({ name, value }) => `${name}: ${value} kWh`}\r\n                          style={{ fontSize: '10px' }}\r\n                        >\r\n                          {roomData.map((_, i) => (\r\n                            <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                          ))}\r\n                        </Pie>\r\n                        <Tooltip />\r\n                      </PieChart>\r\n                    </ResponsiveContainer>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"flex-1\">\r\n                <CardHeader title=\"APPLIANCES\" />\r\n                <CardContent>\r\n                  {token && !hasRealData ? (\r\n                    <div className=\"text-center text-gray-600\">No appliances found for your account.</div>\r\n                  ) : (\r\n                    <ResponsiveContainer width=\"100%\" height={160}>\r\n                      <BarChart data={applianceData}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                        <XAxis dataKey=\"name\" style={{ fontSize: '10px' }} />\r\n                        <YAxis style={{ fontSize: '10px' }} />\r\n                        <Tooltip />\r\n                        <Bar dataKey=\"value\">\r\n                          {applianceData.map((_, i) => (\r\n                            <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                          ))}\r\n                        </Bar>\r\n                      </BarChart>\r\n                    </ResponsiveContainer>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n\r\n          {/* History */}\r\n          <div className=\"bg-white rounded-xl shadow-xl overflow-hidden\">\r\n            <div className=\"bg-blue-500 text-white px-4 py-2 font-semibold rounded-t-xl\">HISTORY</div>\r\n            <div className=\"p-4 h-40 overflow-auto\">\r\n              {historyData.length > 0 ? (\r\n                <table className=\"w-full text-left border-collapse\">\r\n                  <thead>\r\n                    <tr className=\"text-xs text-gray-500\">\r\n                      <th className=\"pb-2\">LOCATION</th>\r\n                      <th className=\"pb-2\">TIMESTAMP</th>\r\n                      <th className=\"pb-2\">CURRENT kWh</th>\r\n                      <th className=\"pb-2\">PAST kWh</th>\r\n                      <th className=\"pb-2\">PERCENTAGE</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {historyData.map((row, idx) => (\r\n                      <tr key={idx} className=\"border-t\">\r\n                        <td className=\"py-3\">{row.location}</td>\r\n                        <td className=\"py-3\">{row.timestamp}</td>\r\n                        <td className=\"py-3\">{row.currentKwh}</td>\r\n                        <td className=\"py-3\">{row.pastKwh}</td>\r\n                        <td className=\"py-3\">{row.percentage}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              ) : (\r\n                <div className=\"text-center text-gray-500 py-8\">\r\n                  No history data available\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}