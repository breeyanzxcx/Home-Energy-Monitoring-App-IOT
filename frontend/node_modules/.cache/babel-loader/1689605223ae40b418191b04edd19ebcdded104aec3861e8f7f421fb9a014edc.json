{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN-project\\\\frontend\\\\src\\\\components\\\\Appliance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// Import SVGs as URLs (CRA-compatible)\nimport dashboardIcon from '../assets/icons/dashboard.svg';\nimport applianceIcon from '../assets/icons/add.svg';\nimport profileIcon from '../assets/icons/profile.svg';\nimport logoutIcon from '../assets/icons/logout.svg';\nimport deleteIcon from '../assets/icons/delete.svg';\nimport editIcon from '../assets/icons/edit.svg';\nimport houseIcon from '../assets/icons/house.svg';\nimport airconIcon from '../assets/icons/aircon.svg';\nimport kitchenIcon from '../assets/icons/kitchen.svg';\nimport lightIcon from '../assets/icons/light.svg';\nimport speakerIcon from '../assets/icons/speaker.svg';\nimport televisionIcon from '../assets/icons/television.svg';\nimport filterIcon from '../assets/icons/filter.svg';\n\n// NavItem Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NavItem = ({\n  onClick,\n  src,\n  label\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  onClick: onClick,\n  className: \"w-12 h-12 flex items-center justify-center rounded-md mb-3 \\r bg-blue-500 bg-opacity-100 text-white cursor-pointer \\r hover:bg-blue-500 hover:bg-opacity-70 hover:text-yellow-300 \\r transition-all duration-200\",\n  title: label,\n  children: /*#__PURE__*/_jsxDEV(\"img\", {\n    src: src,\n    alt: label,\n    className: \"w-6 h-6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 3\n}, this);\n\n// Improved Appliance Card with better styling and edit functionality\n_c = NavItem;\nconst ApplianceCard = ({\n  name,\n  type,\n  image,\n  onDelete,\n  onEdit,\n  energy\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white rounded-xl shadow-lg p-6 flex flex-col items-center justify-between hover:shadow-xl transition-all duration-300 cursor-pointer relative group border border-gray-100 min-h-[180px]\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute top-3 right-3 flex space-x-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation();\n        onEdit();\n      },\n      className: \"bg-blue-500 hover:bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: editIcon,\n        alt: \"Edit\",\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation();\n        onDelete();\n      },\n      className: \"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: deleteIcon,\n        alt: \"Delete\",\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center flex-1 justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-16 h-16 mb-4 flex items-center justify-center bg-blue-50 rounded-2xl p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: name,\n        className: \"w-full h-full object-contain\",\n        style: {\n          filter: 'brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(2000%) hue-rotate(210deg) brightness(90%) contrast(90%)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-semibold text-gray-800 text-sm mb-1\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 capitalize\",\n        children: type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), energy && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-blue-600 font-medium mt-1\",\n        children: [energy, \" kWh\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 34,\n  columnNumber: 3\n}, this);\n\n// Improved Add Card\n_c2 = ApplianceCard;\nconst AddApplianceCard = ({\n  onClick\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  onClick: onClick,\n  className: \"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-dashed border-blue-200 hover:border-blue-300 min-h-[180px] group\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-16 h-16 mb-4 flex items-center justify-center bg-white rounded-2xl p-3 group-hover:bg-blue-50 transition-colors\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"32\",\n      height: \"32\",\n      viewBox: \"0 0 24 24\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: \"text-blue-500\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 5v14m-7-7h14\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"font-semibold text-blue-600 text-sm\",\n      children: \"Add New Appliance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-gray-500 mt-1\",\n      children: \"Click to add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 75,\n  columnNumber: 3\n}, this);\n\n// Improved Home Card\n_c3 = AddApplianceCard;\nconst HomeCard = ({\n  home,\n  onSelect,\n  onDelete\n}) => {\n  var _home$appliances, _home$appliances2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-lg p-6 flex flex-col items-center justify-between hover:shadow-xl transition-all duration-300 cursor-pointer relative group border border-gray-100 min-h-[180px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation();\n        onDelete();\n      },\n      className: \"absolute top-3 right-3 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: deleteIcon,\n        alt: \"Delete\",\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center flex-1 justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 mb-4 flex items-center justify-center bg-blue-50 rounded-2xl p-3\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: houseIcon,\n          alt: \"Home\",\n          className: \"w-full h-full object-contain filter-blue\",\n          style: {\n            filter: 'brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(2000%) hue-rotate(210deg) brightness(90%) contrast(90%)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-gray-800 text-sm mb-1\",\n          children: home.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [((_home$appliances = home.appliances) === null || _home$appliances === void 0 ? void 0 : _home$appliances.length) || 0, \" appliance\", (((_home$appliances2 = home.appliances) === null || _home$appliances2 === void 0 ? void 0 : _home$appliances2.length) || 0) !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onSelect,\n      className: \"w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors duration-200\",\n      children: \"View Appliances\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 3\n  }, this);\n};\n_c4 = HomeCard;\nconst Appliance = ({\n  onSwitch\n}) => {\n  _s();\n  var _defaultAppliances$fi2, _defaultAppliances$fi3, _defaultAppliances$fi4, _homes$selectedHomeIn2, _homes$selectedHomeIn3, _homes$selectedHomeIn4, _rooms$find3, _homes$selectedHomeIn5, _homes$selectedHomeIn6;\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [entryType, setEntryType] = useState('manual');\n  const [selectedAppliance, setSelectedAppliance] = useState('');\n  const [selectedRoom, setSelectedRoom] = useState('');\n  const [energy, setEnergy] = useState('');\n  const [applianceName, setApplianceName] = useState('');\n  const [homes, setHomes] = useState([]);\n  const [showAddHomeModal, setShowAddHomeModal] = useState(false);\n  const [newHomeName, setNewHomeName] = useState('');\n  const [selectedHomeIndex, setSelectedHomeIndex] = useState(null);\n  const [showDeleteHomeConfirm, setShowDeleteHomeConfirm] = useState(false);\n  const [homeToDelete, setHomeToDelete] = useState(null);\n  const [showDeleteApplianceConfirm, setShowDeleteApplianceConfirm] = useState(false);\n  const [applianceToDelete, setApplianceToDelete] = useState(null);\n  const [applianceToEdit, setApplianceToEdit] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [rooms, setRooms] = useState([]);\n  const [showFilterModal, setShowFilterModal] = useState(false);\n  const [filterType, setFilterType] = useState('all');\n  const [filterRoom, setFilterRoom] = useState('all');\n  const [filterEnergy, setFilterEnergy] = useState('all');\n\n  // Updated default appliances with proper icons\n  const defaultAppliances = [{\n    id: 'default-fridge',\n    name: 'Refrigerator',\n    image: kitchenIcon,\n    defaultEnergy: 1.5,\n    category: 'Kitchen'\n  }, {\n    id: 'default-television',\n    name: 'Television',\n    image: televisionIcon,\n    defaultEnergy: 0.5,\n    category: 'Entertainment'\n  }, {\n    id: 'default-ac',\n    name: 'Air Conditioner',\n    image: airconIcon,\n    defaultEnergy: 3.0,\n    category: 'Cooling'\n  }, {\n    id: 'default-lights',\n    name: 'Lighting',\n    image: lightIcon,\n    defaultEnergy: 0.1,\n    category: 'Lighting'\n  }, {\n    id: 'default-speaker',\n    name: 'Speaker',\n    image: speakerIcon,\n    defaultEnergy: 0.2,\n    category: 'Entertainment'\n  }];\n  const API_BASE = 'http://localhost:5000/api';\n  const loadAppliancesForHome = async (homeId, index) => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    try {\n      const res = await fetch(`${API_BASE}/appliances?homeId=${homeId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error('Failed to fetch appliances');\n      const data = await res.json();\n      setHomes(prev => {\n        const copy = [...prev];\n        copy[index] = {\n          ...copy[index],\n          appliances: data.map(a => {\n            var _a$roomId, _defaultAppliances$fi;\n            return {\n              id: a._id || a.id,\n              name: a.name,\n              type: a.type,\n              energy_threshold: a.energy_threshold,\n              roomId: a.roomId,\n              roomName: ((_a$roomId = a.roomId) === null || _a$roomId === void 0 ? void 0 : _a$roomId.name) || 'Unknown Room',\n              image: ((_defaultAppliances$fi = defaultAppliances.find(da => da.name === a.type)) === null || _defaultAppliances$fi === void 0 ? void 0 : _defaultAppliances$fi.image) || houseIcon\n            };\n          })\n        };\n        return copy;\n      });\n    } catch (err) {\n      console.error('Load appliances error', err.message || err);\n    }\n  };\n  useEffect(() => {\n    const fetchHomesAndAppliances = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      try {\n        const res = await fetch(`${API_BASE}/homes`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) throw new Error('Failed to fetch homes');\n        const data = await res.json();\n        const normalized = data.map(h => ({\n          id: h._id || h.id,\n          name: h.name,\n          appliances: []\n        }));\n        setHomes(normalized);\n        for (let i = 0; i < normalized.length; i++) {\n          await loadAppliancesForHome(normalized[i].id, i);\n        }\n        const savedIndex = localStorage.getItem('selectedHomeIndex');\n        if (savedIndex !== null && Number(savedIndex) < normalized.length) {\n          setSelectedHomeIndex(Number(savedIndex));\n        }\n      } catch (error) {\n        console.error('Error fetching homes:', error);\n      }\n    };\n    fetchHomesAndAppliances();\n  }, []);\n  useEffect(() => {\n    if (selectedHomeIndex !== null) {\n      localStorage.setItem('selectedHomeIndex', selectedHomeIndex);\n    } else {\n      localStorage.removeItem('selectedHomeIndex');\n    }\n  }, [selectedHomeIndex]);\n  useEffect(() => {\n    const fetchRooms = async () => {\n      if (selectedHomeIndex === null || !homes[selectedHomeIndex]) {\n        setRooms([]);\n        return;\n      }\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      const homeId = homes[selectedHomeIndex].id;\n      try {\n        const res = await fetch(`${API_BASE}/rooms?homeId=${homeId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) throw new Error('Failed to fetch rooms');\n        const data = await res.json();\n        setRooms(data);\n      } catch (err) {\n        console.error('Fetch rooms error:', err);\n        setRooms([]);\n      }\n    };\n    fetchRooms();\n  }, [selectedHomeIndex, homes]);\n\n  // Filter appliances based on selected filters\n  const getFilteredAppliances = () => {\n    if (selectedHomeIndex === null || !homes[selectedHomeIndex]) return [];\n    const appliances = homes[selectedHomeIndex].appliances || [];\n    return appliances.filter(appliance => {\n      // Filter by type\n      if (filterType !== 'all' && appliance.type !== filterType) {\n        return false;\n      }\n\n      // Filter by room\n      if (filterRoom !== 'all' && appliance.roomId !== filterRoom) {\n        return false;\n      }\n\n      // Filter by energy consumption\n      if (filterEnergy !== 'all') {\n        const energyValue = appliance.energy_threshold || 0;\n        switch (filterEnergy) {\n          case 'low':\n            if (energyValue > 1) return false;\n            break;\n          case 'medium':\n            if (energyValue <= 1 || energyValue > 3) return false;\n            break;\n          case 'high':\n            if (energyValue <= 3) return false;\n            break;\n          default:\n            break;\n        }\n      }\n      return true;\n    });\n  };\n  const handleSelectHome = index => {\n    setSelectedHomeIndex(index);\n    // Reset filters when switching homes\n    setFilterType('all');\n    setFilterRoom('all');\n    setFilterEnergy('all');\n  };\n  const handleBackToHomes = () => {\n    setSelectedHomeIndex(null);\n    localStorage.removeItem('selectedHomeIndex');\n  };\n  const handleConfirm = async () => {\n    var _homes$selectedHomeIn;\n    const token = localStorage.getItem('token');\n    if (!token) return onSwitch && onSwitch('login');\n    if (selectedHomeIndex === null) {\n      console.error('No home selected');\n      setShowAddModal(false);\n      return;\n    }\n    if (!selectedRoom) {\n      setErrorMessage('Please select a room');\n      return;\n    }\n    const home = homes[selectedHomeIndex];\n    const baseApplianceName = selectedAppliance || 'Custom Appliance';\n    const existingAppliances = ((_homes$selectedHomeIn = homes[selectedHomeIndex]) === null || _homes$selectedHomeIn === void 0 ? void 0 : _homes$selectedHomeIn.appliances) || [];\n    const sameNameCount = existingAppliances.filter(a => a.name.startsWith(baseApplianceName)).length;\n    const finalName = sameNameCount > 0 ? `${baseApplianceName} ${sameNameCount + 1}` : baseApplianceName;\n    let calculatedEnergy;\n    if (entryType === 'manual') {\n      calculatedEnergy = energy ? Number(energy) : undefined;\n    } else if (entryType === 'appliance') {\n      const baseAppliance = defaultAppliances.find(a => a.name === baseApplianceName);\n      calculatedEnergy = baseAppliance ? baseAppliance.defaultEnergy : undefined;\n    }\n    const payload = {\n      homeId: home.id || home._id,\n      roomId: selectedRoom,\n      name: finalName,\n      type: baseApplianceName,\n      energy_threshold: calculatedEnergy\n    };\n    try {\n      const res = await fetch(`${API_BASE}/appliances`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Create appliance failed');\n      const baseAppliance = defaultAppliances.find(a => a.name === baseApplianceName);\n      setHomes(prev => {\n        var _copy$selectedHomeInd, _rooms$find;\n        const copy = [...prev];\n        const existing = ((_copy$selectedHomeInd = copy[selectedHomeIndex]) === null || _copy$selectedHomeInd === void 0 ? void 0 : _copy$selectedHomeInd.appliances) || [];\n        copy[selectedHomeIndex] = {\n          ...copy[selectedHomeIndex],\n          appliances: [...existing, {\n            id: data._id || data.id,\n            name: data.name,\n            type: data.type,\n            energy_threshold: data.energy_threshold,\n            roomId: data.roomId,\n            roomName: ((_rooms$find = rooms.find(r => (r._id || r.id) === data.roomId)) === null || _rooms$find === void 0 ? void 0 : _rooms$find.name) || 'Unknown Room',\n            image: baseAppliance ? baseAppliance.image : houseIcon\n          }]\n        };\n        return copy;\n      });\n      setErrorMessage('');\n    } catch (err) {\n      console.error('Create appliance error', err.message || err);\n      setErrorMessage(err.message || 'Failed to add appliance');\n    }\n    setShowAddModal(false);\n    setSelectedAppliance('');\n    setSelectedRoom('');\n    setEnergy('');\n  };\n  const handleUpdateAppliance = async () => {\n    const token = localStorage.getItem('token');\n    if (!token) return onSwitch && onSwitch('login');\n    if (!applianceToEdit) return;\n    const payload = {\n      name: applianceName,\n      type: selectedAppliance,\n      energy_threshold: energy ? Number(energy) : undefined,\n      roomId: selectedRoom\n    };\n    try {\n      const res = await fetch(`${API_BASE}/appliances/${applianceToEdit.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Update appliance failed');\n\n      // Update the appliance in state\n      setHomes(prev => {\n        const copy = [...prev];\n        const applianceIndex = copy[selectedHomeIndex].appliances.findIndex(a => a.id === applianceToEdit.id);\n        if (applianceIndex !== -1) {\n          var _rooms$find2;\n          copy[selectedHomeIndex].appliances[applianceIndex] = {\n            ...copy[selectedHomeIndex].appliances[applianceIndex],\n            name: data.name,\n            type: data.type,\n            energy_threshold: data.energy_threshold,\n            roomId: data.roomId,\n            roomName: ((_rooms$find2 = rooms.find(r => (r._id || r.id) === data.roomId)) === null || _rooms$find2 === void 0 ? void 0 : _rooms$find2.name) || 'Unknown Room'\n          };\n        }\n        return copy;\n      });\n      setShowEditModal(false);\n      setApplianceToEdit(null);\n      setErrorMessage('');\n    } catch (err) {\n      console.error('Update appliance error', err.message || err);\n      setErrorMessage(err.message || 'Failed to update appliance');\n    }\n  };\n  const handleEditAppliance = (appliance, index) => {\n    var _appliance$energy_thr;\n    setApplianceToEdit({\n      ...appliance,\n      index\n    });\n    setApplianceName(appliance.name);\n    setSelectedAppliance(appliance.type);\n    setSelectedRoom(appliance.roomId || '');\n    setEnergy(((_appliance$energy_thr = appliance.energy_threshold) === null || _appliance$energy_thr === void 0 ? void 0 : _appliance$energy_thr.toString()) || '');\n    setEntryType('manual'); // Default to manual for editing\n    setShowEditModal(true);\n  };\n  const handleAddHome = async () => {\n    const name = newHomeName.trim();\n    if (!name) return;\n    const token = localStorage.getItem('token');\n    if (!token) return onSwitch && onSwitch('login');\n    try {\n      const res = await fetch(`${API_BASE}/homes`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Create home failed');\n      setHomes(prev => {\n        const newHomes = [...prev, {\n          id: data.id || data._id,\n          name: data.name,\n          appliances: []\n        }];\n        setSelectedHomeIndex(newHomes.length - 1);\n        return newHomes;\n      });\n      setNewHomeName('');\n      setShowAddHomeModal(false);\n    } catch (err) {\n      console.error('Create home error', err.message || err);\n      setErrorMessage(err.message || 'Failed to add home');\n    }\n  };\n  const handleDeleteHome = async index => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    const home = homes[index];\n    try {\n      const res = await fetch(`${API_BASE}/homes/${home.id}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.error || 'Delete home failed');\n      }\n      setHomes(prev => prev.filter((_, i) => i !== index));\n      if (selectedHomeIndex === index) {\n        setSelectedHomeIndex(null);\n        localStorage.removeItem('selectedHomeIndex');\n      } else if (selectedHomeIndex > index) {\n        setSelectedHomeIndex(selectedHomeIndex - 1);\n      }\n      setShowDeleteHomeConfirm(false);\n      setHomeToDelete(null);\n    } catch (err) {\n      console.error('Delete home error:', err.message || err);\n      setErrorMessage(err.message || 'Failed to delete home');\n    }\n  };\n  const handleDeleteAppliance = async (applianceId, applianceIndex) => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    try {\n      const res = await fetch(`${API_BASE}/appliances/${applianceId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.error || 'Delete appliance failed');\n      }\n      setHomes(prev => {\n        const copy = [...prev];\n        copy[selectedHomeIndex] = {\n          ...copy[selectedHomeIndex],\n          appliances: copy[selectedHomeIndex].appliances.filter((_, i) => i !== applianceIndex)\n        };\n        return copy;\n      });\n      setShowDeleteApplianceConfirm(false);\n      setApplianceToDelete(null);\n    } catch (err) {\n      console.error('Delete appliance error:', err.message || err);\n      setErrorMessage(err.message || 'Failed to delete appliance');\n    }\n  };\n\n  // Reset form when modals close\n  const resetForm = () => {\n    setSelectedAppliance('');\n    setSelectedRoom('');\n    setEnergy('');\n    setApplianceName('');\n    setEntryType('manual');\n    setErrorMessage('');\n  };\n\n  // Reset filters\n  const resetFilters = () => {\n    setFilterType('all');\n    setFilterRoom('all');\n    setFilterEnergy('all');\n  };\n  const filteredAppliances = getFilteredAppliances();\n  const hasActiveFilters = filterType !== 'all' || filterRoom !== 'all' || filterEnergy !== 'all';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen overflow-hidden relative font-sans bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1501183638710-841dd1904471?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170')] bg-cover bg-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"fixed left-0 top-0 h-full z-30 flex items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative h-64 w-32 flex items-center group cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-1/2 -translate-y-1/2 w-12 h-12 bg-blue-600 rounded-r-full flex items-center justify-center shadow-lg transition-all duration-300 z-10\\r group-hover:opacity-0 group-hover:-translate-x-8\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 text-white transition-transform group-hover:scale-110\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M9 5l7 7-7 7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-16 opacity-0 invisible \\r group-hover:translate-x-8 group-hover:opacity-100 group-hover:visible \\r transition-all duration-300 ease-out pointer-events-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-3 rounded-lg shadow-lg flex flex-col items-center backdrop-blur-sm\",\n            children: [/*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => onSwitch('dashboard'),\n              src: dashboardIcon,\n              label: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => onSwitch('appliance'),\n              src: applianceIcon,\n              label: \"Appliances\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => onSwitch('profile'),\n              src: profileIcon,\n              label: \"Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n              onClick: () => setShowLogoutConfirm(true),\n              src: logoutIcon,\n              label: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50 flex items-center space-x-3 max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm opacity-90\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setErrorMessage(''),\n        className: \"text-white hover:text-gray-200 transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M6 18L18 6M6 6l12 12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 9\n    }, this), showLogoutConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-sm mx-4 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Confirm Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6 text-center\",\n          children: \"Are you sure you want to logout?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowLogoutConfirm(false),\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onSwitch('login'),\n            className: \"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 9\n    }, this), showFilterModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-md w-full relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilterModal(false),\n          className: \"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M15 19l-7-7 7-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-6 text-center\",\n          children: \"Filter Appliances\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-3\",\n              children: \"Appliance Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFilterType('all'),\n                className: `p-3 rounded-lg border-2 text-sm font-medium transition-colors ${filterType === 'all' ? 'bg-blue-500 text-white border-blue-500' : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-blue-300'}`,\n                children: \"All Types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this), defaultAppliances.map(appliance => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFilterType(appliance.name),\n                className: `p-3 rounded-lg border-2 text-sm font-medium transition-colors ${filterType === appliance.name ? 'bg-blue-500 text-white border-blue-500' : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-blue-300'}`,\n                children: appliance.name\n              }, appliance.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-3\",\n              children: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterRoom,\n              onChange: e => setFilterRoom(e.target.value),\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Rooms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 19\n              }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: room._id || room.id,\n                children: room.name\n              }, room._id || room.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-3\",\n              children: \"Energy Consumption\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFilterEnergy('all'),\n                className: `p-3 rounded-lg border-2 text-sm font-medium transition-colors ${filterEnergy === 'all' ? 'bg-blue-500 text-white border-blue-500' : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-blue-300'}`,\n                children: \"All Energy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFilterEnergy('low'),\n                className: `p-3 rounded-lg border-2 text-sm font-medium transition-colors ${filterEnergy === 'low' ? 'bg-green-500 text-white border-green-500' : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-green-300'}`,\n                children: \"Low (<1 kWh)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFilterEnergy('medium'),\n                className: `p-3 rounded-lg border-2 text-sm font-medium transition-colors ${filterEnergy === 'medium' ? 'bg-yellow-500 text-white border-yellow-500' : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-yellow-300'}`,\n                children: \"Medium (1-3 kWh)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFilterEnergy('high'),\n                className: `p-3 rounded-lg border-2 text-sm font-medium transition-colors ${filterEnergy === 'high' ? 'bg-red-500 text-white border-red-500' : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-red-300'}`,\n                children: \"High (>3 kWh)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetFilters,\n            className: \"flex-1 p-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\",\n            children: \"Reset Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowFilterModal(false),\n            className: \"flex-1 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\",\n            children: \"Apply Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 9\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-md w-full relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowAddModal(false);\n            resetForm();\n          },\n          className: \"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M15 19l-7-7 7-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-6 text-center\",\n          children: \"Add New Appliance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mb-6 bg-gray-100 rounded-lg p-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEntryType('manual'),\n            className: `px-4 py-2 rounded-md text-sm font-medium transition-colors ${entryType === 'manual' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n            children: \"Manual Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEntryType('appliance'),\n            className: `px-4 py-2 rounded-md text-sm font-medium transition-colors ${entryType === 'appliance' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n            children: \"Appliance Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 804,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Appliance Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedAppliance,\n              onChange: e => setSelectedAppliance(e.target.value),\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose an appliance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 19\n              }, this), defaultAppliances.map(appliance => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: appliance.name,\n                children: appliance.name\n              }, appliance.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedRoom,\n              onChange: e => setSelectedRoom(e.target.value),\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 19\n              }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: room._id || room.id,\n                children: room.name\n              }, room._id || room.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 15\n          }, this), entryType === 'manual' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Energy Consumption (kWh)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: energy,\n              onChange: e => setEnergy(e.target.value),\n              placeholder: \"Enter energy consumption\",\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              step: \"0.1\",\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 17\n          }, this), entryType === 'appliance' && selectedAppliance && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-700\",\n              children: [\"Estimated consumption: \", (_defaultAppliances$fi2 = defaultAppliances.find(a => a.name === selectedAppliance)) === null || _defaultAppliances$fi2 === void 0 ? void 0 : _defaultAppliances$fi2.defaultEnergy, \" kWh\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 878,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 17\n          }, this), selectedAppliance && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 bg-blue-50 rounded-2xl p-4 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: (_defaultAppliances$fi3 = defaultAppliances.find(a => a.name === selectedAppliance)) === null || _defaultAppliances$fi3 === void 0 ? void 0 : _defaultAppliances$fi3.image,\n                alt: selectedAppliance,\n                className: \"w-full h-full object-contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleConfirm,\n          disabled: !selectedRoom || !selectedAppliance,\n          className: \"w-full mt-6 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\",\n          children: \"Add Appliance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 9\n    }, this), showEditModal && applianceToEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-md w-full relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setShowEditModal(false);\n            setApplianceToEdit(null);\n            resetForm();\n          },\n          className: \"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M15 19l-7-7 7-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-6 text-center\",\n          children: \"Edit Appliance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Appliance Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: applianceName,\n              onChange: e => setApplianceName(e.target.value),\n              placeholder: \"Enter appliance name\",\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Appliance Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedAppliance,\n              onChange: e => setSelectedAppliance(e.target.value),\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose an appliance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 945,\n                columnNumber: 19\n              }, this), defaultAppliances.map(appliance => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: appliance.name,\n                children: appliance.name\n              }, appliance.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedRoom,\n              onChange: e => setSelectedRoom(e.target.value),\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 19\n              }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: room._id || room.id,\n                children: room.name\n              }, room._id || room.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Energy Consumption (kWh)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: energy,\n              onChange: e => setEnergy(e.target.value),\n              placeholder: \"Enter energy consumption\",\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              step: \"0.1\",\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 15\n          }, this), selectedAppliance && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 bg-blue-50 rounded-2xl p-4 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: (_defaultAppliances$fi4 = defaultAppliances.find(a => a.name === selectedAppliance)) === null || _defaultAppliances$fi4 === void 0 ? void 0 : _defaultAppliances$fi4.image,\n                alt: selectedAppliance,\n                className: \"w-full h-full object-contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 987,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdateAppliance,\n          disabled: !selectedRoom || !selectedAppliance || !applianceName.trim(),\n          className: \"w-full mt-6 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\",\n          children: \"Update Appliance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 997,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 9\n    }, this), showAddHomeModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-md w-full relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddHomeModal(false),\n          className: \"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M15 19l-7-7 7-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1012,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-6 text-center\",\n          children: \"Create New Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Home Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newHomeName,\n            onChange: e => setNewHomeName(e.target.value),\n            placeholder: \"e.g., My Home, Apartment, Villa...\",\n            className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1023,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1021,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddHome,\n          disabled: !newHomeName.trim(),\n          className: \"w-full p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\",\n          children: \"Create Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1011,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1010,\n      columnNumber: 9\n    }, this), showDeleteHomeConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-sm w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Delete Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: homeToDelete === null || homeToDelete === void 0 ? void 0 : homeToDelete.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 47\n          }, this), \"? This action cannot be undone.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDeleteHomeConfirm(false);\n              setHomeToDelete(null);\n            },\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1051,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteHome(homeToDelete.index),\n            className: \"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1050,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1044,\n      columnNumber: 9\n    }, this), showDeleteApplianceConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-sm w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Delete Appliance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1074,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: applianceToDelete === null || applianceToDelete === void 0 ? void 0 : applianceToDelete.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 47\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDeleteApplianceConfirm(false);\n              setApplianceToDelete(null);\n            },\n            className: \"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteAppliance(applianceToDelete.id, applianceToDelete.index),\n            className: \"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1073,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1072,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[94%] max-w-[1200px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl font-bold text-white mb-2 tracking-wide\",\n            children: selectedHomeIndex === null ? 'MY HOMES' : ((_homes$selectedHomeIn2 = homes[selectedHomeIndex]) === null || _homes$selectedHomeIn2 === void 0 ? void 0 : (_homes$selectedHomeIn3 = _homes$selectedHomeIn2.name) === null || _homes$selectedHomeIn3 === void 0 ? void 0 : _homes$selectedHomeIn3.toUpperCase()) || 'APPLIANCES'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-blue-100 text-lg\",\n            children: selectedHomeIndex === null ? 'Manage your homes and their appliances' : `Manage appliances in ${(_homes$selectedHomeIn4 = homes[selectedHomeIndex]) === null || _homes$selectedHomeIn4 === void 0 ? void 0 : _homes$selectedHomeIn4.name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 11\n        }, this), selectedHomeIndex === null ?\n        /*#__PURE__*/\n        // Homes Grid View\n        _jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-white/20\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-500/80 text-white px-8 py-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-semibold\",\n                children: \"Your Homes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8\",\n            children: homes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: houseIcon,\n                  alt: \"No homes\",\n                  className: \"w-12 h-12 text-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-700 mb-2\",\n                children: \"No Homes Yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1128,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 mb-6\",\n                children: \"Create your first home to start adding appliances\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1129,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowAddHomeModal(true),\n                className: \"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors\",\n                children: \"Create Your First Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1130,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n              children: [homes.map((home, index) => /*#__PURE__*/_jsxDEV(HomeCard, {\n                home: home,\n                onSelect: () => handleSelectHome(index),\n                onDelete: () => {\n                  setHomeToDelete({\n                    name: home.name,\n                    index\n                  });\n                  setShowDeleteHomeConfirm(true);\n                }\n              }, home.id || `home-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1140,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setShowAddHomeModal(true),\n                className: \"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-dashed border-blue-200 hover:border-blue-300 min-h-[180px] group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-16 h-16 mb-4 flex items-center justify-center bg-white rounded-2xl p-3 group-hover:bg-blue-50 transition-colors\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"32\",\n                    height: \"32\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    className: \"text-blue-500\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M12 4v16m8-8H4\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"2\",\n                      strokeLinecap: \"round\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1157,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1156,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1155,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-blue-600 text-sm\",\n                    children: \"Add New Home\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: \"Click to create\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1162,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1160,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // Appliances Grid View\n        _jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-white/20\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600/80 text-white px-8 py-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleBackToHomes,\n                  className: \"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-4 h-4\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M15 19l-7-7 7-7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1180,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1179,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Back to Homes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1182,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1175,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-2xl font-semibold\",\n                  children: \"Appliances\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1184,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [hasActiveFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-medium\",\n                    children: \"Filters Active\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1189,\n                    columnNumber: 7\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setShowFilterModal(true),\n                    className: \"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: filterIcon,\n                      alt: \"Filter\",\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1197,\n                      columnNumber: 7\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Filter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1198,\n                      columnNumber: 7\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1193,\n                    columnNumber: 5\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1187,\n                  columnNumber: 3\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1174,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8\",\n            children: [hasActiveFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium text-blue-800\",\n                    children: \"Active Filters:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1212,\n                    columnNumber: 25\n                  }, this), filterType !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs\",\n                    children: [\"Type: \", filterType]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1214,\n                    columnNumber: 27\n                  }, this), filterRoom !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs\",\n                    children: [\"Room: \", (_rooms$find3 = rooms.find(r => (r._id || r.id) === filterRoom)) === null || _rooms$find3 === void 0 ? void 0 : _rooms$find3.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1219,\n                    columnNumber: 27\n                  }, this), filterEnergy !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 rounded-full text-xs ${filterEnergy === 'low' ? 'bg-green-100 text-green-800' : filterEnergy === 'medium' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: [\"Energy: \", filterEnergy]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1224,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1211,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetFilters,\n                  className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n                  children: \"Clear All\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1233,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1210,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1209,\n              columnNumber: 19\n            }, this), filteredAppliances.length === 0 && (((_homes$selectedHomeIn5 = homes[selectedHomeIndex]) === null || _homes$selectedHomeIn5 === void 0 ? void 0 : _homes$selectedHomeIn5.appliances) || []).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: filterIcon,\n                  alt: \"No results\",\n                  className: \"w-12 h-12 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1246,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-700 mb-2\",\n                children: \"No Matching Appliances\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1248,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 mb-6\",\n                children: \"Try adjusting your filters to see more results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: resetFilters,\n                className: \"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors\",\n                children: \"Reset Filters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 19\n            }, this) : filteredAppliances.length === 0 && (((_homes$selectedHomeIn6 = homes[selectedHomeIndex]) === null || _homes$selectedHomeIn6 === void 0 ? void 0 : _homes$selectedHomeIn6.appliances) || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: applianceIcon,\n                  alt: \"No appliances\",\n                  className: \"w-12 h-12 text-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1260,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1259,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-700 mb-2\",\n                children: \"No Appliances Yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 mb-6\",\n                children: \"Add your first appliance to start monitoring energy usage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1263,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowAddModal(true),\n                className: \"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors\",\n                children: \"Add Your First Appliance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1264,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1258,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(AddApplianceCard, {\n                onClick: () => setShowAddModal(true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 21\n              }, this), filteredAppliances.map((appliance, index) => /*#__PURE__*/_jsxDEV(ApplianceCard, {\n                name: appliance.name,\n                type: appliance.type,\n                image: appliance.image,\n                energy: appliance.energy_threshold,\n                onDelete: () => {\n                  setApplianceToDelete({\n                    id: appliance.id,\n                    name: appliance.name,\n                    index\n                  });\n                  setShowDeleteApplianceConfirm(true);\n                },\n                onEdit: () => handleEditAppliance(appliance, index)\n              }, appliance.id || `appliance-${appliance.name}-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1272,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 586,\n    columnNumber: 5\n  }, this);\n};\n_s(Appliance, \"YqOwb8prqlWbh6iq/J/sIMI/1Yc=\");\n_c5 = Appliance;\nexport default Appliance;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"NavItem\");\n$RefreshReg$(_c2, \"ApplianceCard\");\n$RefreshReg$(_c3, \"AddApplianceCard\");\n$RefreshReg$(_c4, \"HomeCard\");\n$RefreshReg$(_c5, \"Appliance\");","map":{"version":3,"names":["React","useState","useEffect","dashboardIcon","applianceIcon","profileIcon","logoutIcon","deleteIcon","editIcon","houseIcon","airconIcon","kitchenIcon","lightIcon","speakerIcon","televisionIcon","filterIcon","jsxDEV","_jsxDEV","NavItem","onClick","src","label","className","title","children","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","ApplianceCard","name","type","image","onDelete","onEdit","energy","e","stopPropagation","style","filter","_c2","AddApplianceCard","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","_c3","HomeCard","home","onSelect","_home$appliances","_home$appliances2","appliances","length","_c4","Appliance","onSwitch","_s","_defaultAppliances$fi2","_defaultAppliances$fi3","_defaultAppliances$fi4","_homes$selectedHomeIn2","_homes$selectedHomeIn3","_homes$selectedHomeIn4","_rooms$find3","_homes$selectedHomeIn5","_homes$selectedHomeIn6","showLogoutConfirm","setShowLogoutConfirm","showAddModal","setShowAddModal","showEditModal","setShowEditModal","entryType","setEntryType","selectedAppliance","setSelectedAppliance","selectedRoom","setSelectedRoom","setEnergy","applianceName","setApplianceName","homes","setHomes","showAddHomeModal","setShowAddHomeModal","newHomeName","setNewHomeName","selectedHomeIndex","setSelectedHomeIndex","showDeleteHomeConfirm","setShowDeleteHomeConfirm","homeToDelete","setHomeToDelete","showDeleteApplianceConfirm","setShowDeleteApplianceConfirm","applianceToDelete","setApplianceToDelete","applianceToEdit","setApplianceToEdit","errorMessage","setErrorMessage","rooms","setRooms","showFilterModal","setShowFilterModal","filterType","setFilterType","filterRoom","setFilterRoom","filterEnergy","setFilterEnergy","defaultAppliances","id","defaultEnergy","category","API_BASE","loadAppliancesForHome","homeId","index","token","localStorage","getItem","res","fetch","headers","Authorization","ok","Error","data","json","prev","copy","map","a","_a$roomId","_defaultAppliances$fi","_id","energy_threshold","roomId","roomName","find","da","err","console","error","message","fetchHomesAndAppliances","normalized","h","i","savedIndex","Number","setItem","removeItem","fetchRooms","getFilteredAppliances","appliance","energyValue","handleSelectHome","handleBackToHomes","handleConfirm","_homes$selectedHomeIn","baseApplianceName","existingAppliances","sameNameCount","startsWith","finalName","calculatedEnergy","undefined","baseAppliance","payload","method","body","JSON","stringify","_copy$selectedHomeInd","_rooms$find","existing","r","handleUpdateAppliance","applianceIndex","findIndex","_rooms$find2","handleEditAppliance","_appliance$energy_thr","toString","handleAddHome","trim","newHomes","handleDeleteHome","errorData","_","handleDeleteAppliance","applianceId","resetForm","resetFilters","filteredAppliances","hasActiveFilters","strokeLinejoin","value","onChange","target","room","required","placeholder","step","min","disabled","toUpperCase","_c5","$RefreshReg$"],"sources":["C:/MERN-project/frontend/src/components/Appliance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Import SVGs as URLs (CRA-compatible)\r\nimport dashboardIcon from '../assets/icons/dashboard.svg';\r\nimport applianceIcon from '../assets/icons/add.svg'; \r\nimport profileIcon from '../assets/icons/profile.svg';\r\nimport logoutIcon from '../assets/icons/logout.svg';\r\nimport deleteIcon from '../assets/icons/delete.svg';\r\nimport editIcon from '../assets/icons/edit.svg';\r\nimport houseIcon from '../assets/icons/house.svg';\r\nimport airconIcon from '../assets/icons/aircon.svg';\r\nimport kitchenIcon from '../assets/icons/kitchen.svg';\r\nimport lightIcon from '../assets/icons/light.svg';\r\nimport speakerIcon from '../assets/icons/speaker.svg';\r\nimport televisionIcon from '../assets/icons/television.svg';\r\nimport filterIcon from '../assets/icons/filter.svg';\r\n\r\n// NavItem Component\r\nconst NavItem = ({ onClick, src, label }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className=\"w-12 h-12 flex items-center justify-center rounded-md mb-3 \r\n               bg-blue-500 bg-opacity-100 text-white cursor-pointer \r\n               hover:bg-blue-500 hover:bg-opacity-70 hover:text-yellow-300 \r\n               transition-all duration-200\"\r\n    title={label}\r\n  >\r\n    <img src={src} alt={label} className=\"w-6 h-6\" />\r\n  </div>\r\n);\r\n\r\n// Improved Appliance Card with better styling and edit functionality\r\nconst ApplianceCard = ({ name, type, image, onDelete, onEdit, energy }) => (\r\n  <div className=\"bg-white rounded-xl shadow-lg p-6 flex flex-col items-center justify-between hover:shadow-xl transition-all duration-300 cursor-pointer relative group border border-gray-100 min-h-[180px]\">\r\n    <div className=\"absolute top-3 right-3 flex space-x-1\">\r\n      <button\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          onEdit();\r\n        }}\r\n        className=\"bg-blue-500 hover:bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-md\"\r\n      >\r\n        <img src={editIcon} alt=\"Edit\" className=\"w-4 h-4\" />\r\n      </button>\r\n      <button\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          onDelete();\r\n        }}\r\n        className=\"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-md\"\r\n      >\r\n        <img src={deleteIcon} alt=\"Delete\" className=\"w-4 h-4\" />\r\n      </button>\r\n    </div>\r\n    \r\n    <div className=\"flex flex-col items-center flex-1 justify-center\">\r\n      <div className=\"w-16 h-16 mb-4 flex items-center justify-center bg-blue-50 rounded-2xl p-3\">\r\n        <img src={image} alt={name} className=\"w-full h-full object-contain\" style={{ filter: 'brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(2000%) hue-rotate(210deg) brightness(90%) contrast(90%)' }} />\r\n      </div>\r\n      <div className=\"text-center\">\r\n        <div className=\"font-semibold text-gray-800 text-sm mb-1\">{name}</div>\r\n        <div className=\"text-xs text-gray-500 capitalize\">{type}</div>\r\n        {energy && (\r\n          <div className=\"text-xs text-blue-600 font-medium mt-1\">\r\n            {energy} kWh\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Improved Add Card\r\nconst AddApplianceCard = ({ onClick }) => (\r\n  <div \r\n    onClick={onClick}\r\n    className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-dashed border-blue-200 hover:border-blue-300 min-h-[180px] group\"\r\n  >\r\n    <div className=\"w-16 h-16 mb-4 flex items-center justify-center bg-white rounded-2xl p-3 group-hover:bg-blue-50 transition-colors\">\r\n      <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"text-blue-500\">\r\n        <path d=\"M12 5v14m-7-7h14\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n      </svg>\r\n    </div>\r\n    <div className=\"text-center\">\r\n      <div className=\"font-semibold text-blue-600 text-sm\">Add New Appliance</div>\r\n      <div className=\"text-xs text-gray-500 mt-1\">Click to add</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Improved Home Card\r\nconst HomeCard = ({ home, onSelect, onDelete }) => (\r\n  <div className=\"bg-white rounded-xl shadow-lg p-6 flex flex-col items-center justify-between hover:shadow-xl transition-all duration-300 cursor-pointer relative group border border-gray-100 min-h-[180px]\">\r\n    <button\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        onDelete();\r\n      }}\r\n      className=\"absolute top-3 right-3 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-md\"\r\n    >\r\n      <img src={deleteIcon} alt=\"Delete\" className=\"w-4 h-4\" />\r\n    </button>\r\n    \r\n    <div className=\"flex flex-col items-center flex-1 justify-center\">\r\n      <div className=\"w-16 h-16 mb-4 flex items-center justify-center bg-blue-50 rounded-2xl p-3\">\r\n        <img src={houseIcon} alt=\"Home\" className=\"w-full h-full object-contain filter-blue\" style={{ filter: 'brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(2000%) hue-rotate(210deg) brightness(90%) contrast(90%)' }} />\r\n      </div>\r\n      <div className=\"text-center\">\r\n        <div className=\"font-semibold text-gray-800 text-sm mb-1\">{home.name}</div>\r\n        <div className=\"text-xs text-gray-500\">\r\n          {home.appliances?.length || 0} appliance{(home.appliances?.length || 0) !== 1 ? 's' : ''}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <button\r\n      onClick={onSelect}\r\n      className=\"w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors duration-200\"\r\n    >\r\n      View Appliances\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst Appliance = ({ onSwitch }) => {\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [entryType, setEntryType] = useState('manual');\r\n  const [selectedAppliance, setSelectedAppliance] = useState('');\r\n  const [selectedRoom, setSelectedRoom] = useState('');\r\n  const [energy, setEnergy] = useState('');\r\n  const [applianceName, setApplianceName] = useState('');\r\n  const [homes, setHomes] = useState([]);\r\n  const [showAddHomeModal, setShowAddHomeModal] = useState(false);\r\n  const [newHomeName, setNewHomeName] = useState('');\r\n  const [selectedHomeIndex, setSelectedHomeIndex] = useState(null);\r\n  const [showDeleteHomeConfirm, setShowDeleteHomeConfirm] = useState(false);\r\n  const [homeToDelete, setHomeToDelete] = useState(null);\r\n  const [showDeleteApplianceConfirm, setShowDeleteApplianceConfirm] = useState(false);\r\n  const [applianceToDelete, setApplianceToDelete] = useState(null);\r\n  const [applianceToEdit, setApplianceToEdit] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [rooms, setRooms] = useState([]);\r\n  const [showFilterModal, setShowFilterModal] = useState(false);\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [filterRoom, setFilterRoom] = useState('all');\r\n  const [filterEnergy, setFilterEnergy] = useState('all');\r\n\r\n  // Updated default appliances with proper icons\r\n  const defaultAppliances = [\r\n    { \r\n      id: 'default-fridge', \r\n      name: 'Refrigerator', \r\n      image: kitchenIcon, \r\n      defaultEnergy: 1.5,\r\n      category: 'Kitchen'\r\n    },\r\n    { \r\n      id: 'default-television', \r\n      name: 'Television', \r\n      image: televisionIcon, \r\n      defaultEnergy: 0.5,\r\n      category: 'Entertainment'\r\n    },\r\n    { \r\n      id: 'default-ac', \r\n      name: 'Air Conditioner', \r\n      image: airconIcon, \r\n      defaultEnergy: 3.0,\r\n      category: 'Cooling'\r\n    },\r\n    { \r\n      id: 'default-lights', \r\n      name: 'Lighting', \r\n      image: lightIcon, \r\n      defaultEnergy: 0.1,\r\n      category: 'Lighting'\r\n    },\r\n    { \r\n      id: 'default-speaker', \r\n      name: 'Speaker', \r\n      image: speakerIcon, \r\n      defaultEnergy: 0.2,\r\n      category: 'Entertainment'\r\n    },\r\n  ];\r\n\r\n  const API_BASE = 'http://localhost:5000/api';\r\n\r\n  const loadAppliancesForHome = async (homeId, index) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n    try {\r\n      const res = await fetch(`${API_BASE}/appliances?homeId=${homeId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (!res.ok) throw new Error('Failed to fetch appliances');\r\n      const data = await res.json();\r\n      setHomes((prev) => {\r\n        const copy = [...prev];\r\n        copy[index] = {\r\n          ...copy[index],\r\n          appliances: data.map((a) => ({\r\n            id: a._id || a.id,\r\n            name: a.name,\r\n            type: a.type,\r\n            energy_threshold: a.energy_threshold,\r\n            roomId: a.roomId,\r\n            roomName: a.roomId?.name || 'Unknown Room',\r\n            image: defaultAppliances.find((da) => da.name === a.type)?.image || houseIcon,\r\n          })),\r\n        };\r\n        return copy;\r\n      });\r\n    } catch (err) {\r\n      console.error('Load appliances error', err.message || err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchHomesAndAppliances = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n      try {\r\n        const res = await fetch(`${API_BASE}/homes`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (!res.ok) throw new Error('Failed to fetch homes');\r\n        const data = await res.json();\r\n        const normalized = data.map((h) => ({\r\n          id: h._id || h.id,\r\n          name: h.name,\r\n          appliances: [],\r\n        }));\r\n        setHomes(normalized);\r\n\r\n        for (let i = 0; i < normalized.length; i++) {\r\n          await loadAppliancesForHome(normalized[i].id, i);\r\n        }\r\n\r\n        const savedIndex = localStorage.getItem('selectedHomeIndex');\r\n        if (savedIndex !== null && Number(savedIndex) < normalized.length) {\r\n          setSelectedHomeIndex(Number(savedIndex));\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching homes:', error);\r\n      }\r\n    };\r\n    fetchHomesAndAppliances();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedHomeIndex !== null) {\r\n      localStorage.setItem('selectedHomeIndex', selectedHomeIndex);\r\n    } else {\r\n      localStorage.removeItem('selectedHomeIndex');\r\n    }\r\n  }, [selectedHomeIndex]);\r\n\r\n  useEffect(() => {\r\n    const fetchRooms = async () => {\r\n      if (selectedHomeIndex === null || !homes[selectedHomeIndex]) {\r\n        setRooms([]);\r\n        return;\r\n      }\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n      const homeId = homes[selectedHomeIndex].id;\r\n      try {\r\n        const res = await fetch(`${API_BASE}/rooms?homeId=${homeId}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (!res.ok) throw new Error('Failed to fetch rooms');\r\n        const data = await res.json();\r\n        setRooms(data);\r\n      } catch (err) {\r\n        console.error('Fetch rooms error:', err);\r\n        setRooms([]);\r\n      }\r\n    };\r\n    fetchRooms();\r\n  }, [selectedHomeIndex, homes]);\r\n\r\n  // Filter appliances based on selected filters\r\n  const getFilteredAppliances = () => {\r\n    if (selectedHomeIndex === null || !homes[selectedHomeIndex]) return [];\r\n    \r\n    const appliances = homes[selectedHomeIndex].appliances || [];\r\n    \r\n    return appliances.filter(appliance => {\r\n      // Filter by type\r\n      if (filterType !== 'all' && appliance.type !== filterType) {\r\n        return false;\r\n      }\r\n      \r\n      // Filter by room\r\n      if (filterRoom !== 'all' && appliance.roomId !== filterRoom) {\r\n        return false;\r\n      }\r\n      \r\n      // Filter by energy consumption\r\n      if (filterEnergy !== 'all') {\r\n        const energyValue = appliance.energy_threshold || 0;\r\n        switch (filterEnergy) {\r\n          case 'low':\r\n            if (energyValue > 1) return false;\r\n            break;\r\n          case 'medium':\r\n            if (energyValue <= 1 || energyValue > 3) return false;\r\n            break;\r\n          case 'high':\r\n            if (energyValue <= 3) return false;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    });\r\n  };\r\n\r\n  const handleSelectHome = (index) => {\r\n    setSelectedHomeIndex(index);\r\n    // Reset filters when switching homes\r\n    setFilterType('all');\r\n    setFilterRoom('all');\r\n    setFilterEnergy('all');\r\n  };\r\n\r\n  const handleBackToHomes = () => {\r\n    setSelectedHomeIndex(null);\r\n    localStorage.removeItem('selectedHomeIndex');\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return onSwitch && onSwitch('login');\r\n    if (selectedHomeIndex === null) {\r\n      console.error('No home selected');\r\n      setShowAddModal(false);\r\n      return;\r\n    }\r\n    if (!selectedRoom) {\r\n      setErrorMessage('Please select a room');\r\n      return;\r\n    }\r\n    const home = homes[selectedHomeIndex];\r\n    \r\n    const baseApplianceName = selectedAppliance || 'Custom Appliance';\r\n    const existingAppliances = homes[selectedHomeIndex]?.appliances || [];\r\n    const sameNameCount = existingAppliances.filter((a) => a.name.startsWith(baseApplianceName)).length;\r\n    const finalName = sameNameCount > 0 ? `${baseApplianceName} ${sameNameCount + 1}` : baseApplianceName;\r\n\r\n    let calculatedEnergy;\r\n    if (entryType === 'manual') {\r\n      calculatedEnergy = energy ? Number(energy) : undefined;\r\n    } else if (entryType === 'appliance') {\r\n      const baseAppliance = defaultAppliances.find((a) => a.name === baseApplianceName);\r\n      calculatedEnergy = baseAppliance ? baseAppliance.defaultEnergy : undefined;\r\n    }\r\n\r\n    const payload = {\r\n      homeId: home.id || home._id,\r\n      roomId: selectedRoom,\r\n      name: finalName,\r\n      type: baseApplianceName,\r\n      energy_threshold: calculatedEnergy,\r\n    };\r\n    try {\r\n      const res = await fetch(`${API_BASE}/appliances`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.error || 'Create appliance failed');\r\n\r\n      const baseAppliance = defaultAppliances.find((a) => a.name === baseApplianceName);\r\n      \r\n      setHomes((prev) => {\r\n        const copy = [...prev];\r\n        const existing = copy[selectedHomeIndex]?.appliances || [];\r\n        copy[selectedHomeIndex] = {\r\n          ...copy[selectedHomeIndex],\r\n          appliances: [\r\n            ...existing,\r\n            {\r\n              id: data._id || data.id,\r\n              name: data.name,\r\n              type: data.type,\r\n              energy_threshold: data.energy_threshold,\r\n              roomId: data.roomId,\r\n              roomName: rooms.find(r => (r._id || r.id) === data.roomId)?.name || 'Unknown Room',\r\n              image: baseAppliance ? baseAppliance.image : houseIcon,\r\n            },\r\n          ],\r\n        };\r\n        return copy;\r\n      });\r\n      setErrorMessage('');\r\n    } catch (err) {\r\n      console.error('Create appliance error', err.message || err);\r\n      setErrorMessage(err.message || 'Failed to add appliance');\r\n    }\r\n\r\n    setShowAddModal(false);\r\n    setSelectedAppliance('');\r\n    setSelectedRoom('');\r\n    setEnergy('');\r\n  };\r\n\r\n  const handleUpdateAppliance = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return onSwitch && onSwitch('login');\r\n    if (!applianceToEdit) return;\r\n\r\n    const payload = {\r\n      name: applianceName,\r\n      type: selectedAppliance,\r\n      energy_threshold: energy ? Number(energy) : undefined,\r\n      roomId: selectedRoom,\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/appliances/${applianceToEdit.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.error || 'Update appliance failed');\r\n\r\n      // Update the appliance in state\r\n      setHomes((prev) => {\r\n        const copy = [...prev];\r\n        const applianceIndex = copy[selectedHomeIndex].appliances.findIndex(\r\n          (a) => a.id === applianceToEdit.id\r\n        );\r\n        if (applianceIndex !== -1) {\r\n          copy[selectedHomeIndex].appliances[applianceIndex] = {\r\n            ...copy[selectedHomeIndex].appliances[applianceIndex],\r\n            name: data.name,\r\n            type: data.type,\r\n            energy_threshold: data.energy_threshold,\r\n            roomId: data.roomId,\r\n            roomName: rooms.find(r => (r._id || r.id) === data.roomId)?.name || 'Unknown Room',\r\n          };\r\n        }\r\n        return copy;\r\n      });\r\n\r\n      setShowEditModal(false);\r\n      setApplianceToEdit(null);\r\n      setErrorMessage('');\r\n    } catch (err) {\r\n      console.error('Update appliance error', err.message || err);\r\n      setErrorMessage(err.message || 'Failed to update appliance');\r\n    }\r\n  };\r\n\r\n  const handleEditAppliance = (appliance, index) => {\r\n    setApplianceToEdit({ ...appliance, index });\r\n    setApplianceName(appliance.name);\r\n    setSelectedAppliance(appliance.type);\r\n    setSelectedRoom(appliance.roomId || '');\r\n    setEnergy(appliance.energy_threshold?.toString() || '');\r\n    setEntryType('manual'); // Default to manual for editing\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  const handleAddHome = async () => {\r\n    const name = newHomeName.trim();\r\n    if (!name) return;\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return onSwitch && onSwitch('login');\r\n    try {\r\n      const res = await fetch(`${API_BASE}/homes`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify({ name }),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.error || 'Create home failed');\r\n\r\n      setHomes((prev) => {\r\n        const newHomes = [...prev, { id: data.id || data._id, name: data.name, appliances: [] }];\r\n        setSelectedHomeIndex(newHomes.length - 1);\r\n        return newHomes;\r\n      });\r\n      setNewHomeName('');\r\n      setShowAddHomeModal(false);\r\n    } catch (err) {\r\n      console.error('Create home error', err.message || err);\r\n      setErrorMessage(err.message || 'Failed to add home');\r\n    }\r\n  };\r\n\r\n  const handleDeleteHome = async (index) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n\r\n    const home = homes[index];\r\n    try {\r\n      const res = await fetch(`${API_BASE}/homes/${home.id}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json();\r\n        throw new Error(errorData.error || 'Delete home failed');\r\n      }\r\n\r\n      setHomes((prev) => prev.filter((_, i) => i !== index));\r\n\r\n      if (selectedHomeIndex === index) {\r\n        setSelectedHomeIndex(null);\r\n        localStorage.removeItem('selectedHomeIndex');\r\n      } else if (selectedHomeIndex > index) {\r\n        setSelectedHomeIndex(selectedHomeIndex - 1);\r\n      }\r\n\r\n      setShowDeleteHomeConfirm(false);\r\n      setHomeToDelete(null);\r\n    } catch (err) {\r\n      console.error('Delete home error:', err.message || err);\r\n      setErrorMessage(err.message || 'Failed to delete home');\r\n    }\r\n  };\r\n\r\n  const handleDeleteAppliance = async (applianceId, applianceIndex) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/appliances/${applianceId}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json();\r\n        throw new Error(errorData.error || 'Delete appliance failed');\r\n      }\r\n\r\n      setHomes((prev) => {\r\n        const copy = [...prev];\r\n        copy[selectedHomeIndex] = {\r\n          ...copy[selectedHomeIndex],\r\n          appliances: copy[selectedHomeIndex].appliances.filter((_, i) => i !== applianceIndex),\r\n        };\r\n        return copy;\r\n      });\r\n\r\n      setShowDeleteApplianceConfirm(false);\r\n      setApplianceToDelete(null);\r\n    } catch (err) {\r\n      console.error('Delete appliance error:', err.message || err);\r\n      setErrorMessage(err.message || 'Failed to delete appliance');\r\n    }\r\n  };\r\n\r\n  // Reset form when modals close\r\n  const resetForm = () => {\r\n    setSelectedAppliance('');\r\n    setSelectedRoom('');\r\n    setEnergy('');\r\n    setApplianceName('');\r\n    setEntryType('manual');\r\n    setErrorMessage('');\r\n  };\r\n\r\n  // Reset filters\r\n  const resetFilters = () => {\r\n    setFilterType('all');\r\n    setFilterRoom('all');\r\n    setFilterEnergy('all');\r\n  };\r\n\r\n  const filteredAppliances = getFilteredAppliances();\r\n  const hasActiveFilters = filterType !== 'all' || filterRoom !== 'all' || filterEnergy !== 'all';\r\n\r\n  return (\r\n    <div className=\"h-screen w-screen overflow-hidden relative font-sans bg-gray-50\">\r\n      <div className=\"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1501183638710-841dd1904471?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170')] bg-cover bg-center\" />\r\n      <div className=\"absolute inset-0 bg-black opacity-60 backdrop-blur-sm\" />\r\n\r\n      {/* Sidebar */}\r\n      <aside className=\"fixed left-0 top-0 h-full z-30 flex items-center\">\r\n        <div className=\"relative h-64 w-32 flex items-center group cursor-pointer\">\r\n          <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-12 h-12 bg-blue-600 rounded-r-full flex items-center justify-center shadow-lg transition-all duration-300 z-10\r\n                          group-hover:opacity-0 group-hover:-translate-x-8\">\r\n            <svg\r\n              className=\"w-5 h-5 text-white transition-transform group-hover:scale-110\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-16 opacity-0 invisible \r\n                          group-hover:translate-x-8 group-hover:opacity-100 group-hover:visible \r\n                          transition-all duration-300 ease-out pointer-events-auto\">\r\n            <div className=\"bg-white p-3 rounded-lg shadow-lg flex flex-col items-center backdrop-blur-sm\">\r\n              <NavItem onClick={() => onSwitch('dashboard')} src={dashboardIcon} label=\"Dashboard\" />\r\n              <NavItem onClick={() => onSwitch('appliance')} src={applianceIcon} label=\"Appliances\" />\r\n              <NavItem onClick={() => onSwitch('profile')} src={profileIcon} label=\"Profile\" />\r\n              <NavItem onClick={() => setShowLogoutConfirm(true)} src={logoutIcon} label=\"Logout\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Error Toast */}\r\n      {errorMessage && (\r\n        <div className=\"fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50 flex items-center space-x-3 max-w-sm\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"font-medium\">Error</div>\r\n            <div className=\"text-sm opacity-90\">{errorMessage}</div>\r\n          </div>\r\n          <button \r\n            onClick={() => setErrorMessage('')} \r\n            className=\"text-white hover:text-gray-200 transition-colors\"\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modals */}\r\n      {showLogoutConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-sm mx-4 w-full\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Confirm Logout</h3>\r\n            <p className=\"text-gray-600 mb-6 text-center\">Are you sure you want to logout?</p>\r\n            <div className=\"flex justify-center items-center gap-4\">\r\n              <button\r\n                onClick={() => setShowLogoutConfirm(false)}\r\n                className=\"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => onSwitch('login')}\r\n                className=\"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Filter Modal */}\r\n      {showFilterModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full relative\">\r\n            <button\r\n              onClick={() => setShowFilterModal(false)}\r\n              className=\"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6 text-center\">Filter Appliances</h3>\r\n\r\n            <div className=\"space-y-6\">\r\n              {/* Filter by Type */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">Appliance Type</label>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <button\r\n                    onClick={() => setFilterType('all')}\r\n                    className={`p-3 rounded-lg border-2 text-sm font-medium transition-colors ${\r\n                      filterType === 'all' \r\n                        ? 'bg-blue-500 text-white border-blue-500' \r\n                        : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-blue-300'\r\n                    }`}\r\n                  >\r\n                    All Types\r\n                  </button>\r\n                  {defaultAppliances.map((appliance) => (\r\n                    <button\r\n                      key={appliance.id}\r\n                      onClick={() => setFilterType(appliance.name)}\r\n                      className={`p-3 rounded-lg border-2 text-sm font-medium transition-colors ${\r\n                        filterType === appliance.name \r\n                          ? 'bg-blue-500 text-white border-blue-500' \r\n                          : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-blue-300'\r\n                      }`}\r\n                    >\r\n                      {appliance.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Filter by Room */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">Room</label>\r\n                <select\r\n                  value={filterRoom}\r\n                  onChange={(e) => setFilterRoom(e.target.value)}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                >\r\n                  <option value=\"all\">All Rooms</option>\r\n                  {rooms.map((room) => (\r\n                    <option key={room._id || room.id} value={room._id || room.id}>\r\n                      {room.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Filter by Energy Consumption */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">Energy Consumption</label>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <button\r\n                    onClick={() => setFilterEnergy('all')}\r\n                    className={`p-3 rounded-lg border-2 text-sm font-medium transition-colors ${\r\n                      filterEnergy === 'all' \r\n                        ? 'bg-blue-500 text-white border-blue-500' \r\n                        : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-blue-300'\r\n                    }`}\r\n                  >\r\n                    All Energy\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilterEnergy('low')}\r\n                    className={`p-3 rounded-lg border-2 text-sm font-medium transition-colors ${\r\n                      filterEnergy === 'low' \r\n                        ? 'bg-green-500 text-white border-green-500' \r\n                        : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-green-300'\r\n                    }`}\r\n                  >\r\n                    Low (&lt;1 kWh)\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilterEnergy('medium')}\r\n                    className={`p-3 rounded-lg border-2 text-sm font-medium transition-colors ${\r\n                      filterEnergy === 'medium' \r\n                        ? 'bg-yellow-500 text-white border-yellow-500' \r\n                        : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-yellow-300'\r\n                    }`}\r\n                  >\r\n                    Medium (1-3 kWh)\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFilterEnergy('high')}\r\n                    className={`p-3 rounded-lg border-2 text-sm font-medium transition-colors ${\r\n                      filterEnergy === 'high' \r\n                        ? 'bg-red-500 text-white border-red-500' \r\n                        : 'bg-gray-100 text-gray-700 border-gray-200 hover:border-red-300'\r\n                    }`}\r\n                  >\r\n                    High (&gt;3 kWh)\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                onClick={resetFilters}\r\n                className=\"flex-1 p-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\r\n              >\r\n                Reset Filters\r\n              </button>\r\n              <button\r\n                onClick={() => setShowFilterModal(false)}\r\n                className=\"flex-1 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n              >\r\n                Apply Filters\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Appliance Modal */}\r\n      {showAddModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full relative\">\r\n            <button\r\n              onClick={() => {\r\n                setShowAddModal(false);\r\n                resetForm();\r\n              }}\r\n              className=\"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6 text-center\">Add New Appliance</h3>\r\n            \r\n            <div className=\"flex justify-center mb-6 bg-gray-100 rounded-lg p-1\">\r\n              <button\r\n                onClick={() => setEntryType('manual')}\r\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                  entryType === 'manual' \r\n                    ? 'bg-white text-blue-600 shadow-sm' \r\n                    : 'text-gray-600 hover:text-gray-800'\r\n                }`}\r\n              >\r\n                Manual Entry\r\n              </button>\r\n              <button\r\n                onClick={() => setEntryType('appliance')}\r\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                  entryType === 'appliance' \r\n                    ? 'bg-white text-blue-600 shadow-sm' \r\n                    : 'text-gray-600 hover:text-gray-800'\r\n                }`}\r\n              >\r\n                Appliance Type\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Appliance Type</label>\r\n                <select\r\n                  value={selectedAppliance}\r\n                  onChange={(e) => setSelectedAppliance(e.target.value)}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                >\r\n                  <option value=\"\">Choose an appliance</option>\r\n                  {defaultAppliances.map((appliance) => (\r\n                    <option key={appliance.id} value={appliance.name}>\r\n                      {appliance.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Room</label>\r\n                <select\r\n                  value={selectedRoom}\r\n                  onChange={(e) => setSelectedRoom(e.target.value)}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Select a room</option>\r\n                  {rooms.map((room) => (\r\n                    <option key={room._id || room.id} value={room._id || room.id}>\r\n                      {room.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {entryType === 'manual' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Energy Consumption (kWh)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={energy}\r\n                    onChange={(e) => setEnergy(e.target.value)}\r\n                    placeholder=\"Enter energy consumption\"\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                    step=\"0.1\"\r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {entryType === 'appliance' && selectedAppliance && (\r\n                <div className=\"bg-blue-50 rounded-lg p-4\">\r\n                  <div className=\"text-sm text-blue-700\">\r\n                    Estimated consumption: {defaultAppliances.find(a => a.name === selectedAppliance)?.defaultEnergy} kWh\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {selectedAppliance && (\r\n                <div className=\"flex justify-center\">\r\n                  <div className=\"w-20 h-20 bg-blue-50 rounded-2xl p-4 flex items-center justify-center\">\r\n                    <img\r\n                      src={defaultAppliances.find((a) => a.name === selectedAppliance)?.image}\r\n                      alt={selectedAppliance}\r\n                      className=\"w-full h-full object-contain\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleConfirm}\r\n              disabled={!selectedRoom || !selectedAppliance}\r\n              className=\"w-full mt-6 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n            >\r\n              Add Appliance\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Appliance Modal */}\r\n      {showEditModal && applianceToEdit && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full relative\">\r\n            <button\r\n              onClick={() => {\r\n                setShowEditModal(false);\r\n                setApplianceToEdit(null);\r\n                resetForm();\r\n              }}\r\n              className=\"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6 text-center\">Edit Appliance</h3>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Appliance Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={applianceName}\r\n                  onChange={(e) => setApplianceName(e.target.value)}\r\n                  placeholder=\"Enter appliance name\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Appliance Type</label>\r\n                <select\r\n                  value={selectedAppliance}\r\n                  onChange={(e) => setSelectedAppliance(e.target.value)}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                >\r\n                  <option value=\"\">Choose an appliance</option>\r\n                  {defaultAppliances.map((appliance) => (\r\n                    <option key={appliance.id} value={appliance.name}>\r\n                      {appliance.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Room</label>\r\n                <select\r\n                  value={selectedRoom}\r\n                  onChange={(e) => setSelectedRoom(e.target.value)}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Select a room</option>\r\n                  {rooms.map((room) => (\r\n                    <option key={room._id || room.id} value={room._id || room.id}>\r\n                      {room.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Energy Consumption (kWh)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={energy}\r\n                  onChange={(e) => setEnergy(e.target.value)}\r\n                  placeholder=\"Enter energy consumption\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                  step=\"0.1\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n\r\n              {selectedAppliance && (\r\n                <div className=\"flex justify-center\">\r\n                  <div className=\"w-20 h-20 bg-blue-50 rounded-2xl p-4 flex items-center justify-center\">\r\n                    <img\r\n                      src={defaultAppliances.find((a) => a.name === selectedAppliance)?.image}\r\n                      alt={selectedAppliance}\r\n                      className=\"w-full h-full object-contain\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleUpdateAppliance}\r\n              disabled={!selectedRoom || !selectedAppliance || !applianceName.trim()}\r\n              className=\"w-full mt-6 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n            >\r\n              Update Appliance\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Home Modal */}\r\n      {showAddHomeModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full relative\">\r\n            <button\r\n              onClick={() => setShowAddHomeModal(false)}\r\n              className=\"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n            </button>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-6 text-center\">Create New Home</h3>\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Home Name</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newHomeName}\r\n                onChange={(e) => setNewHomeName(e.target.value)}\r\n                placeholder=\"e.g., My Home, Apartment, Villa...\"\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={handleAddHome}\r\n              disabled={!newHomeName.trim()}\r\n              className=\"w-full p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n            >\r\n              Create Home\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modals */}\r\n      {showDeleteHomeConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-sm w-full\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Delete Home</h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Are you sure you want to delete <strong>{homeToDelete?.name}</strong>? This action cannot be undone.\r\n            </p>\r\n            <div className=\"flex justify-center items-center gap-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowDeleteHomeConfirm(false);\r\n                  setHomeToDelete(null);\r\n                }}\r\n                className=\"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => handleDeleteHome(homeToDelete.index)}\r\n                className=\"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showDeleteApplianceConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl p-6 max-w-sm w-full\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Delete Appliance</h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Are you sure you want to delete <strong>{applianceToDelete?.name}</strong>?\r\n            </p>\r\n            <div className=\"flex justify-center items-center gap-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowDeleteApplianceConfirm(false);\r\n                  setApplianceToDelete(null);\r\n                }}\r\n                className=\"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => handleDeleteAppliance(applianceToDelete.id, applianceToDelete.index)}\r\n                className=\"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"relative z-10 h-full w-full flex items-start justify-center overflow-y-auto py-8\">\r\n        <div className=\"w-[94%] max-w-[1200px]\">\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-4xl font-bold text-white mb-2 tracking-wide\">\r\n              {selectedHomeIndex === null ? 'MY HOMES' : homes[selectedHomeIndex]?.name?.toUpperCase() || 'APPLIANCES'}\r\n            </h1>\r\n            <p className=\"text-blue-100 text-lg\">\r\n              {selectedHomeIndex === null \r\n                ? 'Manage your homes and their appliances' \r\n                : `Manage appliances in ${homes[selectedHomeIndex]?.name}`}\r\n            </p>\r\n          </div>\r\n\r\n          {selectedHomeIndex === null ? (\r\n            // Homes Grid View\r\n            <div className=\"bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-white/20\">\r\n              <div className=\"bg-blue-500/80 text-white px-8 py-6\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h2 className=\"text-2xl font-semibold\">Your Homes</h2>\r\n                  {/* REMOVED the extra Add Home button from here */}\r\n                </div>\r\n              </div>\r\n              <div className=\"p-8\">\r\n                {homes.length === 0 ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <div className=\"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                      <img src={houseIcon} alt=\"No homes\" className=\"w-12 h-12 text-blue-500\" />\r\n                    </div>\r\n                    <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">No Homes Yet</h3>\r\n                    <p className=\"text-gray-500 mb-6\">Create your first home to start adding appliances</p>\r\n                    <button\r\n                      onClick={() => setShowAddHomeModal(true)}\r\n                      className=\"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                      Create Your First Home\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n                    {homes.map((home, index) => (\r\n                      <HomeCard\r\n                        key={home.id || `home-${index}`}\r\n                        home={home}\r\n                        onSelect={() => handleSelectHome(index)}\r\n                        onDelete={() => {\r\n                          setHomeToDelete({ name: home.name, index });\r\n                          setShowDeleteHomeConfirm(true);\r\n                        }}\r\n                      />\r\n                    ))}\r\n                    {/* Add Home Card */}\r\n                    <div \r\n                      onClick={() => setShowAddHomeModal(true)}\r\n                      className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-dashed border-blue-200 hover:border-blue-300 min-h-[180px] group\"\r\n                    >\r\n                      <div className=\"w-16 h-16 mb-4 flex items-center justify-center bg-white rounded-2xl p-3 group-hover:bg-blue-50 transition-colors\">\r\n                        <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"text-blue-500\">\r\n                          <path d=\"M12 4v16m8-8H4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n                        </svg>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <div className=\"font-semibold text-blue-600 text-sm\">Add New Home</div>\r\n                        <div className=\"text-xs text-gray-500 mt-1\">Click to create</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            // Appliances Grid View\r\n            <div className=\"bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-white/20\">\r\n              <div className=\"bg-blue-600/80 text-white px-8 py-6\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <button \r\n                      onClick={handleBackToHomes}\r\n                      className=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2\"\r\n                    >\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n                      </svg>\r\n                      <span>Back to Homes</span>\r\n                    </button>\r\n                    <h2 className=\"text-2xl font-semibold\">Appliances</h2>\r\n                    \r\n                      {/* Filter Button and Active Filters Indicator - MOVED TO TOP RIGHT */}\r\n  <div className=\"flex items-center space-x-3\">\r\n    {hasActiveFilters && (\r\n      <div className=\"bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-medium\">\r\n        Filters Active\r\n      </div>\r\n    )}\r\n    <button\r\n      onClick={() => setShowFilterModal(true)}\r\n      className=\"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2\"\r\n    >\r\n      <img src={filterIcon} alt=\"Filter\" className=\"w-4 h-4\" />\r\n      <span>Filter</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n                  \r\n                  {/* REMOVED the extra Add Appliance button from here */}\r\n                </div>\r\n              </div>\r\n              <div className=\"p-8\">\r\n                {/* Filter Summary */}\r\n                {hasActiveFilters && (\r\n                  <div className=\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <span className=\"text-sm font-medium text-blue-800\">Active Filters:</span>\r\n                        {filterType !== 'all' && (\r\n                          <span className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs\">\r\n                            Type: {filterType}\r\n                          </span>\r\n                        )}\r\n                        {filterRoom !== 'all' && (\r\n                          <span className=\"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs\">\r\n                            Room: {rooms.find(r => (r._id || r.id) === filterRoom)?.name}\r\n                          </span>\r\n                        )}\r\n                        {filterEnergy !== 'all' && (\r\n                          <span className={`px-3 py-1 rounded-full text-xs ${\r\n                            filterEnergy === 'low' ? 'bg-green-100 text-green-800' :\r\n                            filterEnergy === 'medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                            'bg-red-100 text-red-800'\r\n                          }`}>\r\n                            Energy: {filterEnergy}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      <button\r\n                        onClick={resetFilters}\r\n                        className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\r\n                      >\r\n                        Clear All\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {(filteredAppliances.length === 0 && (homes[selectedHomeIndex]?.appliances || []).length > 0) ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                      <img src={filterIcon} alt=\"No results\" className=\"w-12 h-12 text-gray-400\" />\r\n                    </div>\r\n                    <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">No Matching Appliances</h3>\r\n                    <p className=\"text-gray-500 mb-6\">Try adjusting your filters to see more results</p>\r\n                    <button\r\n                      onClick={resetFilters}\r\n                      className=\"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                      Reset Filters\r\n                    </button>\r\n                  </div>\r\n                ) : (filteredAppliances.length === 0 && (homes[selectedHomeIndex]?.appliances || []).length === 0) ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <div className=\"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                      <img src={applianceIcon} alt=\"No appliances\" className=\"w-12 h-12 text-blue-500\" />\r\n                    </div>\r\n                    <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">No Appliances Yet</h3>\r\n                    <p className=\"text-gray-500 mb-6\">Add your first appliance to start monitoring energy usage</p>\r\n                    <button\r\n                      onClick={() => setShowAddModal(true)}\r\n                      className=\"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                      Add Your First Appliance\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6\">\r\n                    <AddApplianceCard onClick={() => setShowAddModal(true)} />\r\n                    {filteredAppliances.map((appliance, index) => (\r\n                      <ApplianceCard\r\n                        key={appliance.id || `appliance-${appliance.name}-${index}`}\r\n                        name={appliance.name}\r\n                        type={appliance.type}\r\n                        image={appliance.image}\r\n                        energy={appliance.energy_threshold}\r\n                        onDelete={() => {\r\n                          setApplianceToDelete({ id: appliance.id, name: appliance.name, index });\r\n                          setShowDeleteApplianceConfirm(true);\r\n                        }}\r\n                        onEdit={() => handleEditAppliance(appliance, index)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Appliance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}